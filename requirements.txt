# ==============================================================================
# TEP Control System - Consolidated Requirements
# ==============================================================================
# Location: TEP_control/requirements.txt
# Python Version: 3.13+
# Virtual Environment: .venv/ (hidden directory)
#
# Installation:
#   python3 -m venv .venv
#   source .venv/bin/activate  # On macOS/Linux
#   pip install --upgrade pip
#   pip install -r requirements.txt
# ==============================================================================

# ------------------------------------------------------------------------------
# Core Python Utilities
# ------------------------------------------------------------------------------
python-dotenv>=1.0.0          # Environment variable management
psutil>=5.9.0                 # System and process utilities

# ------------------------------------------------------------------------------
# Web Frameworks
# ------------------------------------------------------------------------------
# FastAPI - Modern async web framework for backend API
fastapi>=0.100.0
uvicorn>=0.20.0
python-multipart>=0.0.6       # For file upload support
starlette>=0.27.0

# Flask - Traditional web framework for unified console
Flask>=2.0.0
Werkzeug>=3.0.0
Jinja2>=3.1.0
itsdangerous>=2.0.0
blinker>=1.6.0
click>=8.0.0

# ------------------------------------------------------------------------------
# HTTP and Networking
# ------------------------------------------------------------------------------
requests>=2.31.0              # HTTP library
httpx>=0.24.0                 # Async HTTP client
httpcore>=1.0.0
h11>=0.14.0

# ------------------------------------------------------------------------------
# Data Processing and Analysis
# ------------------------------------------------------------------------------
numpy>=1.24.0                 # Numerical computing
pandas>=2.0.0                 # Data manipulation and analysis
scipy>=1.10.0                 # Scientific computing
scikit-learn>=1.3.0           # Machine learning algorithms

# ------------------------------------------------------------------------------
# Machine Learning and Deep Learning
# ------------------------------------------------------------------------------
# PyTorch - Deep learning framework (Apple M3 optimized)
torch>=2.1.0
transformers>=4.36.0          # Hugging Face transformers
accelerate>=0.25.0            # Training acceleration
tokenizers>=0.15.0            # Fast tokenizers
safetensors>=0.4.0            # Safe tensor serialization

# Hugging Face Hub
huggingface-hub>=0.19.0
filelock>=3.13.0
fsspec>=2023.10.0
hf-xet>=1.0.0

# ------------------------------------------------------------------------------
# LLM API Clients
# ------------------------------------------------------------------------------
# OpenAI - GPT models
openai>=1.30.0

# Anthropic - Claude models
anthropic>=0.60.0

# Google Generative AI - Gemini models
google-generativeai>=0.8.0
google-api-core>=2.11.0
google-api-python-client>=2.100.0
google-auth>=2.23.0
google-auth-httplib2>=0.2.0
googleapis-common-protos>=1.60.0
google-ai-generativelanguage>=0.6.0
grpcio>=1.59.0
grpcio-status>=1.59.0
proto-plus>=1.22.0
protobuf>=4.25.0

# ------------------------------------------------------------------------------
# PDF Processing (Knowledge Base / RAG)
# ------------------------------------------------------------------------------
PyMuPDF>=1.23.0              # PDF parsing and conversion (fitz)
                             # Required by: RAG/pdf_to_markdown_converter.py

reportlab>=4.0.0             # PDF generation for RCA reports
                             # Required by: backend/report_generator.py

# ------------------------------------------------------------------------------
# LLM APIs
# ------------------------------------------------------------------------------
google-genai>=0.2.0          # Google Gemini API (NEW SDK with timeout support)
                             # Required by: backend/multi_llm_client.py
                             # Replaces: google-generativeai (deprecated)

# ------------------------------------------------------------------------------
# Visualization
# ------------------------------------------------------------------------------
matplotlib>=3.7.0             # Plotting library
plotly>=5.15.0               # Interactive plots
pillow>=10.0.0               # Image processing

# Supporting visualization libraries
contourpy>=1.2.0
cycler>=0.12.0
fonttools>=4.40.0
kiwisolver>=1.4.5
pyparsing>=3.1.0

# ------------------------------------------------------------------------------
# UI Framework
# ------------------------------------------------------------------------------
PyQt5>=5.15.0                # Qt5 bindings for Python
PyQt5-Qt5>=5.15.0
PyQt5-sip>=12.12.0

# ------------------------------------------------------------------------------
# Development and Testing
# ------------------------------------------------------------------------------
pytest>=6.0.0                # Testing framework
iniconfig>=2.0.0
pluggy>=1.3.0

# ------------------------------------------------------------------------------
# Data Validation and Type Checking
# ------------------------------------------------------------------------------
pydantic>=2.5.0              # Data validation using Python type hints
pydantic-core>=2.14.0
annotated-types>=0.6.0
typing-extensions>=4.9.0
typing-inspection>=0.4.0     # Fixed: 0.9.0 doesn't exist, max is 0.4.2

# ------------------------------------------------------------------------------
# Async and Concurrency
# ------------------------------------------------------------------------------
anyio>=4.0.0                 # Async library compatibility layer
sniffio>=1.3.0

# ------------------------------------------------------------------------------
# Utilities and Helpers
# ------------------------------------------------------------------------------
# Date and Time
python-dateutil>=2.8.0
pytz>=2023.3
tzdata>=2023.3

# Networking and Security
certifi>=2023.7.0            # Root certificates
charset-normalizer>=3.3.0    # Character encoding detection
idna>=3.4                    # Internationalized domain names
urllib3>=2.0.0

# Parsing and Processing
docstring-parser>=0.15       # Parse Python docstrings
regex>=2023.10.0             # Advanced regex
six>=1.16.0                  # Python 2/3 compatibility

# Progress and Display
tqdm>=4.66.0                 # Progress bars
Pygments>=2.16.0             # Syntax highlighting

# Math and Symbolic Computing
sympy>=1.12                  # Symbolic mathematics
mpmath>=1.3.0                # Multi-precision arithmetic
networkx>=3.2                # Graph/network algorithms
joblib>=1.3.0                # Parallel computing utilities

# Data Structures
cachetools>=5.3.0            # Caching utilities
narwhals>=1.0.0              # DataFrame interchange

# Google API Support
pyasn1>=0.5.0
pyasn1-modules>=0.3.0
rsa>=4.9
uritemplate>=4.1.0

# Configuration and Parsing
PyYAML>=6.0.0                # YAML parser

# Low-level utilities
distro>=1.8.0                # Linux distribution detection
jiter>=0.5.0                 # Fast JSON iteration
packaging>=23.2              # Package version handling
threadpoolctl>=3.2.0         # Thread pool control

# Misc
MarkupSafe>=2.1.0            # String escaping

# ------------------------------------------------------------------------------
# Optional: RAG System (Uncomment if using ChromaDB)
# ------------------------------------------------------------------------------
# If you plan to use vector database and embeddings:
# chromadb>=0.4.0
# sentence-transformers>=2.2.0

# ------------------------------------------------------------------------------
# Notes
# ------------------------------------------------------------------------------
# - This file replaces the old separate requirements files:
#   - TEP_control/requirements.txt (deprecated)
#   - TEP_control/backend/requirements.txt (deprecated)
#   - TEP_control/backend/requirements_rag.txt (deprecated)
#
# - PyMuPDF is required (not optional) for PDF conversion in RAG system
# - PyPDF2 was removed in favor of PyMuPDF for better performance
# - All packages are pinned to minimum versions (>=) for flexibility
#
# - To update all packages: pip install --upgrade -r requirements.txt
# - To freeze exact versions: pip freeze > requirements-lock.txt
# ==============================================================================
