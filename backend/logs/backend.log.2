2025-10-17 01:25:25,638 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:25:25,641 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 01:25:29,027 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:32,856 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:33,644 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689533.644297, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:25:33,653 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:25:33,653 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 01:25:36,683 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:40,517 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:40,645 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689540.645453, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:25:40,654 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:25:40,654 WARNING üö´ LLM request blocked: Too soon (wait 15.0s more, min interval: 60s)
2025-10-17 01:25:44,349 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:48,180 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:48,638 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689548.63789, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:25:48,642 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:25:48,642 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:25:52,020 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:55,856 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:25:56,762 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689556.762453, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:25:56,767 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:25:56,768 INFO ‚úÖ LLM request allowed: OK (last request 61.2s ago)
2025-10-17 01:25:56,768 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:25:56,771 INFO feature comparison prepared
2025-10-17 01:25:59,699 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:03,545 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:03,794 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689563.794179, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:03,799 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:03,800 WARNING üö´ LLM request blocked: Too soon (wait 53.0s more, min interval: 60s)
2025-10-17 01:26:07,388 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:11,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:11,785 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689571.784938, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:11,790 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:11,791 WARNING üö´ LLM request blocked: Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 01:26:15,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:18,937 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:19,786 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689579.786099, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:19,790 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:19,790 WARNING üö´ LLM request blocked: Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 01:26:22,793 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:26,644 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:26,804 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689586.804197, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:26,810 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:26,811 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 01:26:30,493 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:34,345 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:34,804 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689594.804499, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:34,809 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:34,810 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 01:26:38,209 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:42,066 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:42,814 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689602.814123, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:42,819 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:42,819 WARNING üö´ LLM request blocked: Too soon (wait 13.9s more, min interval: 60s)
2025-10-17 01:26:45,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:26:48,859 INFO ‚úÖ LLM analysis completed in 174.96s
2025-10-17 01:26:48,859 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:26:48,859 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:26:48,859 INFO üîì LLM analysis flag cleared after 174.96s
2025-10-17 01:26:49,787 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:26:50,819 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689610.819487, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:50,823 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:50,823 WARNING üö´ LLM request blocked: Too soon (wait 5.9s more, min interval: 60s)
2025-10-17 01:26:53,651 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.1s more, min interval: 60s)
2025-10-17 01:26:57,515 INFO ‚úÖ LLM request allowed - OK (last request 60.7s ago)
2025-10-17 01:26:57,516 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:26:57,516 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:26:57,516 INFO üîç Analysis flag set at 01:26:57
2025-10-17 01:26:57,516 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:26:57,834 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689617.834471, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:26:57,840 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:26:57,841 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-17 01:27:05,837 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689625.837603, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:05,842 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:05,843 WARNING üö´ LLM request blocked: Too soon (wait 51.7s more, min interval: 60s)
2025-10-17 01:27:09,118 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:12,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:13,865 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689633.86561, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:13,871 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:13,871 WARNING üö´ LLM request blocked: Too soon (wait 43.6s more, min interval: 60s)
2025-10-17 01:27:16,859 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:20,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:21,855 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689641.855102, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:21,859 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:21,859 WARNING üö´ LLM request blocked: Too soon (wait 35.7s more, min interval: 60s)
2025-10-17 01:27:24,619 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:28,497 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:28,861 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689648.8614988, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:28,867 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:28,867 WARNING üö´ LLM request blocked: Too soon (wait 28.6s more, min interval: 60s)
2025-10-17 01:27:31,028 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:27:31,028 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:27:31,029 INFO üìä lmstudio - status: success, has_analysis: True
2025-10-17 01:27:31,029 INFO ‚úÖ Saved lmstudio analysis to MD file (/explain)
2025-10-17 01:27:31,030 INFO ‚úÖ Saved analysis to history (id: 1760689651029)
2025-10-17 01:27:31,030 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:27:32,375 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:36,256 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:36,866 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689656.8659189, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:36,871 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:36,871 WARNING üö´ LLM request blocked: Too soon (wait 20.6s more, min interval: 60s)
2025-10-17 01:27:40,125 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:44,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:44,880 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689664.880082, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:44,885 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:44,885 WARNING üö´ LLM request blocked: Too soon (wait 12.6s more, min interval: 60s)
2025-10-17 01:27:47,890 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:51,775 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:52,885 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689672.8851352, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:52,888 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:52,889 WARNING üö´ LLM request blocked: Too soon (wait 4.6s more, min interval: 60s)
2025-10-17 01:27:55,664 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:59,554 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:27:59,895 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689679.895488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:27:59,900 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:27:59,900 INFO ‚úÖ LLM request allowed: OK (last request 62.4s ago)
2025-10-17 01:27:59,900 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:27:59,903 INFO feature comparison prepared
2025-10-17 01:28:03,444 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:07,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:07,908 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689687.908632, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:07,913 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:07,913 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 01:28:11,231 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:15,125 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:15,909 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689695.9094882, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:15,914 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:15,914 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:28:19,028 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:22,929 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:23,919 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689703.919221, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:23,924 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:23,924 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 01:28:26,832 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:30,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:30,934 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689710.934454, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:30,939 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:30,939 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 01:28:34,634 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:38,545 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:38,943 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689718.943584, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:38,949 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:38,949 WARNING üö´ LLM request blocked: Too soon (wait 21.0s more, min interval: 60s)
2025-10-17 01:28:42,459 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:46,368 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:28:46,965 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689726.9649348, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:46,970 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:46,970 WARNING üö´ LLM request blocked: Too soon (wait 12.9s more, min interval: 60s)
2025-10-17 01:28:48,313 INFO ‚úÖ LLM analysis completed in 110.80s
2025-10-17 01:28:48,314 INFO ‚úÖ Saved lmstudio analysis to MD file
2025-10-17 01:28:48,314 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:28:48,316 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:28:48,316 INFO üîì LLM analysis flag cleared after 110.80s
2025-10-17 01:28:50,279 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.6s more, min interval: 60s)
2025-10-17 01:28:54,187 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.7s more, min interval: 60s)
2025-10-17 01:28:54,960 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689734.960753, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:28:54,965 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:28:54,965 WARNING üö´ LLM request blocked: Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 01:28:58,099 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.8s more, min interval: 60s)
2025-10-17 01:29:02,016 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-17 01:29:02,016 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:29:02,017 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:29:02,017 INFO üîç Analysis flag set at 01:29:02
2025-10-17 01:29:02,017 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:29:02,963 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689742.9635682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:02,968 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:02,968 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-17 01:29:10,955 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689750.955283, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:10,960 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:10,960 WARNING üö´ LLM request blocked: Too soon (wait 51.1s more, min interval: 60s)
2025-10-17 01:29:13,771 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:17,696 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:17,982 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689757.9820402, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:17,986 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:17,987 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:29:21,620 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:25,545 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:25,990 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689765.990635, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:25,995 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:25,995 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 01:29:29,468 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:33,393 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:34,003 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689774.003554, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:34,009 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:34,009 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 01:29:37,319 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:41,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:42,008 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689782.007905, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:42,013 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:42,013 WARNING üö´ LLM request blocked: Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 01:29:45,179 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:49,112 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:50,014 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689790.0145159, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:50,019 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:50,020 WARNING üö´ LLM request blocked: Too soon (wait 12.0s more, min interval: 60s)
2025-10-17 01:29:53,045 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:56,982 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:29:58,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689798.0225, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:29:58,026 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:29:58,027 WARNING üö´ LLM request blocked: Too soon (wait 4.0s more, min interval: 60s)
2025-10-17 01:30:00,916 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:04,857 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:05,033 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689805.033818, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:05,038 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:05,039 INFO ‚úÖ LLM request allowed: OK (last request 63.0s ago)
2025-10-17 01:30:05,039 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:30:05,042 INFO feature comparison prepared
2025-10-17 01:30:08,800 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:09,607 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:30:09,607 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:30:09,607 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:30:09,608 INFO ‚úÖ Saved analysis to history (id: 1760689809608)
2025-10-17 01:30:09,608 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:30:12,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:13,041 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689813.0409322, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:13,045 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:13,046 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 01:30:16,680 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:20,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:21,041 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689821.041554, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:21,046 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:21,046 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:30:24,569 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:28,515 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:29,053 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689829.053194, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:29,057 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:29,057 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 01:30:32,466 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:36,417 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:37,065 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689837.06493, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:37,069 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:37,069 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 01:30:40,367 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:44,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:45,077 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689845.077687, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:45,083 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:45,083 WARNING üö´ LLM request blocked: Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 01:30:48,282 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:52,241 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:30:53,084 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689853.084626, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:30:53,089 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:30:53,089 WARNING üö´ LLM request blocked: Too soon (wait 11.9s more, min interval: 60s)
2025-10-17 01:30:56,200 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:00,162 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:01,091 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689861.091062, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:01,095 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:01,095 WARNING üö´ LLM request blocked: Too soon (wait 3.9s more, min interval: 60s)
2025-10-17 01:31:04,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:08,089 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:09,103 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689869.103183, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:09,108 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:09,108 INFO ‚úÖ LLM request allowed: OK (last request 64.1s ago)
2025-10-17 01:31:09,108 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:31:09,111 INFO feature comparison prepared
2025-10-17 01:31:12,048 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:16,013 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:17,110 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689877.109843, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:17,114 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:17,115 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 01:31:19,983 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:23,953 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:24,110 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689884.110355, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:24,115 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:24,115 WARNING üö´ LLM request blocked: Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 01:31:27,925 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:31,897 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:32,121 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689892.121203, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:32,126 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:32,126 WARNING üö´ LLM request blocked: Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 01:31:35,875 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:39,851 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:40,130 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689900.130044, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:40,135 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:40,135 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 01:31:43,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:47,807 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:48,136 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689908.1368692, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:48,141 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:48,141 WARNING üö´ LLM request blocked: Too soon (wait 21.0s more, min interval: 60s)
2025-10-17 01:31:51,791 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:55,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:31:56,155 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689916.155704, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:31:56,161 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:31:56,161 WARNING üö´ LLM request blocked: Too soon (wait 12.9s more, min interval: 60s)
2025-10-17 01:31:59,756 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:02,018 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:32:02,018 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:32:02,019 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:32:02,019 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 01:32:03,743 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-17 01:32:04,156 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689924.156769, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:04,161 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:04,161 WARNING üö´ LLM request blocked: Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 01:32:07,731 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.4s more, min interval: 60s)
2025-10-17 01:32:11,713 INFO ‚úÖ LLM request allowed - OK (last request 62.6s ago)
2025-10-17 01:32:11,713 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:32:11,714 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:32:11,714 INFO üîç Analysis flag set at 01:32:11
2025-10-17 01:32:11,714 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:32:12,160 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689932.160804, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:12,165 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:12,166 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:32:20,172 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689940.172294, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:20,177 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:20,177 WARNING üö´ LLM request blocked: Too soon (wait 51.5s more, min interval: 60s)
2025-10-17 01:32:23,695 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:27,690 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:28,183 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689948.1834738, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:28,188 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:28,189 WARNING üö´ LLM request blocked: Too soon (wait 43.5s more, min interval: 60s)
2025-10-17 01:32:31,686 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:35,686 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:36,190 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689956.189912, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:36,195 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:36,195 WARNING üö´ LLM request blocked: Too soon (wait 35.5s more, min interval: 60s)
2025-10-17 01:32:39,680 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:43,677 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:44,204 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689964.204353, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:44,209 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:44,210 WARNING üö´ LLM request blocked: Too soon (wait 27.5s more, min interval: 60s)
2025-10-17 01:32:47,677 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:51,684 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:52,214 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689972.214456, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:32:52,219 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:32:52,219 WARNING üö´ LLM request blocked: Too soon (wait 19.5s more, min interval: 60s)
2025-10-17 01:32:55,693 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:32:59,701 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:00,217 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689980.217453, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:00,221 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:00,222 WARNING üö´ LLM request blocked: Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 01:33:03,706 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:07,717 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:08,228 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689988.228396, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:08,233 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:08,233 WARNING üö´ LLM request blocked: Too soon (wait 3.5s more, min interval: 60s)
2025-10-17 01:33:11,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:15,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:16,235 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760689996.235202, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:16,239 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:16,240 INFO ‚úÖ LLM request allowed: OK (last request 64.5s ago)
2025-10-17 01:33:16,240 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:33:16,243 INFO feature comparison prepared
2025-10-17 01:33:19,763 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:23,782 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:24,245 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690004.245394, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:24,249 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:24,249 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 01:33:27,800 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:31,824 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:32,257 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690012.257012, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:32,262 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:32,262 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:33:35,848 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:35,919 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:33:35,920 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:33:35,920 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:33:35,920 INFO ‚úÖ Saved analysis to history (id: 1760690015920)
2025-10-17 01:33:35,920 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:33:39,871 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:40,264 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690020.2647328, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:40,270 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:40,270 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 01:33:43,897 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:47,929 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:48,276 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690028.275973, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:48,280 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:48,281 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 01:33:51,956 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:55,985 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:33:56,286 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690036.2867131, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:33:56,291 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:33:56,292 WARNING üö´ LLM request blocked: Too soon (wait 19.9s more, min interval: 60s)
2025-10-17 01:34:00,013 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:04,047 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:04,294 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690044.294488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:04,299 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:04,299 WARNING üö´ LLM request blocked: Too soon (wait 11.9s more, min interval: 60s)
2025-10-17 01:34:08,082 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:12,121 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:12,314 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690052.313983, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:12,318 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:12,318 WARNING üö´ LLM request blocked: Too soon (wait 3.9s more, min interval: 60s)
2025-10-17 01:34:16,155 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:20,217 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:21,319 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690061.319042, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:21,324 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:21,324 INFO ‚úÖ LLM request allowed: OK (last request 65.1s ago)
2025-10-17 01:34:21,324 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:34:21,328 INFO feature comparison prepared
2025-10-17 01:34:24,258 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:28,305 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:29,337 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690069.337058, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:29,341 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:29,341 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 01:34:32,353 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:36,399 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:37,352 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690077.3519099, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:37,356 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:37,357 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:34:40,453 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:44,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:45,369 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690085.369358, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:45,374 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:45,374 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 01:34:48,553 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:52,616 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:34:53,386 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690093.386722, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:34:53,391 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:34:53,392 WARNING üö´ LLM request blocked: Too soon (wait 27.9s more, min interval: 60s)
2025-10-17 01:34:56,667 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:00,725 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:01,403 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690101.403677, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:01,409 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:01,409 WARNING üö´ LLM request blocked: Too soon (wait 19.9s more, min interval: 60s)
2025-10-17 01:35:04,791 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:08,851 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:09,418 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690109.418591, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:09,423 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:09,424 WARNING üö´ LLM request blocked: Too soon (wait 11.9s more, min interval: 60s)
2025-10-17 01:35:11,721 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:35:11,721 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:35:11,723 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:35:11,723 INFO üîì LLM analysis flag cleared after 180.01s
2025-10-17 01:35:12,913 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 01:35:16,979 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.3s more, min interval: 60s)
2025-10-17 01:35:17,436 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690117.43624, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:17,441 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:17,441 WARNING üö´ LLM request blocked: Too soon (wait 3.9s more, min interval: 60s)
2025-10-17 01:35:21,038 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.3s more, min interval: 60s)
2025-10-17 01:35:25,103 INFO ‚úÖ LLM request allowed - OK (last request 63.8s ago)
2025-10-17 01:35:25,104 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:35:25,104 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:35:25,104 INFO üîç Analysis flag set at 01:35:25
2025-10-17 01:35:25,104 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:35:25,447 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690125.44674, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:25,451 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:25,451 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-17 01:35:33,461 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690133.461121, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:33,466 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:33,467 WARNING üö´ LLM request blocked: Too soon (wait 51.6s more, min interval: 60s)
2025-10-17 01:35:37,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:41,402 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:42,478 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690142.478826, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:42,484 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:42,484 WARNING üö´ LLM request blocked: Too soon (wait 42.6s more, min interval: 60s)
2025-10-17 01:35:45,483 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:49,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:50,497 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690150.497066, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:50,502 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:50,502 WARNING üö´ LLM request blocked: Too soon (wait 34.6s more, min interval: 60s)
2025-10-17 01:35:53,642 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:57,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:35:58,513 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690158.5133948, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:35:58,517 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:35:58,517 WARNING üö´ LLM request blocked: Too soon (wait 26.6s more, min interval: 60s)
2025-10-17 01:36:01,811 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:05,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:06,527 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690166.527582, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:06,533 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:06,533 WARNING üö´ LLM request blocked: Too soon (wait 18.6s more, min interval: 60s)
2025-10-17 01:36:09,059 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:36:09,060 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:36:09,060 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:36:09,062 INFO ‚úÖ Saved analysis to history (id: 1760690169060)
2025-10-17 01:36:09,062 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:36:09,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:14,060 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:14,543 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690174.542814, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:14,548 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:14,548 WARNING üö´ LLM request blocked: Too soon (wait 10.6s more, min interval: 60s)
2025-10-17 01:36:18,151 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:22,235 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:22,551 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690182.5517619, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:22,556 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:22,556 WARNING üö´ LLM request blocked: Too soon (wait 2.5s more, min interval: 60s)
2025-10-17 01:36:26,338 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:30,434 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:30,563 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690190.5635998, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:30,568 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:30,568 INFO ‚úÖ LLM request allowed: OK (last request 65.5s ago)
2025-10-17 01:36:30,568 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:36:30,570 INFO feature comparison prepared
2025-10-17 01:36:34,525 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:35,568 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690195.568746, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:35,574 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:35,574 WARNING üö´ LLM request blocked: Too soon (wait 55.0s more, min interval: 60s)
2025-10-17 01:36:38,626 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:42,727 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:43,586 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690203.586485, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:43,591 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:43,591 WARNING üö´ LLM request blocked: Too soon (wait 47.0s more, min interval: 60s)
2025-10-17 01:36:46,825 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:50,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:51,602 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690211.602556, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:51,608 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:51,608 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 01:36:55,029 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:59,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:36:59,612 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690219.612057, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:36:59,617 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:36:59,618 WARNING üö´ LLM request blocked: Too soon (wait 31.0s more, min interval: 60s)
2025-10-17 01:37:03,246 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:07,358 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:07,628 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690227.628073, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:07,633 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:07,633 WARNING üö´ LLM request blocked: Too soon (wait 22.9s more, min interval: 60s)
2025-10-17 01:37:11,452 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:13,129 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:37:13,129 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:37:13,129 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:37:13,131 INFO ‚úÖ Saved analysis to history (id: 1760690233129)
2025-10-17 01:37:13,131 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:37:15,555 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:16,645 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690236.6456552, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:16,652 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:16,652 WARNING üö´ LLM request blocked: Too soon (wait 13.9s more, min interval: 60s)
2025-10-17 01:37:19,661 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:23,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:24,654 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690244.654189, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:24,659 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:24,659 WARNING üö´ LLM request blocked: Too soon (wait 5.9s more, min interval: 60s)
2025-10-17 01:37:27,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:32,000 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:32,672 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690252.6725051, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:32,677 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:32,677 INFO ‚úÖ LLM request allowed: OK (last request 62.1s ago)
2025-10-17 01:37:32,678 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:37:32,681 INFO feature comparison prepared
2025-10-17 01:37:36,120 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:40,244 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:40,688 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690260.6880739, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:40,693 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:40,694 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 01:37:44,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:48,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:48,701 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690268.7009962, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:48,705 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:48,705 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:37:52,613 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:37:53,707 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690273.7073169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:37:53,713 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:37:53,713 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 01:37:56,744 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:00,860 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:01,744 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690281.744593, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:01,758 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:01,758 WARNING üö´ LLM request blocked: Too soon (wait 30.9s more, min interval: 60s)
2025-10-17 01:38:04,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:09,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:09,737 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690289.737655, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:09,741 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:09,742 WARNING üö´ LLM request blocked: Too soon (wait 22.9s more, min interval: 60s)
2025-10-17 01:38:13,253 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:17,372 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:17,756 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690297.755785, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:17,761 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:17,761 WARNING üö´ LLM request blocked: Too soon (wait 14.9s more, min interval: 60s)
2025-10-17 01:38:21,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:25,106 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:38:25,107 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:38:25,108 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:38:25,108 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 01:38:25,632 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:38:25,769 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690305.769375, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:25,775 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:25,775 WARNING üö´ LLM request blocked: Too soon (wait 6.9s more, min interval: 60s)
2025-10-17 01:38:29,774 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.9s more, min interval: 60s)
2025-10-17 01:38:30,775 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690310.775329, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:30,781 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:30,781 WARNING üö´ LLM request blocked: Too soon (wait 1.9s more, min interval: 60s)
2025-10-17 01:38:33,918 INFO ‚úÖ LLM request allowed - OK (last request 61.2s ago)
2025-10-17 01:38:33,919 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:38:33,920 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:38:33,920 INFO üîç Analysis flag set at 01:38:33
2025-10-17 01:38:33,920 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:38:38,790 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690318.7900438, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:38,795 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:38,795 WARNING üö´ LLM request blocked: Too soon (wait 55.1s more, min interval: 60s)
2025-10-17 01:38:46,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:46,813 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690326.813392, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:46,819 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:46,819 WARNING üö´ LLM request blocked: Too soon (wait 47.1s more, min interval: 60s)
2025-10-17 01:38:50,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:54,623 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:54,826 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690334.8260028, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:54,832 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:54,832 WARNING üö´ LLM request blocked: Too soon (wait 39.1s more, min interval: 60s)
2025-10-17 01:38:58,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:38:59,827 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690339.8271081, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:38:59,833 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:38:59,833 WARNING üö´ LLM request blocked: Too soon (wait 34.1s more, min interval: 60s)
2025-10-17 01:39:02,925 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:39:07,079 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:39:07,843 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690347.8434381, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:39:07,849 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:39:07,849 WARNING üö´ LLM request blocked: Too soon (wait 26.1s more, min interval: 60s)
2025-10-17 01:39:11,240 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:39:15,405 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:39:16,619 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690356.619615, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:39:16,661 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:39:16,662 WARNING üö´ LLM request blocked: Too soon (wait 17.3s more, min interval: 60s)
2025-10-17 01:39:19,572 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:39:20,262 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:39:20,262 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:39:20,262 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:39:20,263 INFO ‚úÖ Saved analysis to history (id: 1760690360262)
2025-10-17 01:39:20,263 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:39:23,736 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:39:24,620 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690364.620526, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:39:24,693 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:39:24,693 WARNING üö´ LLM request blocked: Too soon (wait 9.2s more, min interval: 60s)
2025-10-17 01:39:27,900 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:02,987 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690402.986912, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:03,004 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:03,004 INFO ‚úÖ LLM request allowed: OK (last request 89.1s ago)
2025-10-17 01:40:03,004 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:40:03,006 INFO feature comparison prepared
2025-10-17 01:40:05,102 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:09,355 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:11,111 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690411.111243, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:11,176 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:11,176 WARNING üö´ LLM request blocked: Too soon (wait 51.8s more, min interval: 60s)
2025-10-17 01:40:13,527 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:17,701 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:18,658 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690418.6580238, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:18,721 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:18,721 WARNING üö´ LLM request blocked: Too soon (wait 44.3s more, min interval: 60s)
2025-10-17 01:40:21,878 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:26,051 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:27,568 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690427.5682611, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:27,595 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:27,595 WARNING üö´ LLM request blocked: Too soon (wait 35.4s more, min interval: 60s)
2025-10-17 01:40:30,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:34,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:35,020 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690435.020096, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:35,026 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:35,026 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 01:40:38,667 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:42,845 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:42,988 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690442.988394, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:42,993 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:42,993 WARNING üö´ LLM request blocked: Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 01:40:47,021 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:48,000 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690447.9999712, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:48,006 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:48,006 WARNING üö´ LLM request blocked: Too soon (wait 15.0s more, min interval: 60s)
2025-10-17 01:40:51,203 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:55,379 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:40:56,011 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690456.010823, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:40:56,015 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:40:56,016 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:40:58,378 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:40:58,378 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:40:58,378 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:40:58,379 INFO ‚úÖ Saved analysis to history (id: 1760690458378)
2025-10-17 01:40:58,379 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:40:59,562 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:03,752 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:04,012 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690464.01184, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:04,020 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:04,021 INFO ‚úÖ LLM request allowed: OK (last request 61.0s ago)
2025-10-17 01:41:04,021 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:41:04,025 INFO feature comparison prepared
2025-10-17 01:41:07,930 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:09,018 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690469.0180538, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:09,022 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:09,023 WARNING üö´ LLM request blocked: Too soon (wait 55.0s more, min interval: 60s)
2025-10-17 01:41:12,115 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:16,300 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:17,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690477.021966, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:17,026 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:17,027 WARNING üö´ LLM request blocked: Too soon (wait 47.0s more, min interval: 60s)
2025-10-17 01:41:20,495 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:24,688 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:25,032 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690485.032434, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:25,037 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:25,038 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 01:41:28,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:33,081 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:34,055 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690494.054873, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:34,065 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:34,065 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 01:41:37,273 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:41,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:45,675 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:49,876 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:50,878 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load, Stripper Level, Stripper liquid load; Resolved: Component D in Product, Component D to Reactor, Component G in Product, D Feed, Product Sep Temp, Separator Coolant Temp', 'last_check_time': 1760690510.877734, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:50,886 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:50,887 WARNING üö´ LLM request blocked: Too soon (wait 13.1s more, min interval: 60s)
2025-10-17 01:41:54,077 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:58,284 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:41:58,884 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690518.883861, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:41:58,890 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:41:58,890 WARNING üö´ LLM request blocked: Too soon (wait 5.1s more, min interval: 60s)
2025-10-17 01:42:02,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:42:06,702 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:42:06,898 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690526.8983061, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:06,903 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:06,903 INFO ‚úÖ LLM request allowed: OK (last request 62.9s ago)
2025-10-17 01:42:06,903 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:42:06,905 INFO feature comparison prepared
2025-10-17 01:42:06,960 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:42:06,961 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:42:06,961 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:42:06,962 INFO üîì LLM analysis flag cleared after 213.04s
2025-10-17 01:42:10,909 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.0s more, min interval: 60s)
2025-10-17 01:42:11,453 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690531.452951, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:11,457 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:11,458 WARNING üö´ LLM request blocked: Too soon (wait 55.4s more, min interval: 60s)
2025-10-17 01:42:11,903 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690531.902876, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:11,908 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:11,908 WARNING üö´ LLM request blocked: Too soon (wait 55.0s more, min interval: 60s)
2025-10-17 01:42:15,119 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 51.8s more, min interval: 60s)
2025-10-17 01:42:19,330 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.6s more, min interval: 60s)
2025-10-17 01:42:19,454 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690539.45437, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:19,457 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:19,457 WARNING üö´ LLM request blocked: Too soon (wait 47.4s more, min interval: 60s)
2025-10-17 01:42:19,917 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690539.917585, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:19,923 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:19,923 WARNING üö´ LLM request blocked: Too soon (wait 47.0s more, min interval: 60s)
2025-10-17 01:42:23,542 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.4s more, min interval: 60s)
2025-10-17 01:42:24,468 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690544.468218, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:24,471 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:24,471 WARNING üö´ LLM request blocked: Too soon (wait 42.4s more, min interval: 60s)
2025-10-17 01:42:27,757 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.1s more, min interval: 60s)
2025-10-17 01:42:27,915 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690547.915478, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:27,921 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:27,922 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 01:42:31,974 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.9s more, min interval: 60s)
2025-10-17 01:42:32,493 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690552.493252, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:32,506 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:32,506 WARNING üö´ LLM request blocked: Too soon (wait 34.4s more, min interval: 60s)
2025-10-17 01:42:32,923 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690552.92365, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:32,934 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:32,934 WARNING üö´ LLM request blocked: Too soon (wait 34.0s more, min interval: 60s)
2025-10-17 01:42:36,194 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.7s more, min interval: 60s)
2025-10-17 01:42:40,411 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.5s more, min interval: 60s)
2025-10-17 01:42:40,500 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690560.500876, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:40,515 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:40,515 WARNING üö´ LLM request blocked: Too soon (wait 26.4s more, min interval: 60s)
2025-10-17 01:42:40,929 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690560.928898, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:40,934 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:40,934 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-17 01:42:44,634 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 01:42:45,505 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690565.505205, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:45,518 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:45,518 WARNING üö´ LLM request blocked: Too soon (wait 21.4s more, min interval: 60s)
2025-10-17 01:42:48,855 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.0s more, min interval: 60s)
2025-10-17 01:42:49,940 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690569.940099, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:49,946 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:49,946 WARNING üö´ LLM request blocked: Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 01:42:53,075 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.8s more, min interval: 60s)
2025-10-17 01:42:53,505 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690573.505027, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:53,520 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:53,520 WARNING üö´ LLM request blocked: Too soon (wait 13.4s more, min interval: 60s)
2025-10-17 01:42:57,310 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.6s more, min interval: 60s)
2025-10-17 01:42:57,953 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690577.953494, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:42:57,958 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:42:57,958 WARNING üö´ LLM request blocked: Too soon (wait 8.9s more, min interval: 60s)
2025-10-17 01:43:01,541 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-17 01:43:02,514 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690582.514575, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:02,527 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:02,527 WARNING üö´ LLM request blocked: Too soon (wait 4.4s more, min interval: 60s)
2025-10-17 01:43:05,772 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.1s more, min interval: 60s)
2025-10-17 01:43:05,967 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690585.967475, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:05,974 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:05,974 WARNING üö´ LLM request blocked: Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 01:43:07,622 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:43:07,622 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:43:07,623 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:43:07,624 INFO ‚úÖ Saved analysis to history (id: 1760690587623)
2025-10-17 01:43:07,624 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:43:10,005 INFO ‚úÖ LLM request allowed - OK (last request 63.1s ago)
2025-10-17 01:43:10,006 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:43:10,006 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:43:10,006 INFO üîç Analysis flag set at 01:43:10
2025-10-17 01:43:10,006 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:43:10,532 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690590.532141, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:10,546 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:10,547 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:43:10,968 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690590.96786, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:10,973 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:10,974 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-17 01:43:18,537 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690598.5377269, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:18,553 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:18,553 WARNING üö´ LLM request blocked: Too soon (wait 51.5s more, min interval: 60s)
2025-10-17 01:43:18,977 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690598.977067, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:18,982 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:18,982 WARNING üö´ LLM request blocked: Too soon (wait 51.0s more, min interval: 60s)
2025-10-17 01:43:22,706 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:23,549 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690603.5491781, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:23,566 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:23,566 WARNING üö´ LLM request blocked: Too soon (wait 46.4s more, min interval: 60s)
2025-10-17 01:43:26,940 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:27,979 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690607.978994, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:27,984 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:27,984 WARNING üö´ LLM request blocked: Too soon (wait 42.0s more, min interval: 60s)
2025-10-17 01:43:31,178 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:31,556 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690611.556556, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:31,572 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:31,572 WARNING üö´ LLM request blocked: Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 01:43:35,422 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:35,989 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690615.9890409, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:35,994 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:35,994 WARNING üö´ LLM request blocked: Too soon (wait 34.0s more, min interval: 60s)
2025-10-17 01:43:39,663 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:40,564 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690620.564508, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:40,578 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:40,578 WARNING üö´ LLM request blocked: Too soon (wait 29.4s more, min interval: 60s)
2025-10-17 01:43:43,912 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:45,002 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690625.001958, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:45,007 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:45,008 WARNING üö´ LLM request blocked: Too soon (wait 25.0s more, min interval: 60s)
2025-10-17 01:43:48,158 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:48,572 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690628.572295, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:48,586 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:48,586 WARNING üö´ LLM request blocked: Too soon (wait 21.4s more, min interval: 60s)
2025-10-17 01:43:52,409 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:53,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690633.022115, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:53,025 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:53,026 WARNING üö´ LLM request blocked: Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 01:43:56,666 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:43:57,584 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690637.584451, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:43:57,597 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:43:57,597 WARNING üö´ LLM request blocked: Too soon (wait 12.4s more, min interval: 60s)
2025-10-17 01:44:00,915 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:01,921 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690641.921376, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:01,927 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:01,927 WARNING üö´ LLM request blocked: Too soon (wait 8.1s more, min interval: 60s)
2025-10-17 01:44:05,168 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:05,592 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690645.5922508, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:05,609 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:05,609 WARNING üö´ LLM request blocked: Too soon (wait 4.4s more, min interval: 60s)
2025-10-17 01:44:09,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:09,737 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:44:09,737 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:44:09,738 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:44:09,738 INFO ‚úÖ Saved analysis to history (id: 1760690649738)
2025-10-17 01:44:09,739 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:44:09,931 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690649.9317608, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:09,937 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:09,937 WARNING üö´ LLM request blocked: Too soon (wait 0.1s more, min interval: 60s)
2025-10-17 01:44:13,680 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:14,694 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690654.6938171, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:14,708 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:14,709 INFO ‚úÖ LLM request allowed: OK (last request 64.7s ago)
2025-10-17 01:44:14,709 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:44:14,711 INFO feature comparison prepared
2025-10-17 01:44:17,932 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:18,941 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690658.941209, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:18,947 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:18,947 WARNING üö´ LLM request blocked: Too soon (wait 55.8s more, min interval: 60s)
2025-10-17 01:44:22,196 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:22,602 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690662.6020448, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:22,613 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:22,613 WARNING üö´ LLM request blocked: Too soon (wait 52.1s more, min interval: 60s)
2025-10-17 01:44:26,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:26,951 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690666.951654, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:26,957 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:26,957 WARNING üö´ LLM request blocked: Too soon (wait 47.8s more, min interval: 60s)
2025-10-17 01:44:30,727 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:31,652 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690671.651882, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:31,674 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:31,675 WARNING üö´ LLM request blocked: Too soon (wait 43.0s more, min interval: 60s)
2025-10-17 01:44:34,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:35,959 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690675.959244, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:35,965 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:35,965 WARNING üö´ LLM request blocked: Too soon (wait 38.7s more, min interval: 60s)
2025-10-17 01:44:39,264 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:39,651 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690679.651579, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:39,675 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:39,676 WARNING üö´ LLM request blocked: Too soon (wait 35.0s more, min interval: 60s)
2025-10-17 01:44:43,536 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:43,967 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690683.967124, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:43,972 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:43,972 WARNING üö´ LLM request blocked: Too soon (wait 30.7s more, min interval: 60s)
2025-10-17 01:44:47,806 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:48,661 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690688.6607091, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:48,684 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:48,684 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-17 01:44:52,075 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:52,982 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690692.982353, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:52,988 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:52,989 WARNING üö´ LLM request blocked: Too soon (wait 21.7s more, min interval: 60s)
2025-10-17 01:44:56,351 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:44:56,663 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690696.66318, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:44:56,685 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:44:56,685 WARNING üö´ LLM request blocked: Too soon (wait 18.0s more, min interval: 60s)
2025-10-17 01:45:00,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:00,988 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690700.988329, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:00,993 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:00,993 WARNING üö´ LLM request blocked: Too soon (wait 13.7s more, min interval: 60s)
2025-10-17 01:45:04,884 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:05,661 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690705.6618109, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:05,681 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:05,681 WARNING üö´ LLM request blocked: Too soon (wait 9.0s more, min interval: 60s)
2025-10-17 01:45:09,151 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:09,996 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690709.996486, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:10,002 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:10,002 WARNING üö´ LLM request blocked: Too soon (wait 4.7s more, min interval: 60s)
2025-10-17 01:45:13,433 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:13,665 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690713.6647801, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:13,685 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:13,685 WARNING üö´ LLM request blocked: Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 01:45:17,718 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:18,006 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690718.006575, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:18,011 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:18,012 INFO ‚úÖ LLM request allowed: OK (last request 63.3s ago)
2025-10-17 01:45:18,012 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:45:18,015 INFO feature comparison prepared
2025-10-17 01:45:18,664 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690718.663916, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:18,679 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:18,679 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:45:21,991 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:23,010 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690723.010463, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:23,016 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:23,016 WARNING üö´ LLM request blocked: Too soon (wait 55.0s more, min interval: 60s)
2025-10-17 01:45:26,268 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:26,743 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690726.743308, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:26,762 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:26,763 WARNING üö´ LLM request blocked: Too soon (wait 51.2s more, min interval: 60s)
2025-10-17 01:45:30,553 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:31,020 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690731.0199401, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:31,025 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:31,025 WARNING üö´ LLM request blocked: Too soon (wait 47.0s more, min interval: 60s)
2025-10-17 01:45:34,839 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:35,686 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690735.686219, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:35,701 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:35,702 WARNING üö´ LLM request blocked: Too soon (wait 42.3s more, min interval: 60s)
2025-10-17 01:45:39,129 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:40,027 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690740.027004, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:40,033 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:40,033 WARNING üö´ LLM request blocked: Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 01:45:43,421 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:43,691 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690743.691691, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:43,705 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:43,705 WARNING üö´ LLM request blocked: Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 01:45:47,712 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:48,039 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690748.039098, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:48,045 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:48,045 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 01:45:48,699 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690748.699062, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:48,715 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:48,716 WARNING üö´ LLM request blocked: Too soon (wait 29.3s more, min interval: 60s)
2025-10-17 01:45:52,012 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:56,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:45:56,708 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690756.7081861, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:56,721 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:56,721 WARNING üö´ LLM request blocked: Too soon (wait 21.3s more, min interval: 60s)
2025-10-17 01:45:57,044 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690757.04409, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:45:57,050 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:45:57,050 WARNING üö´ LLM request blocked: Too soon (wait 21.0s more, min interval: 60s)
2025-10-17 01:46:00,597 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:46:04,895 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:46:05,053 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690765.052993, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:46:05,058 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:46:05,059 WARNING üö´ LLM request blocked: Too soon (wait 13.0s more, min interval: 60s)
2025-10-17 01:46:05,717 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690765.7175171, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:46:05,736 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:46:05,736 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 01:46:07,017 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:46:07,018 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:46:07,018 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:46:07,019 INFO ‚úÖ Saved analysis to history (id: 1760690767018)
2025-10-17 01:46:07,019 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:46:09,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:46:10,007 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:46:10,007 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:46:10,008 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:46:10,008 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 01:46:10,056 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690770.0561779, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:46:10,062 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:46:10,062 WARNING üö´ LLM request blocked: Too soon (wait 7.9s more, min interval: 60s)
2025-10-17 01:46:13,478 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.5s more, min interval: 60s)
2025-10-17 01:46:13,724 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690773.724015, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:46:13,740 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:46:13,740 WARNING üö´ LLM request blocked: Too soon (wait 4.3s more, min interval: 60s)
2025-10-17 01:46:17,777 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-17 01:46:18,067 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690778.067683, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:46:18,072 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:46:18,072 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-17 01:46:18,072 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:46:18,075 INFO feature comparison prepared
2025-10-17 01:46:22,082 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.0s more, min interval: 60s)
2025-10-17 01:46:26,390 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 51.7s more, min interval: 60s)
2025-10-17 01:46:30,695 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.4s more, min interval: 60s)
2025-10-17 01:46:34,997 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.1s more, min interval: 60s)
2025-10-17 01:46:39,305 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.8s more, min interval: 60s)
2025-10-17 01:46:43,617 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.5s more, min interval: 60s)
2025-10-17 01:46:47,931 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.1s more, min interval: 60s)
2025-10-17 01:46:52,232 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.8s more, min interval: 60s)
2025-10-17 01:46:56,549 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.5s more, min interval: 60s)
2025-10-17 01:47:00,862 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.2s more, min interval: 60s)
2025-10-17 01:47:05,177 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.9s more, min interval: 60s)
2025-10-17 01:47:08,035 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:47:08,036 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:47:08,036 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:47:08,037 INFO ‚úÖ Saved analysis to history (id: 1760690828036)
2025-10-17 01:47:08,037 INFO multi-llm analysis completed id=Fault-2
2025-10-17 01:47:09,499 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.6s more, min interval: 60s)
2025-10-17 01:47:13,826 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-17 01:47:18,151 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-17 01:47:18,152 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:47:18,153 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:47:18,153 INFO üîç Analysis flag set at 01:47:18
2025-10-17 01:47:18,153 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:47:31,135 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:47:35,465 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:47:39,795 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:47:44,133 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:47:48,471 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:47:52,802 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:47:57,139 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:01,485 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:05,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:10,166 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:10,911 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:48:10,912 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:48:10,912 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:48:10,913 INFO ‚úÖ Saved analysis to history (id: 1760690890912)
2025-10-17 01:48:10,913 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:48:10,919 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.919779, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,922 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.9221141, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,925 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.9256399, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,928 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.928061, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,930 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.930204, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,932 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.932719, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,934 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.934654, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,937 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.937021, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,939 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.939453, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,941 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.941598, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,944 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.944397, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,946 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.9466581, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,949 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.94946, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,952 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.952039, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,954 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.954507, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,956 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.956526, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,959 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.9592829, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,961 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.961688, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,963 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.963687, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,965 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.965636, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,968 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.968317, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,970 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.97068, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,972 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.972464, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,975 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.9750059, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,977 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.97706, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,979 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.9793742, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,981 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.981278, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,984 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.9845388, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,986 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.986088, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,988 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.987894, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,990 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.989949, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,991 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.99179, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,993 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.9936728, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,995 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690890.995222, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,997 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690890.9972448, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:10,999 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690890.9989572, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,001 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690891.001459, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,003 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690891.003237, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,005 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690891.005121, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,006 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690891.006876, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,008 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690891.008254, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,009 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690891.009805, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,011 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690891.01184, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,014 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690891.013962, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,015 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690891.0157409, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,018 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690891.017904, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,020 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690891.020161, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690891.022072, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,024 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690891.0241868, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,026 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690891.0261, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,028 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690891.02845, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,030 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760690891.030744, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:11,032 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,032 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,034 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,034 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,036 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,036 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,037 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,037 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,039 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,039 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,041 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,041 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,043 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,043 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,045 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,045 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,047 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,048 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,050 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,050 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,052 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,053 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,054 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,054 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,056 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,056 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,058 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,058 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,060 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,060 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,062 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,062 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,064 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,064 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,066 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,066 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,068 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,068 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,070 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,070 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,072 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,072 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,074 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,074 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,076 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,076 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,077 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,077 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,079 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,079 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,080 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,081 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,082 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,082 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,084 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,084 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,085 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,085 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,087 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,087 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,088 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,089 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,090 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,090 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,092 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,092 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,093 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,094 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,095 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,095 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,097 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,097 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,098 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,098 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,100 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,100 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,101 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,102 WARNING üö´ LLM request blocked: Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 01:48:11,103 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,103 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,104 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,104 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,106 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,106 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,107 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,107 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,109 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,109 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,110 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,110 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,111 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,111 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,113 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,113 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,114 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,114 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,115 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,116 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,117 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,117 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,118 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,118 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:11,119 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:11,119 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 01:48:14,516 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:15,195 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760690895.1952791, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:15,201 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:15,201 WARNING üö´ LLM request blocked: Too soon (wait 3.0s more, min interval: 60s)
2025-10-17 01:48:18,858 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:19,859 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760690899.859236, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:48:19,874 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:48:19,874 INFO ‚úÖ LLM request allowed: OK (last request 61.7s ago)
2025-10-17 01:48:19,874 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:48:19,878 INFO feature comparison prepared
2025-10-17 01:48:23,209 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:27,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:31,909 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:36,265 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:40,608 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:44,960 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:49,318 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:53,673 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:48:58,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:02,395 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:06,754 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:11,118 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:15,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:19,854 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:24,224 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:28,600 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:32,977 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:37,345 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:41,715 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:46,094 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:50,485 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:54,859 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:49:59,245 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:50:03,620 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:50:08,009 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:50:12,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:50:16,798 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:50:18,153 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:50:18,154 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:50:18,154 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:50:18,154 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 01:50:18,722 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:50:18,722 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:50:18,722 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:50:18,723 INFO ‚úÖ Saved analysis to history (id: 1760691018722)
2025-10-17 01:50:18,723 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:50:18,727 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.727083, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,729 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.729562, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,732 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.732575, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,735 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.735383, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,738 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.7381818, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,740 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.740683, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,744 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.7445078, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,747 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.747021, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,749 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.74962, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,752 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.75206, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,754 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.754336, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,757 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.757062, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,759 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.759132, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,762 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.762262, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,764 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.764386, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,766 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.766052, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,767 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.767811, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,769 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.7696488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,772 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.7718232, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,774 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.774278, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,777 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.776959, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,779 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.7789571, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,780 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.7807841, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,782 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.782358, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,784 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.78406, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,787 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.7875562, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,789 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.7891588, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,791 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.7913861, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,793 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.7930381, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,794 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.794838, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,796 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.79676, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,799 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.798979, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,801 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.801099, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,803 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.802952, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,804 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.804678, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,806 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.8064792, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,808 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.808352, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,810 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.8101308, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,811 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.811671, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,813 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.8135412, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,815 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.815392, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,817 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.8170502, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,818 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.818839, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,820 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.820522, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,822 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.822093, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,823 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.823472, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,824 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.8245509, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,825 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.825272, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,825 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.825862, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,826 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691018.826731, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,827 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.827404, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,828 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691018.82797, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,828 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691018.828558, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:50:18,829 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:50:18,829 INFO ‚úÖ LLM request allowed: OK (last request 119.0s ago)
2025-10-17 01:50:18,829 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:50:18,830 INFO feature comparison prepared
2025-10-17 01:50:21,190 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 57.6s more, min interval: 60s)
2025-10-17 01:50:25,581 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 53.2s more, min interval: 60s)
2025-10-17 01:50:29,970 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.9s more, min interval: 60s)
2025-10-17 01:50:34,368 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-17 01:50:38,785 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.0s more, min interval: 60s)
2025-10-17 01:50:43,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.6s more, min interval: 60s)
2025-10-17 01:50:47,584 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.2s more, min interval: 60s)
2025-10-17 01:50:51,979 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.9s more, min interval: 60s)
2025-10-17 01:50:56,387 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 01:51:00,793 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.0s more, min interval: 60s)
2025-10-17 01:51:05,202 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.6s more, min interval: 60s)
2025-10-17 01:51:09,615 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.2s more, min interval: 60s)
2025-10-17 01:51:14,008 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.8s more, min interval: 60s)
2025-10-17 01:51:18,418 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.4s more, min interval: 60s)
2025-10-17 01:51:22,025 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:51:22,025 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:51:22,025 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:51:22,026 INFO ‚úÖ Saved analysis to history (id: 1760691082025)
2025-10-17 01:51:22,026 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:51:22,030 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:51:22,030 INFO ‚úÖ LLM request allowed: OK (last request 63.2s ago)
2025-10-17 01:51:22,030 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:51:22,032 INFO feature comparison prepared
2025-10-17 01:51:22,827 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:51:27,244 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 54.8s more, min interval: 60s)
2025-10-17 01:51:31,668 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 50.4s more, min interval: 60s)
2025-10-17 01:51:36,080 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.9s more, min interval: 60s)
2025-10-17 01:51:40,492 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.5s more, min interval: 60s)
2025-10-17 01:51:44,911 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.1s more, min interval: 60s)
2025-10-17 01:51:49,335 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.7s more, min interval: 60s)
2025-10-17 01:51:53,756 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.3s more, min interval: 60s)
2025-10-17 01:51:58,180 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.8s more, min interval: 60s)
2025-10-17 01:52:02,618 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.4s more, min interval: 60s)
2025-10-17 01:52:07,051 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.0s more, min interval: 60s)
2025-10-17 01:52:11,481 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.5s more, min interval: 60s)
2025-10-17 01:52:15,914 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 01:52:20,345 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.7s more, min interval: 60s)
2025-10-17 01:52:22,084 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:52:22,084 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:52:22,084 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:52:22,085 INFO ‚úÖ Saved analysis to history (id: 1760691142084)
2025-10-17 01:52:22,085 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:52:22,089 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:52:22,089 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-17 01:52:22,089 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:52:22,091 INFO feature comparison prepared
2025-10-17 01:52:24,782 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 57.3s more, min interval: 60s)
2025-10-17 01:52:29,218 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.9s more, min interval: 60s)
2025-10-17 01:52:33,658 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.4s more, min interval: 60s)
2025-10-17 01:52:38,098 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 01:52:42,532 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.6s more, min interval: 60s)
2025-10-17 01:52:46,970 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.1s more, min interval: 60s)
2025-10-17 01:52:51,413 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.7s more, min interval: 60s)
2025-10-17 01:52:55,859 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.2s more, min interval: 60s)
2025-10-17 01:53:00,305 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.8s more, min interval: 60s)
2025-10-17 01:53:04,750 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.3s more, min interval: 60s)
2025-10-17 01:53:09,203 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.9s more, min interval: 60s)
2025-10-17 01:53:13,667 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 01:53:18,141 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.9s more, min interval: 60s)
2025-10-17 01:53:22,593 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-17 01:53:22,593 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:53:22,594 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:53:22,594 INFO üîç Analysis flag set at 01:53:22
2025-10-17 01:53:22,594 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:53:35,957 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:53:40,414 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:53:44,884 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:53:49,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:53:53,816 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:53:58,279 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:02,753 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:07,220 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:11,691 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:16,165 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:20,638 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:23,887 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:54:23,887 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:54:23,887 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:54:23,888 INFO ‚úÖ Saved analysis to history (id: 1760691263888)
2025-10-17 01:54:23,888 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:54:23,891 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:54:23,891 INFO ‚úÖ LLM request allowed: OK (last request 61.3s ago)
2025-10-17 01:54:23,891 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:54:23,893 INFO feature comparison prepared
2025-10-17 01:54:25,120 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:29,604 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:34,084 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:38,564 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:43,051 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:47,536 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:52,018 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:54:56,504 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:00,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:05,477 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:09,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:14,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:18,958 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:23,468 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:27,965 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:32,469 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:36,978 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:41,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:45,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:50,508 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:55,023 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:55:59,534 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:56:04,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:56:08,560 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:56:13,075 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:56:17,592 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:56:22,109 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:56:22,623 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 01:56:22,624 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 01:56:22,625 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 01:56:22,625 INFO üîì LLM analysis flag cleared after 180.03s
2025-10-17 01:56:22,866 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:56:22,866 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:56:22,866 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:56:22,867 INFO ‚úÖ Saved analysis to history (id: 1760691382866)
2025-10-17 01:56:22,867 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:56:22,869 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:56:22,870 INFO ‚úÖ LLM request allowed: OK (last request 119.0s ago)
2025-10-17 01:56:22,870 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:56:22,873 INFO feature comparison prepared
2025-10-17 01:56:26,627 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.2s more, min interval: 60s)
2025-10-17 01:56:31,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 51.7s more, min interval: 60s)
2025-10-17 01:56:35,672 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.2s more, min interval: 60s)
2025-10-17 01:56:40,194 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.7s more, min interval: 60s)
2025-10-17 01:56:44,720 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.1s more, min interval: 60s)
2025-10-17 01:56:49,254 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.6s more, min interval: 60s)
2025-10-17 01:56:53,782 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.1s more, min interval: 60s)
2025-10-17 01:56:58,316 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.6s more, min interval: 60s)
2025-10-17 01:57:02,850 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 01:57:07,385 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.5s more, min interval: 60s)
2025-10-17 01:57:11,918 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.0s more, min interval: 60s)
2025-10-17 01:57:16,458 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 01:57:21,009 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.9s more, min interval: 60s)
2025-10-17 01:57:25,561 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-17 01:57:25,562 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 01:57:25,562 INFO ü§ñ Starting background LLM analysis...
2025-10-17 01:57:25,562 INFO üîç Analysis flag set at 01:57:25
2025-10-17 01:57:25,562 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 01:57:26,069 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:57:26,069 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:57:26,070 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:57:26,070 INFO ‚úÖ Saved analysis to history (id: 1760691446070)
2025-10-17 01:57:26,070 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:57:26,073 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,073 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,077 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,077 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,080 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,080 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,082 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,082 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,084 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,084 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,086 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,086 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,087 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,088 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,089 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,089 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,090 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,090 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,092 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,092 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,093 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,093 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,095 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,095 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,096 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,096 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,097 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,097 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,098 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,098 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,099 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,099 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,101 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,101 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,102 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,102 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,103 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,103 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,105 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,105 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,106 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,106 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,107 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,107 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,108 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,109 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,110 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,110 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,111 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,111 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 01:57:26,113 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,113 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,115 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,115 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,116 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,116 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,117 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,117 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,119 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,119 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,120 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,120 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,121 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,121 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,123 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,123 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,124 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,124 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,125 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,126 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,126 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,127 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,128 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,128 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,129 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,129 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,130 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,131 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,131 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,131 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,133 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,133 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,134 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,134 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,135 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,135 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,136 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,136 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,137 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,137 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,138 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,138 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,140 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,140 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,141 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,141 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 01:57:26,142 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691446.142376, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,143 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.143685, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,145 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691446.1449249, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,146 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.146225, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,147 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.147454, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,148 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.148692, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,150 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.1500878, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,151 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.15126, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,152 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.152566, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,153 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.15379, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,154 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.154779, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,155 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.1557279, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,157 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.157849, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,159 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.159275, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,161 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.161858, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,163 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.1633139, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,164 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.164737, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,166 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.166494, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,169 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.169089, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,170 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.1707468, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,172 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.1727018, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,174 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.174665, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,233 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.233641, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,234 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2343922, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,236 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.236486, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,237 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.237695, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,238 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.238827, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,240 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.240352, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,241 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.241163, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,241 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2417438, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,242 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.24233, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,242 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.242938, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,243 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.243448, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,244 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.243998, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,244 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.244562, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,246 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.246259, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,246 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.24686, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,247 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.24738, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,247 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.247914, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,248 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2484071, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,248 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2489548, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,249 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.249553, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,250 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.25021, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,251 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.251791, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,252 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.252623, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,253 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2531798, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,253 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.253727, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,254 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.254266, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,254 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2547688, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,255 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2553742, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,257 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.257269, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,257 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.257955, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,258 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.258534, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,259 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.259058, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,259 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.259607, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,260 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2602391, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,261 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.261444, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,262 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.262152, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,262 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2627141, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,263 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.26326, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,263 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.263752, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,264 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2642949, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,264 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.264819, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,265 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.265357, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,266 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.26672, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,267 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.267335, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,267 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.26787, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,268 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2684171, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,268 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2689111, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,269 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.269432, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,270 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.27071, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,271 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.271306, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,271 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2718751, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,272 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.27244, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,273 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2730849, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,273 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.273657, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,274 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2744498, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,276 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.276164, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,276 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.276913, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,277 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.277518, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,278 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.278034, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,279 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2789419, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,280 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.280777, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,281 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.28178, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,282 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2828171, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,283 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.283762, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,284 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2847428, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,285 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.285592, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,286 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.286401, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,287 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.287056, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,288 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.288161, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,288 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.288917, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,289 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.289464, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,290 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.289984, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,290 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2905111, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,291 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.2910879, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,291 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691446.291706, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:26,292 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,292 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,292 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,292 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,294 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,294 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,295 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,295 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,296 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,296 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,296 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,297 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,297 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,297 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,298 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,299 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,299 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,299 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,300 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,300 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,300 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,300 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,301 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,301 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,301 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,301 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,302 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,302 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,302 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,302 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,303 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,303 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,303 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,303 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,304 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,304 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,304 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,304 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,305 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,305 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,305 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,305 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,306 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,306 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,306 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,306 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,307 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,307 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,307 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,307 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,308 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,308 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,308 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,308 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,309 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,309 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,309 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,309 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,310 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,310 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,310 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,310 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,311 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,311 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,311 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,311 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,312 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,312 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,312 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,312 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 01:57:26,313 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,313 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,313 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,313 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,314 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,314 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,314 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,314 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,315 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,315 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,315 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,315 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,315 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,316 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,316 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,316 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,317 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,317 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,317 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,317 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,318 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,318 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,318 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,318 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,319 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,319 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,319 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,319 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,319 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,319 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,320 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,320 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,321 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,321 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,321 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,321 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,321 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,321 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,322 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,322 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,322 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,322 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,323 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,323 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,323 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,323 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,324 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,324 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,325 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,325 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,325 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,325 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,326 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,326 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,326 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,326 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,326 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,326 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,327 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,327 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,327 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,327 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,328 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,328 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,328 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,328 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,329 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,329 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,329 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,329 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,330 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,330 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,330 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,330 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,331 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,331 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,331 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,331 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,332 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,332 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,332 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,332 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,333 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,333 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,333 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,333 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,334 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,334 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,334 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,334 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,335 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,335 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,335 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,335 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,336 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,336 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,336 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,336 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,337 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,337 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,338 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,338 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,338 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,338 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,339 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,339 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,339 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,339 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,340 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,340 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,340 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,340 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,341 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,341 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,341 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,341 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,342 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,342 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:26,342 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:26,342 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 01:57:30,815 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691450.814917, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:30,819 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:30,820 WARNING üö´ LLM request blocked: Too soon (wait 54.7s more, min interval: 60s)
2025-10-17 01:57:39,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:57:39,827 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691459.8272011, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:39,832 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:39,832 WARNING üö´ LLM request blocked: Too soon (wait 45.7s more, min interval: 60s)
2025-10-17 01:57:43,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:57:48,285 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:57:48,837 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691468.837215, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:48,842 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:48,842 WARNING üö´ LLM request blocked: Too soon (wait 36.7s more, min interval: 60s)
2025-10-17 01:57:52,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:57:53,840 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691473.840287, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:57:53,845 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:57:53,845 WARNING üö´ LLM request blocked: Too soon (wait 31.7s more, min interval: 60s)
2025-10-17 01:57:57,391 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:01,943 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:02,845 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691482.845649, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:02,849 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:02,849 WARNING üö´ LLM request blocked: Too soon (wait 22.7s more, min interval: 60s)
2025-10-17 01:58:06,514 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:11,060 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:11,855 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691491.855725, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:11,859 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:11,859 WARNING üö´ LLM request blocked: Too soon (wait 13.7s more, min interval: 60s)
2025-10-17 01:58:15,617 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:20,178 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:20,874 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691500.874605, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:20,881 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:20,881 WARNING üö´ LLM request blocked: Too soon (wait 4.7s more, min interval: 60s)
2025-10-17 01:58:24,742 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:26,130 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 01:58:26,130 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 01:58:26,130 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 01:58:26,131 INFO ‚úÖ Saved analysis to history (id: 1760691506130)
2025-10-17 01:58:26,131 INFO multi-llm analysis completed id=Fault-1
2025-10-17 01:58:29,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:29,880 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691509.8804622, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:29,886 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:29,887 INFO ‚úÖ LLM request allowed: OK (last request 64.3s ago)
2025-10-17 01:58:29,887 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:58:29,889 INFO feature comparison prepared
2025-10-17 01:58:33,876 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:34,883 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691514.8829901, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:34,887 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:34,887 WARNING üö´ LLM request blocked: Too soon (wait 55.0s more, min interval: 60s)
2025-10-17 01:58:38,437 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:43,003 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:43,897 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691523.897558, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:43,904 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:43,904 WARNING üö´ LLM request blocked: Too soon (wait 46.0s more, min interval: 60s)
2025-10-17 01:58:47,570 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:52,146 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:58:52,905 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691532.905272, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:58:52,912 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:58:52,912 WARNING üö´ LLM request blocked: Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 01:58:56,720 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:01,295 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:01,925 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691541.925098, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:59:01,931 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:59:01,931 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 01:59:05,887 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:10,469 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:10,933 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691550.933273, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:59:10,939 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:59:10,939 WARNING üö´ LLM request blocked: Too soon (wait 18.9s more, min interval: 60s)
2025-10-17 01:59:15,060 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:15,937 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691555.937218, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:59:15,944 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:59:15,944 WARNING üö´ LLM request blocked: Too soon (wait 13.9s more, min interval: 60s)
2025-10-17 01:59:19,650 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:24,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:24,946 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691564.9458199, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:59:24,953 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:59:24,953 WARNING üö´ LLM request blocked: Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 01:59:28,820 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:33,406 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:33,955 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691573.955232, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 01:59:33,962 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 01:59:33,962 INFO ‚úÖ LLM request allowed: OK (last request 64.1s ago)
2025-10-17 01:59:33,962 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 01:59:33,964 INFO feature comparison prepared
2025-10-17 01:59:37,985 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:42,574 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:47,173 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:51,756 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 01:59:56,351 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:00,956 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:05,556 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:10,156 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:14,758 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:19,359 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:23,963 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:00:25,564 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 02:00:25,564 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 02:00:25,567 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 02:00:25,568 INFO üîì LLM analysis flag cleared after 180.01s
2025-10-17 02:00:27,932 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:00:27,932 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:00:27,933 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:00:27,933 INFO ‚úÖ Saved analysis to history (id: 1760691627933)
2025-10-17 02:00:27,933 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:00:27,935 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.9355378, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,937 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.9371321, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,938 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.938232, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,939 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.939136, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,940 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.940043, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,940 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.940886, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,941 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.941835, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,942 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.942698, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,943 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.943379, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,944 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.944608, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,945 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691627.9451818, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:27,951 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,952 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,952 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,952 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,953 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,953 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,954 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,954 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,954 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,954 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,955 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,955 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,956 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,956 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,956 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,956 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,957 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,957 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,957 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,957 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:27,958 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:27,958 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 02:00:28,566 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-17 02:00:29,015 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691629.015105, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:29,021 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:29,021 WARNING üö´ LLM request blocked: Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 02:00:33,165 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 02:00:34,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691634.022672, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:00:34,029 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:00:34,030 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-17 02:00:34,030 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:00:34,032 INFO feature comparison prepared
2025-10-17 02:00:37,771 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.3s more, min interval: 60s)
2025-10-17 02:00:42,384 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 51.6s more, min interval: 60s)
2025-10-17 02:00:46,999 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.0s more, min interval: 60s)
2025-10-17 02:00:51,616 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.4s more, min interval: 60s)
2025-10-17 02:00:56,232 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.8s more, min interval: 60s)
2025-10-17 02:01:00,843 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 02:01:05,458 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.6s more, min interval: 60s)
2025-10-17 02:01:10,079 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.0s more, min interval: 60s)
2025-10-17 02:01:14,700 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.3s more, min interval: 60s)
2025-10-17 02:01:19,326 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.7s more, min interval: 60s)
2025-10-17 02:01:23,944 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.1s more, min interval: 60s)
2025-10-17 02:01:28,566 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.5s more, min interval: 60s)
2025-10-17 02:01:33,194 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 02:01:37,831 INFO ‚úÖ LLM request allowed - OK (last request 63.8s ago)
2025-10-17 02:01:37,832 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 02:01:37,832 INFO ü§ñ Starting background LLM analysis...
2025-10-17 02:01:37,832 INFO üîç Analysis flag set at 02:01:37
2025-10-17 02:01:37,832 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 02:01:51,720 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:01:56,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:00,991 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:05,617 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:10,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:14,895 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:19,538 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:24,184 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:26,887 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:02:26,887 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:02:26,887 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:02:26,888 INFO ‚úÖ Saved analysis to history (id: 1760691746887)
2025-10-17 02:02:26,888 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:02:26,891 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.891538, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,894 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.894488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,896 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.8966882, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,899 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.8990972, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,901 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.901588, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,903 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.903782, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,905 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,905 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,907 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,907 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,908 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product; Resolved: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760691746.9085839, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,910 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component E in Purge, Product Sep Underflow, Reactor Temperature, Reactor coolant load; Resolved: A feed load, Component A to Reactor, Component D to Reactor, Component F in Product', 'last_check_time': 1760691746.910039, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,913 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.913146, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,916 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.9164119, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,918 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.918323, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,920 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.920156, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,921 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.921667, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,923 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.923671, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,925 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.925066, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,927 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.926896, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,928 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.928504, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,930 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.9299881, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,932 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.931981, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,933 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.933578, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,935 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.9353201, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,938 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.93808, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,939 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.939302, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,940 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691746.9405608, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:26,942 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,943 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,944 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,944 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,945 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,945 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,947 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,947 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,948 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,948 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,949 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,949 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,951 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,951 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,952 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,952 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,954 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,954 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,955 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,955 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,957 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,957 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,958 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,958 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,959 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,959 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,961 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,961 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,962 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,962 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,963 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,963 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,965 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,965 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,966 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,966 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,967 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,967 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,968 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,968 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,969 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,969 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,970 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,970 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:26,971 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:26,971 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:02:28,825 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:33,473 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:34,156 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691754.156255, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:34,162 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:34,162 WARNING üö´ LLM request blocked: Too soon (wait 3.7s more, min interval: 60s)
2025-10-17 02:02:38,122 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:42,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:43,161 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691763.1608791, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:02:43,168 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:02:43,168 INFO ‚úÖ LLM request allowed: OK (last request 65.3s ago)
2025-10-17 02:02:43,168 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:02:43,171 INFO feature comparison prepared
2025-10-17 02:02:47,427 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:52,074 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:02:56,734 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:01,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:06,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:10,701 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:15,359 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:20,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:24,679 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:29,341 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:34,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:38,675 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:43,349 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:48,021 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:52,698 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:03:57,376 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:02,058 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:06,736 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:11,411 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:16,111 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:20,801 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:25,487 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:30,174 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:33,899 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:04:33,899 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:04:33,899 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:04:33,899 INFO ‚úÖ Saved analysis to history (id: 1760691873899)
2025-10-17 02:04:33,900 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:04:33,901 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.9016309, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,902 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.902817, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,903 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.903929, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,904 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.904814, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,905 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.90575, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,906 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.906682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,908 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.908521, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,909 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.9092648, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,910 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.9100502, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,910 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.910784, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,911 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.9114602, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,912 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.912021, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,912 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.912568, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,913 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.913087, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,913 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.913701, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,914 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.9142919, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,914 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.914816, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,915 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.915332, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,915 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.915906, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,919 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.9193962, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,920 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.920235, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,921 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.921545, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,922 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691873.922166, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:04:33,922 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:04:33,922 INFO ‚úÖ LLM request allowed: OK (last request 110.8s ago)
2025-10-17 02:04:33,922 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:04:33,923 INFO feature comparison prepared
2025-10-17 02:04:34,862 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:04:37,834 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 02:04:37,835 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 02:04:37,836 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 02:04:37,836 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 02:04:39,558 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 54.4s more, min interval: 60s)
2025-10-17 02:04:44,250 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.7s more, min interval: 60s)
2025-10-17 02:04:48,943 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 02:04:53,633 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.3s more, min interval: 60s)
2025-10-17 02:04:58,330 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.6s more, min interval: 60s)
2025-10-17 02:05:03,029 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.9s more, min interval: 60s)
2025-10-17 02:05:07,743 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.2s more, min interval: 60s)
2025-10-17 02:05:12,437 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.5s more, min interval: 60s)
2025-10-17 02:05:17,145 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.8s more, min interval: 60s)
2025-10-17 02:05:21,854 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.1s more, min interval: 60s)
2025-10-17 02:05:26,564 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.4s more, min interval: 60s)
2025-10-17 02:05:31,273 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.6s more, min interval: 60s)
2025-10-17 02:05:35,984 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-17 02:05:35,985 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 02:05:35,985 INFO ü§ñ Starting background LLM analysis...
2025-10-17 02:05:35,985 INFO üîç Analysis flag set at 02:05:35
2025-10-17 02:05:35,985 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 02:05:37,974 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:05:37,974 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:05:37,974 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:05:37,975 INFO ‚úÖ Saved analysis to history (id: 1760691937974)
2025-10-17 02:05:37,975 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:05:37,979 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,979 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,982 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,982 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,985 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,985 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,988 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,988 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,990 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,990 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,992 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,992 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,994 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,994 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,996 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,996 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,998 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,998 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:37,999 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:37,999 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,000 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,001 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,002 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,002 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,004 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,004 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,005 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,005 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,007 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,007 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,008 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,008 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,009 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,010 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,011 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,011 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,012 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,012 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,013 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,013 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,014 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,015 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,015 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,016 WARNING üö´ LLM request blocked: Too soon (wait 58.0s more, min interval: 60s)
2025-10-17 02:05:38,017 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.0172129, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,019 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.0189052, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,020 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.0204182, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.022568, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,024 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.024676, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,026 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.026238, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,028 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.028199, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,029 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.029707, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,032 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.032314, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,036 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.036103, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,037 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.0378351, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,039 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.0390432, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,040 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.040729, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,042 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691938.042337, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:38,043 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,043 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,045 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,045 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,046 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,046 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,047 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,047 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,048 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,048 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,049 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,049 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,050 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,050 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,051 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,051 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,052 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,052 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,053 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,053 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,054 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,054 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,055 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,055 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,056 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,056 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:38,057 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:38,057 WARNING üö´ LLM request blocked: Too soon (wait 57.9s more, min interval: 60s)
2025-10-17 02:05:41,358 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691941.358616, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:41,366 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:41,366 WARNING üö´ LLM request blocked: Too soon (wait 54.6s more, min interval: 60s)
2025-10-17 02:05:46,364 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691946.363967, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:46,370 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:46,371 WARNING üö´ LLM request blocked: Too soon (wait 49.6s more, min interval: 60s)
2025-10-17 02:05:50,131 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:05:54,843 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:05:55,373 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691955.3727949, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:05:55,380 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:05:55,380 WARNING üö´ LLM request blocked: Too soon (wait 40.6s more, min interval: 60s)
2025-10-17 02:05:59,555 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:00,377 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691960.3769631, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:00,383 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:00,383 WARNING üö´ LLM request blocked: Too soon (wait 35.6s more, min interval: 60s)
2025-10-17 02:06:04,271 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:08,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:09,388 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691969.388149, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:09,395 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:09,395 WARNING üö´ LLM request blocked: Too soon (wait 26.6s more, min interval: 60s)
2025-10-17 02:06:13,711 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:14,391 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691974.391468, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:14,400 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:14,400 WARNING üö´ LLM request blocked: Too soon (wait 21.6s more, min interval: 60s)
2025-10-17 02:06:18,425 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:19,396 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691979.3963552, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:19,404 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:19,404 WARNING üö´ LLM request blocked: Too soon (wait 16.6s more, min interval: 60s)
2025-10-17 02:06:23,150 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:27,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:28,407 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691988.407237, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:28,415 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:28,415 WARNING üö´ LLM request blocked: Too soon (wait 7.6s more, min interval: 60s)
2025-10-17 02:06:32,599 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:33,411 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760691993.411131, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:33,419 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:33,419 WARNING üö´ LLM request blocked: Too soon (wait 2.6s more, min interval: 60s)
2025-10-17 02:06:37,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:38,043 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:06:38,043 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:06:38,043 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:06:38,044 INFO ‚úÖ Saved analysis to history (id: 1760691998043)
2025-10-17 02:06:38,044 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:06:42,064 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:42,419 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692002.419713, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:42,428 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:42,429 INFO ‚úÖ LLM request allowed: OK (last request 66.4s ago)
2025-10-17 02:06:42,429 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:06:42,431 INFO feature comparison prepared
2025-10-17 02:06:46,797 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:47,421 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692007.421365, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:47,427 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:47,427 WARNING üö´ LLM request blocked: Too soon (wait 55.0s more, min interval: 60s)
2025-10-17 02:06:51,534 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:06:52,432 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692012.4322119, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:06:52,440 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:06:52,440 WARNING üö´ LLM request blocked: Too soon (wait 50.0s more, min interval: 60s)
2025-10-17 02:06:56,276 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:01,013 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:01,442 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692021.4419682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:01,449 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:01,449 WARNING üö´ LLM request blocked: Too soon (wait 41.0s more, min interval: 60s)
2025-10-17 02:07:05,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:06,448 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692026.448162, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:06,455 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:06,456 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 02:07:10,511 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:11,453 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692031.452987, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:11,460 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:11,460 WARNING üö´ LLM request blocked: Too soon (wait 31.0s more, min interval: 60s)
2025-10-17 02:07:15,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:20,001 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:20,462 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692040.461911, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:20,468 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:20,468 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 02:07:24,748 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:25,468 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692045.468147, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:25,477 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:25,477 WARNING üö´ LLM request blocked: Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 02:07:29,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:30,478 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692050.4781241, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:30,488 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:30,488 WARNING üö´ LLM request blocked: Too soon (wait 11.9s more, min interval: 60s)
2025-10-17 02:07:34,248 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:38,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:39,482 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692059.482763, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:39,501 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:39,501 WARNING üö´ LLM request blocked: Too soon (wait 2.9s more, min interval: 60s)
2025-10-17 02:07:43,736 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:44,486 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692064.486697, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:07:44,494 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:07:44,494 INFO ‚úÖ LLM request allowed: OK (last request 62.1s ago)
2025-10-17 02:07:44,494 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:07:44,497 INFO feature comparison prepared
2025-10-17 02:07:48,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:53,246 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:07:58,000 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:02,757 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:07,509 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:12,268 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:17,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:21,790 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:26,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:31,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:08:35,987 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 02:08:35,987 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 02:08:35,987 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 02:08:35,987 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 02:08:36,095 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 02:08:40,864 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.6s more, min interval: 60s)
2025-10-17 02:08:45,638 INFO ‚úÖ LLM request allowed - OK (last request 61.1s ago)
2025-10-17 02:08:45,639 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 02:08:45,639 INFO ü§ñ Starting background LLM analysis...
2025-10-17 02:08:45,639 INFO üîç Analysis flag set at 02:08:45
2025-10-17 02:08:45,639 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 02:08:47,181 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:08:47,181 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:08:47,181 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:08:47,182 INFO ‚úÖ Saved analysis to history (id: 1760692127182)
2025-10-17 02:08:47,183 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:08:47,187 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.1872268, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,190 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.190023, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,193 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.193001, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,195 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.1958148, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,198 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.198046, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,202 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.2024279, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,206 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.205902, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,208 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.2082639, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,210 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.210578, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,212 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.2124522, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,215 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.2148118, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,217 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692127.217435, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:47,219 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,219 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,221 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,222 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,224 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,224 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,226 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,226 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,227 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,228 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,229 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,230 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,231 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,232 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,233 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,233 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,235 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,235 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,237 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,237 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,238 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,238 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:47,239 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:47,239 WARNING üö´ LLM request blocked: Too soon (wait 58.4s more, min interval: 60s)
2025-10-17 02:08:55,560 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692135.5600069, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:08:55,568 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:08:55,568 WARNING üö´ LLM request blocked: Too soon (wait 50.1s more, min interval: 60s)
2025-10-17 02:08:59,950 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:00,566 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692140.566806, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:00,573 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:00,573 WARNING üö´ LLM request blocked: Too soon (wait 45.1s more, min interval: 60s)
2025-10-17 02:09:04,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:05,571 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692145.5711029, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:05,579 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:05,579 WARNING üö´ LLM request blocked: Too soon (wait 40.1s more, min interval: 60s)
2025-10-17 02:09:09,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:14,270 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:14,581 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692154.5814111, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:14,588 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:14,588 WARNING üö´ LLM request blocked: Too soon (wait 31.1s more, min interval: 60s)
2025-10-17 02:09:19,055 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:19,585 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692159.585248, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:19,592 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:19,592 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-17 02:09:23,837 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:24,589 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692164.588927, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:24,596 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:24,596 WARNING üö´ LLM request blocked: Too soon (wait 21.0s more, min interval: 60s)
2025-10-17 02:09:28,628 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:29,596 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692169.5957701, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:29,603 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:29,603 WARNING üö´ LLM request blocked: Too soon (wait 16.0s more, min interval: 60s)
2025-10-17 02:09:33,413 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:38,206 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:38,604 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692178.604055, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:38,610 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:38,610 WARNING üö´ LLM request blocked: Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 02:09:42,996 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:43,610 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692183.609807, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:43,616 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:43,617 WARNING üö´ LLM request blocked: Too soon (wait 2.0s more, min interval: 60s)
2025-10-17 02:09:47,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:48,614 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692188.614416, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:09:48,621 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:09:48,621 INFO ‚úÖ LLM request allowed: OK (last request 63.0s ago)
2025-10-17 02:09:48,621 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:09:48,624 INFO feature comparison prepared
2025-10-17 02:09:52,578 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:09:57,375 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:02,176 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:06,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:11,769 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:16,574 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:21,377 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:26,185 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:30,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:35,798 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:37,923 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:10:37,923 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:10:37,923 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:10:37,924 INFO ‚úÖ Saved analysis to history (id: 1760692237923)
2025-10-17 02:10:37,924 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:10:37,930 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.9301162, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,933 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.933473, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,936 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.936159, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,939 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.93943, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,943 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.943042, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,945 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.945385, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,947 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.947225, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,950 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.949873, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,952 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692237.952163, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:37,954 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,954 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,957 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,957 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,959 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,959 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,961 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,962 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,964 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,964 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,966 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,966 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,968 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,968 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,970 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,970 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:37,971 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:37,971 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 02:10:40,602 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:45,412 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:45,660 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692245.660682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:45,666 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:45,666 WARNING üö´ LLM request blocked: Too soon (wait 3.0s more, min interval: 60s)
2025-10-17 02:10:50,223 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:50,662 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692250.662653, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:10:50,669 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:10:50,669 INFO ‚úÖ LLM request allowed: OK (last request 62.0s ago)
2025-10-17 02:10:50,669 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:10:50,673 INFO feature comparison prepared
2025-10-17 02:10:55,039 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:10:59,855 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:04,669 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:09,490 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:14,311 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:19,135 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:23,963 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:28,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:33,623 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:38,455 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:43,287 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:11:45,615 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 02:11:45,615 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 02:11:45,616 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 02:11:45,616 INFO üîì LLM analysis flag cleared after 179.98s
2025-10-17 02:11:48,120 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.5s more, min interval: 60s)
2025-10-17 02:11:52,953 INFO ‚úÖ LLM request allowed - OK (last request 62.3s ago)
2025-10-17 02:11:52,954 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 02:11:52,954 INFO ü§ñ Starting background LLM analysis...
2025-10-17 02:11:52,954 INFO üîç Analysis flag set at 02:11:52
2025-10-17 02:11:52,954 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 02:12:07,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:12,298 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:17,139 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:21,988 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:26,833 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:31,677 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:36,524 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:41,373 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:46,225 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:46,415 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:12:46,415 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:12:46,416 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:12:46,416 INFO ‚úÖ Saved analysis to history (id: 1760692366416)
2025-10-17 02:12:46,416 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:12:46,420 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.42051, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,424 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4241369, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,427 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.427217, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,429 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.429558, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,433 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4334888, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,435 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.435605, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,438 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4382012, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,441 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.44106, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,443 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4433439, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,445 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.445761, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,447 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.447788, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,450 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4498482, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,452 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.452374, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,455 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.455693, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,458 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.457928, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,460 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.460116, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,465 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4654028, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,468 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4679801, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,471 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.471036, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,474 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.4742, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,477 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.47694, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,479 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.478994, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,480 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,480 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,482 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,482 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,484 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,484 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,485 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,486 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,487 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,487 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,488 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,488 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,489 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,489 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,491 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,491 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,492 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,492 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,493 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,493 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,494 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,494 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,495 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,495 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,496 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,496 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,497 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,497 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,499 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,499 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,500 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,500 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,501 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,501 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,502 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,503 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,503 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,503 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 02:12:46,504 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,504 WARNING üö´ LLM request blocked: Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 02:12:46,505 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,505 WARNING üö´ LLM request blocked: Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 02:12:46,506 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,506 WARNING üö´ LLM request blocked: Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 02:12:46,781 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692366.78162, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:46,788 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:46,788 WARNING üö´ LLM request blocked: Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 02:12:51,076 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:51,800 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:51,800 WARNING üö´ LLM request blocked: Too soon (wait 1.2s more, min interval: 60s)
2025-10-17 02:12:55,937 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:12:56,797 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692376.7967901, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:12:56,803 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:12:56,804 INFO ‚úÖ LLM request allowed: OK (last request 63.8s ago)
2025-10-17 02:12:56,804 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:12:56,808 INFO feature comparison prepared
2025-10-17 02:13:00,791 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:05,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:10,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:15,367 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:20,233 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:25,097 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:29,968 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:34,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:39,692 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:44,557 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:48,481 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:13:48,481 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:13:48,481 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:13:48,481 INFO ‚úÖ Saved analysis to history (id: 1760692428481)
2025-10-17 02:13:48,481 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:13:48,484 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.4841468, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,485 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.485703, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,487 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.487946, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,488 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.48893, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,489 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.4897652, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,491 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.491063, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,492 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.492005, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,492 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.492682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,493 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692428.4933271, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:48,499 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,499 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,500 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,500 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,501 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,501 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,502 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,502 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,503 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,503 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,503 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,503 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,504 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,504 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,505 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,505 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:48,505 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:48,505 WARNING üö´ LLM request blocked: Too soon (wait 8.3s more, min interval: 60s)
2025-10-17 02:13:49,419 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:49,863 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692429.8623931, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:49,872 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:49,872 WARNING üö´ LLM request blocked: Too soon (wait 6.9s more, min interval: 60s)
2025-10-17 02:13:54,294 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:59,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:13:59,862 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692439.862305, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:13:59,869 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:13:59,869 INFO ‚úÖ LLM request allowed: OK (last request 63.1s ago)
2025-10-17 02:13:59,869 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:13:59,872 INFO feature comparison prepared
2025-10-17 02:14:04,033 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:08,905 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:13,777 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:18,654 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:23,526 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:28,404 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:33,289 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:38,178 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:43,066 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:47,955 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:52,847 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:14:52,955 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-17 02:14:52,955 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 02:14:52,956 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 02:14:52,956 INFO üîì LLM analysis flag cleared after 180.00s
2025-10-17 02:14:57,789 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-17 02:15:02,694 INFO ‚úÖ LLM request allowed - OK (last request 62.8s ago)
2025-10-17 02:15:02,696 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 02:15:02,696 INFO ü§ñ Starting background LLM analysis...
2025-10-17 02:15:02,696 INFO üîç Analysis flag set at 02:15:02
2025-10-17 02:15:02,696 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 02:15:17,404 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:22,314 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:27,222 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:32,136 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:37,051 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:41,967 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:46,902 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:51,819 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:52,607 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:15:52,607 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:15:52,607 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:15:52,607 INFO ‚úÖ Saved analysis to history (id: 1760692552607)
2025-10-17 02:15:52,607 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:15:52,611 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.611087, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,614 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.614316, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,617 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.617066, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,621 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.621603, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,623 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.623704, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,625 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.625246, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,627 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.6271849, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,630 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.630461, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,632 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.632698, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,635 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.635148, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,637 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.637384, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,639 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.639702, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,642 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.641933, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,644 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.644211, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,646 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.6460018, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,650 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.6501608, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,652 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.65228, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,654 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.654575, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,657 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.656945, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,658 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.6585789, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,661 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.661201, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,663 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.6631172, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,664 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692552.6648178, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:52,666 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,667 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,668 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,668 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,670 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,670 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,672 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,672 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,674 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,674 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,675 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,675 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,677 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,677 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,679 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,679 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,680 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,680 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,682 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,682 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,685 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,685 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,686 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,686 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,688 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,688 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,689 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,689 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,691 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,691 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,692 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,693 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,694 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,694 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,695 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,696 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,697 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,697 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,698 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,698 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,699 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,700 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,701 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,701 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:52,702 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:52,702 WARNING üö´ LLM request blocked: Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 02:15:56,745 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:15:56,986 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692556.985947, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:15:56,992 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:15:56,992 WARNING üö´ LLM request blocked: Too soon (wait 5.7s more, min interval: 60s)
2025-10-17 02:16:01,660 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:01,997 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692561.9969962, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:02,009 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:02,009 WARNING üö´ LLM request blocked: Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 02:16:06,575 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:07,004 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692567.004095, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:07,013 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:07,013 INFO ‚úÖ LLM request allowed: OK (last request 64.3s ago)
2025-10-17 02:16:07,013 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:16:07,016 INFO feature comparison prepared
2025-10-17 02:16:11,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:16,422 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:21,339 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:26,258 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:31,175 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:36,098 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:41,025 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:45,950 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:50,878 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:54,675 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 02:16:54,675 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 02:16:54,675 INFO üìä lmstudio - status: error, has_analysis: True
2025-10-17 02:16:54,675 INFO ‚úÖ Saved analysis to history (id: 1760692614675)
2025-10-17 02:16:54,675 INFO multi-llm analysis completed id=Fault-1
2025-10-17 02:16:54,678 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.678436, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,681 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.681358, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,682 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.682938, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,683 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.6839528, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,684 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.684878, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,685 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.685649, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,686 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.686377, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,687 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.687084, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,687 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692614.687712, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:54,693 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,693 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,694 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,694 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,695 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,695 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,695 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,695 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,696 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,696 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,697 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,697 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,697 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,697 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,698 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,698 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:54,698 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:54,698 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 02:16:55,811 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:16:56,058 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692616.058603, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:16:56,066 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:16:56,066 WARNING üö´ LLM request blocked: Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 02:17:00,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:01,066 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692621.066426, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:17:01,074 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:17:01,074 WARNING üö´ LLM request blocked: Too soon (wait 5.9s more, min interval: 60s)
2025-10-17 02:17:05,656 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:06,072 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692626.071878, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:17:06,078 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:17:06,079 WARNING üö´ LLM request blocked: Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 02:17:10,595 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:11,078 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760692631.078096, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 02:17:11,084 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 02:17:11,085 INFO ‚úÖ LLM request allowed: OK (last request 64.1s ago)
2025-10-17 02:17:11,085 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 02:17:11,088 INFO feature comparison prepared
2025-10-17 02:17:15,521 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:20,461 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:25,433 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:30,406 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 02:17:35,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:23:13,825 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-17 09:25:26,500 INFO ‚úÖ LLM request allowed - OK (last request 1760718326.5s ago)
2025-10-17 09:25:26,502 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:25:26,504 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:25:26,504 INFO üîç Analysis flag set at 09:25:26
2025-10-17 09:25:26,504 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:25:30,271 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760718330.271262, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:25:30,281 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:25:30,282 WARNING üö´ LLM request blocked: Too soon (wait 56.2s more, min interval: 60s)
2025-10-17 09:25:37,638 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:25:38,265 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718338.265205, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:25:38,269 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:25:38,269 WARNING üö´ LLM request blocked: Too soon (wait 48.2s more, min interval: 60s)
2025-10-17 09:25:41,356 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:25:45,070 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:25:45,274 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718345.274218, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:25:45,280 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:25:45,280 WARNING üö´ LLM request blocked: Too soon (wait 41.2s more, min interval: 60s)
2025-10-17 09:25:48,791 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:25:52,511 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:25:53,305 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718353.305832, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:25:53,334 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:25:53,334 WARNING üö´ LLM request blocked: Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 09:25:56,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:25:59,953 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:00,289 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718360.2888682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:00,292 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:00,292 WARNING üö´ LLM request blocked: Too soon (wait 26.2s more, min interval: 60s)
2025-10-17 09:26:03,672 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:07,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:08,299 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718368.2994418, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:08,304 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:08,304 WARNING üö´ LLM request blocked: Too soon (wait 18.2s more, min interval: 60s)
2025-10-17 09:26:11,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:14,862 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:15,298 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718375.298816, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:15,305 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:15,305 WARNING üö´ LLM request blocked: Too soon (wait 11.2s more, min interval: 60s)
2025-10-17 09:26:18,590 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:22,325 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:23,315 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718383.31526, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:23,319 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:23,319 WARNING üö´ LLM request blocked: Too soon (wait 3.2s more, min interval: 60s)
2025-10-17 09:26:26,056 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:29,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:30,320 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718390.31988, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:30,336 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:30,336 INFO ‚úÖ LLM request allowed: OK (last request 63.8s ago)
2025-10-17 09:26:30,336 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 09:26:30,340 INFO feature comparison prepared
2025-10-17 09:26:33,530 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:37,270 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:37,329 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718397.329473, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:37,333 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:37,334 WARNING üö´ LLM request blocked: Too soon (wait 53.0s more, min interval: 60s)
2025-10-17 09:26:41,014 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:44,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:45,341 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718405.3410182, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:45,345 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:45,345 WARNING üö´ LLM request blocked: Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 09:26:48,501 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:52,245 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:26:52,344 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718412.344734, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:26:52,349 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:26:52,349 WARNING üö´ LLM request blocked: Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 09:26:53,965 INFO ‚úÖ LLM analysis completed in 87.46s
2025-10-17 09:26:53,966 INFO ‚úÖ Saved lmstudio analysis to MD file
2025-10-17 09:26:53,966 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:26:53,967 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:26:53,967 INFO üîì LLM analysis flag cleared after 87.46s
2025-10-17 09:26:55,989 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 09:26:59,738 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.6s more, min interval: 60s)
2025-10-17 09:27:00,353 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718420.353545, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:00,358 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:00,358 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 09:27:03,490 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.8s more, min interval: 60s)
2025-10-17 09:27:07,245 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.1s more, min interval: 60s)
2025-10-17 09:27:07,363 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718427.363182, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:07,368 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:07,368 WARNING üö´ LLM request blocked: Too soon (wait 23.0s more, min interval: 60s)
2025-10-17 09:27:11,000 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.3s more, min interval: 60s)
2025-10-17 09:27:14,756 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.6s more, min interval: 60s)
2025-10-17 09:27:15,370 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718435.370352, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:15,375 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:15,375 WARNING üö´ LLM request blocked: Too soon (wait 15.0s more, min interval: 60s)
2025-10-17 09:27:18,518 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.8s more, min interval: 60s)
2025-10-17 09:27:22,272 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.1s more, min interval: 60s)
2025-10-17 09:27:22,377 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718442.3771431, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:22,382 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:22,382 WARNING üö´ LLM request blocked: Too soon (wait 8.0s more, min interval: 60s)
2025-10-17 09:27:26,034 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.3s more, min interval: 60s)
2025-10-17 09:27:29,802 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.5s more, min interval: 60s)
2025-10-17 09:27:30,389 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718450.389169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:30,393 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:30,394 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-17 09:27:30,394 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 09:27:30,396 INFO feature comparison prepared
2025-10-17 09:27:33,570 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.8s more, min interval: 60s)
2025-10-17 09:27:37,334 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 53.1s more, min interval: 60s)
2025-10-17 09:27:37,394 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718457.394494, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:37,400 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:37,400 WARNING üö´ LLM request blocked: Too soon (wait 53.0s more, min interval: 60s)
2025-10-17 09:27:41,102 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.3s more, min interval: 60s)
2025-10-17 09:27:44,874 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.5s more, min interval: 60s)
2025-10-17 09:27:45,418 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718465.418069, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:45,427 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:45,427 WARNING üö´ LLM request blocked: Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 09:27:48,650 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.7s more, min interval: 60s)
2025-10-17 09:27:52,425 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 09:27:53,427 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718473.427677, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:27:53,437 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:27:53,437 WARNING üö´ LLM request blocked: Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 09:27:56,200 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.2s more, min interval: 60s)
2025-10-17 09:27:59,979 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.4s more, min interval: 60s)
2025-10-17 09:28:00,430 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718480.429861, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:28:00,438 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:28:00,438 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 09:28:13,393 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 09:28:13,393 INFO üìä LLM analyses keys: dict_keys(['lmstudio'])
2025-10-17 09:28:13,393 INFO üìä lmstudio - status: success, has_analysis: True
2025-10-17 09:28:13,394 INFO ‚úÖ Saved lmstudio analysis to MD file (/explain)
2025-10-17 09:28:13,394 INFO ‚úÖ Saved analysis to history (id: 1760718493394)
2025-10-17 09:28:13,394 INFO multi-llm analysis completed id=Fault-2
2025-10-17 09:29:13,252 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-17 09:29:15,957 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760718555.95728, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:29:15,965 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:29:15,965 INFO ‚úÖ LLM request allowed: OK (last request 1760718556.0s ago)
2025-10-17 09:29:15,965 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 09:29:15,966 INFO feature comparison prepared
2025-10-17 09:29:23,961 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718563.96171, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:29:23,965 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:29:23,965 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 09:29:30,673 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 09:29:30,673 INFO üìä LLM analyses keys: dict_keys(['anthropic'])
2025-10-17 09:29:30,673 INFO üìä anthropic - status: success, has_analysis: True
2025-10-17 09:29:30,674 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-17 09:29:30,674 INFO ‚úÖ Saved analysis to history (id: 1760718570674)
2025-10-17 09:29:30,674 INFO multi-llm analysis completed id=Fault-2
2025-10-17 09:29:31,986 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718571.98659, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:29:31,996 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:29:31,996 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 09:29:38,988 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718578.9889028, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:29:38,997 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:29:38,997 WARNING üö´ LLM request blocked: Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 09:29:46,995 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718586.9950972, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:29:47,002 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:29:47,002 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 09:29:50,156 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.8s more, min interval: 60s)
2025-10-17 09:29:53,979 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 09:29:55,005 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718595.005625, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:29:55,011 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:29:55,011 WARNING üö´ LLM request blocked: Too soon (wait 21.0s more, min interval: 60s)
2025-10-17 09:29:57,806 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.2s more, min interval: 60s)
2025-10-17 09:30:01,617 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.3s more, min interval: 60s)
2025-10-17 09:30:02,011 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718602.011434, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:02,019 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:02,019 WARNING üö´ LLM request blocked: Too soon (wait 13.9s more, min interval: 60s)
2025-10-17 09:30:05,443 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.5s more, min interval: 60s)
2025-10-17 09:30:09,272 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.7s more, min interval: 60s)
2025-10-17 09:30:10,025 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718610.025015, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:10,031 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:10,031 WARNING üö´ LLM request blocked: Too soon (wait 5.9s more, min interval: 60s)
2025-10-17 09:30:13,100 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.9s more, min interval: 60s)
2025-10-17 09:30:16,933 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-17 09:30:16,936 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:30:16,938 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:30:16,938 INFO üîç Analysis flag set at 09:30:16
2025-10-17 09:30:16,938 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:30:17,025 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718617.025436, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:17,034 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:17,034 WARNING üö´ LLM request blocked: Too soon (wait 59.9s more, min interval: 60s)
2025-10-17 09:30:25,036 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718625.036597, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:25,042 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:25,042 WARNING üö´ LLM request blocked: Too soon (wait 51.9s more, min interval: 60s)
2025-10-17 09:30:28,426 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:30:29,957 INFO ‚úÖ LLM analysis completed in 13.02s
2025-10-17 09:30:29,960 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:30:29,960 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:30:29,960 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:30:29,961 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:30:29,961 INFO üîì LLM analysis flag cleared after 13.02s
2025-10-17 09:30:32,272 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.7s more, min interval: 60s)
2025-10-17 09:30:33,051 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718633.0516968, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:33,059 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:33,060 WARNING üö´ LLM request blocked: Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 09:30:36,112 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.8s more, min interval: 60s)
2025-10-17 09:30:39,954 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 09:30:40,055 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718640.055535, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:40,062 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:40,062 WARNING üö´ LLM request blocked: Too soon (wait 36.9s more, min interval: 60s)
2025-10-17 09:30:43,804 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 09:30:47,646 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.3s more, min interval: 60s)
2025-10-17 09:30:48,066 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718648.066575, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:48,073 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:48,073 WARNING üö´ LLM request blocked: Too soon (wait 28.9s more, min interval: 60s)
2025-10-17 09:30:51,496 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.4s more, min interval: 60s)
2025-10-17 09:30:55,342 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.6s more, min interval: 60s)
2025-10-17 09:30:56,076 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718656.076462, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:30:56,083 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:30:56,084 WARNING üö´ LLM request blocked: Too soon (wait 20.9s more, min interval: 60s)
2025-10-17 09:30:59,190 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.7s more, min interval: 60s)
2025-10-17 09:31:03,024 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.9s more, min interval: 60s)
2025-10-17 09:31:03,083 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718663.083641, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:03,091 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:03,091 WARNING üö´ LLM request blocked: Too soon (wait 13.8s more, min interval: 60s)
2025-10-17 09:31:06,873 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.1s more, min interval: 60s)
2025-10-17 09:31:10,731 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 09:31:11,096 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718671.096249, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:11,102 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:11,103 WARNING üö´ LLM request blocked: Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 09:31:14,585 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-17 09:31:18,447 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-17 09:31:18,449 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:31:18,450 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:31:18,450 INFO üîç Analysis flag set at 09:31:18
2025-10-17 09:31:18,450 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:31:19,108 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718679.108319, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:19,115 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:19,115 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 09:31:27,106 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718687.106672, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:27,110 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:27,110 WARNING üö´ LLM request blocked: Too soon (wait 51.3s more, min interval: 60s)
2025-10-17 09:31:30,028 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:31:30,609 INFO ‚úÖ LLM analysis completed in 12.16s
2025-10-17 09:31:30,611 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:31:30,611 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:31:30,611 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:31:30,612 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:31:30,612 INFO üîì LLM analysis flag cleared after 12.16s
2025-10-17 09:31:33,894 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.6s more, min interval: 60s)
2025-10-17 09:31:34,127 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718694.1270452, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:34,133 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:34,133 WARNING üö´ LLM request blocked: Too soon (wait 44.3s more, min interval: 60s)
2025-10-17 09:31:37,764 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.7s more, min interval: 60s)
2025-10-17 09:31:41,626 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.8s more, min interval: 60s)
2025-10-17 09:31:42,135 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718702.135396, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:42,143 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:42,143 WARNING üö´ LLM request blocked: Too soon (wait 36.3s more, min interval: 60s)
2025-10-17 09:31:45,497 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 09:31:49,366 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.1s more, min interval: 60s)
2025-10-17 09:31:50,144 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718710.1446831, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:50,151 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:50,151 WARNING üö´ LLM request blocked: Too soon (wait 28.3s more, min interval: 60s)
2025-10-17 09:31:53,237 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.2s more, min interval: 60s)
2025-10-17 09:31:57,112 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.3s more, min interval: 60s)
2025-10-17 09:31:57,150 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718717.1507158, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:31:57,157 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:31:57,158 WARNING üö´ LLM request blocked: Too soon (wait 21.3s more, min interval: 60s)
2025-10-17 09:32:00,987 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.5s more, min interval: 60s)
2025-10-17 09:32:04,863 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.6s more, min interval: 60s)
2025-10-17 09:32:05,175 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718725.174963, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:05,182 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:05,182 WARNING üö´ LLM request blocked: Too soon (wait 13.3s more, min interval: 60s)
2025-10-17 09:32:08,735 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.7s more, min interval: 60s)
2025-10-17 09:32:12,612 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 09:32:13,182 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718733.182501, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:13,190 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:13,190 WARNING üö´ LLM request blocked: Too soon (wait 5.3s more, min interval: 60s)
2025-10-17 09:32:16,491 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.0s more, min interval: 60s)
2025-10-17 09:32:20,370 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-17 09:32:20,373 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:32:20,374 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:32:20,374 INFO üîç Analysis flag set at 09:32:20
2025-10-17 09:32:20,374 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:32:21,197 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718741.197856, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:21,205 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:21,205 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 09:32:28,202 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718748.201931, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:28,208 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:28,208 WARNING üö´ LLM request blocked: Too soon (wait 52.2s more, min interval: 60s)
2025-10-17 09:32:32,015 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:32:32,762 INFO ‚úÖ LLM analysis completed in 12.39s
2025-10-17 09:32:32,765 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:32:32,765 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:32:32,765 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:32:32,765 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:32:32,766 INFO üîì LLM analysis flag cleared after 12.39s
2025-10-17 09:32:35,894 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-17 09:32:36,211 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718756.211124, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:36,217 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:36,217 WARNING üö´ LLM request blocked: Too soon (wait 44.2s more, min interval: 60s)
2025-10-17 09:32:39,778 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.6s more, min interval: 60s)
2025-10-17 09:32:43,662 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.7s more, min interval: 60s)
2025-10-17 09:32:44,221 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718764.221287, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:44,229 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:44,229 WARNING üö´ LLM request blocked: Too soon (wait 36.1s more, min interval: 60s)
2025-10-17 09:32:47,552 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.8s more, min interval: 60s)
2025-10-17 09:32:51,442 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.9s more, min interval: 60s)
2025-10-17 09:32:52,233 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718772.2329202, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:32:52,240 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:32:52,240 WARNING üö´ LLM request blocked: Too soon (wait 28.1s more, min interval: 60s)
2025-10-17 09:32:55,334 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.0s more, min interval: 60s)
2025-10-17 09:32:59,222 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.2s more, min interval: 60s)
2025-10-17 09:33:00,246 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718780.24676, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:00,254 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:00,254 WARNING üö´ LLM request blocked: Too soon (wait 20.1s more, min interval: 60s)
2025-10-17 09:33:03,112 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.3s more, min interval: 60s)
2025-10-17 09:33:07,006 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.4s more, min interval: 60s)
2025-10-17 09:33:07,249 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718787.2493792, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:07,254 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:07,255 WARNING üö´ LLM request blocked: Too soon (wait 13.1s more, min interval: 60s)
2025-10-17 09:33:10,911 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.5s more, min interval: 60s)
2025-10-17 09:33:14,817 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.6s more, min interval: 60s)
2025-10-17 09:33:15,264 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718795.263932, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:15,270 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:15,270 WARNING üö´ LLM request blocked: Too soon (wait 5.1s more, min interval: 60s)
2025-10-17 09:33:18,719 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.7s more, min interval: 60s)
2025-10-17 09:33:22,614 INFO ‚úÖ LLM request allowed - OK (last request 62.2s ago)
2025-10-17 09:33:22,617 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:33:22,618 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:33:22,618 INFO üîç Analysis flag set at 09:33:22
2025-10-17 09:33:22,618 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:33:23,264 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718803.2641332, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:23,270 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:23,271 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 09:33:31,280 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718811.280143, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:31,288 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:31,288 WARNING üö´ LLM request blocked: Too soon (wait 51.3s more, min interval: 60s)
2025-10-17 09:33:34,350 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:33:35,364 INFO ‚úÖ LLM analysis completed in 12.75s
2025-10-17 09:33:35,366 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:33:35,366 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:33:35,366 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:33:35,366 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:33:35,367 INFO üîì LLM analysis flag cleared after 12.75s
2025-10-17 09:33:38,247 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.4s more, min interval: 60s)
2025-10-17 09:33:38,281 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718818.281779, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:38,287 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:38,287 WARNING üö´ LLM request blocked: Too soon (wait 44.3s more, min interval: 60s)
2025-10-17 09:33:42,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.5s more, min interval: 60s)
2025-10-17 09:33:46,059 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.6s more, min interval: 60s)
2025-10-17 09:33:46,287 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718826.287752, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:46,293 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:46,293 WARNING üö´ LLM request blocked: Too soon (wait 36.3s more, min interval: 60s)
2025-10-17 09:33:49,960 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.7s more, min interval: 60s)
2025-10-17 09:33:53,872 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.7s more, min interval: 60s)
2025-10-17 09:33:54,303 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718834.302933, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:33:54,309 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:33:54,309 WARNING üö´ LLM request blocked: Too soon (wait 28.3s more, min interval: 60s)
2025-10-17 09:33:57,790 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.8s more, min interval: 60s)
2025-10-17 09:34:01,702 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-17 09:34:02,320 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718842.320549, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:02,327 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:02,327 WARNING üö´ LLM request blocked: Too soon (wait 20.3s more, min interval: 60s)
2025-10-17 09:34:05,617 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 09:34:09,534 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.1s more, min interval: 60s)
2025-10-17 09:34:10,332 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718850.332843, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:10,341 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:10,341 WARNING üö´ LLM request blocked: Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 09:34:13,451 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.2s more, min interval: 60s)
2025-10-17 09:34:17,366 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.3s more, min interval: 60s)
2025-10-17 09:34:18,344 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718858.3445718, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:18,351 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:18,351 WARNING üö´ LLM request blocked: Too soon (wait 4.3s more, min interval: 60s)
2025-10-17 09:34:21,290 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-17 09:34:25,218 INFO ‚úÖ LLM request allowed - OK (last request 62.6s ago)
2025-10-17 09:34:25,220 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:34:25,220 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:34:25,220 INFO üîç Analysis flag set at 09:34:25
2025-10-17 09:34:25,220 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:34:25,344 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718865.343968, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:25,349 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:25,349 WARNING üö´ LLM request blocked: Too soon (wait 59.9s more, min interval: 60s)
2025-10-17 09:34:33,346 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718873.346271, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:33,352 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:33,352 WARNING üö´ LLM request blocked: Too soon (wait 51.9s more, min interval: 60s)
2025-10-17 09:34:37,014 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:34:38,749 INFO ‚úÖ LLM analysis completed in 13.53s
2025-10-17 09:34:38,750 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:34:38,751 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:34:38,751 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:34:38,751 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:34:38,751 INFO üîì LLM analysis flag cleared after 13.53s
2025-10-17 09:34:40,954 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.3s more, min interval: 60s)
2025-10-17 09:34:41,373 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718881.373482, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:41,382 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:41,382 WARNING üö´ LLM request blocked: Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 09:34:44,882 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.3s more, min interval: 60s)
2025-10-17 09:34:48,816 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.4s more, min interval: 60s)
2025-10-17 09:34:49,382 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718889.382314, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:49,389 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:49,389 WARNING üö´ LLM request blocked: Too soon (wait 35.8s more, min interval: 60s)
2025-10-17 09:34:52,747 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.5s more, min interval: 60s)
2025-10-17 09:34:56,680 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.5s more, min interval: 60s)
2025-10-17 09:34:57,397 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718897.3974998, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:34:57,402 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:34:57,402 WARNING üö´ LLM request blocked: Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 09:35:00,616 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.6s more, min interval: 60s)
2025-10-17 09:35:04,555 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.7s more, min interval: 60s)
2025-10-17 09:35:05,404 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718905.404115, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:05,410 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:05,411 WARNING üö´ LLM request blocked: Too soon (wait 19.8s more, min interval: 60s)
2025-10-17 09:35:08,498 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.7s more, min interval: 60s)
2025-10-17 09:35:12,432 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.8s more, min interval: 60s)
2025-10-17 09:35:13,411 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718913.411511, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:13,417 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:13,417 WARNING üö´ LLM request blocked: Too soon (wait 11.8s more, min interval: 60s)
2025-10-17 09:35:16,376 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.8s more, min interval: 60s)
2025-10-17 09:35:20,321 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 09:35:20,420 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718920.420745, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:20,428 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:20,428 WARNING üö´ LLM request blocked: Too soon (wait 4.8s more, min interval: 60s)
2025-10-17 09:35:24,269 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 09:35:28,212 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-17 09:35:28,215 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:35:28,216 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:35:28,216 INFO üîç Analysis flag set at 09:35:28
2025-10-17 09:35:28,216 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:35:28,431 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718928.431162, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:28,438 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:28,438 WARNING üö´ LLM request blocked: Too soon (wait 59.8s more, min interval: 60s)
2025-10-17 09:35:36,433 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718936.4337611, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:36,439 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:36,439 WARNING üö´ LLM request blocked: Too soon (wait 51.8s more, min interval: 60s)
2025-10-17 09:35:40,066 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:35:40,840 INFO ‚úÖ LLM analysis completed in 12.62s
2025-10-17 09:35:40,842 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:35:40,842 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:35:40,842 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:35:40,843 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:35:40,843 INFO üîì LLM analysis flag cleared after 12.63s
2025-10-17 09:35:44,019 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.2s more, min interval: 60s)
2025-10-17 09:35:44,439 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718944.4392488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:44,448 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:44,448 WARNING üö´ LLM request blocked: Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 09:35:47,969 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.2s more, min interval: 60s)
2025-10-17 09:35:51,931 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.3s more, min interval: 60s)
2025-10-17 09:35:52,459 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718952.459806, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:35:52,467 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:35:52,467 WARNING üö´ LLM request blocked: Too soon (wait 35.7s more, min interval: 60s)
2025-10-17 09:35:55,884 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.3s more, min interval: 60s)
2025-10-17 09:35:59,850 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.4s more, min interval: 60s)
2025-10-17 09:36:00,468 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718960.468708, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:00,488 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:00,488 WARNING üö´ LLM request blocked: Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 09:36:03,808 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.4s more, min interval: 60s)
2025-10-17 09:36:07,769 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.4s more, min interval: 60s)
2025-10-17 09:36:08,478 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718968.478112, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:08,486 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:08,486 WARNING üö´ LLM request blocked: Too soon (wait 19.7s more, min interval: 60s)
2025-10-17 09:36:11,743 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-17 09:36:15,713 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.5s more, min interval: 60s)
2025-10-17 09:36:16,488 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718976.4883058, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:16,494 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:16,494 WARNING üö´ LLM request blocked: Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 09:36:19,677 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.5s more, min interval: 60s)
2025-10-17 09:36:23,645 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.6s more, min interval: 60s)
2025-10-17 09:36:24,499 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718984.499809, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:24,506 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:24,506 WARNING üö´ LLM request blocked: Too soon (wait 3.7s more, min interval: 60s)
2025-10-17 09:36:27,619 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.6s more, min interval: 60s)
2025-10-17 09:36:31,596 INFO ‚úÖ LLM request allowed - OK (last request 63.4s ago)
2025-10-17 09:36:31,598 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:36:31,599 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:36:31,600 INFO üîç Analysis flag set at 09:36:31
2025-10-17 09:36:31,600 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:36:32,506 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760718992.5059469, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:32,513 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:32,514 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-17 09:36:40,516 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719000.516059, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:40,523 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:40,523 WARNING üö´ LLM request blocked: Too soon (wait 51.1s more, min interval: 60s)
2025-10-17 09:36:43,510 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:36:44,098 INFO ‚úÖ LLM analysis completed in 12.50s
2025-10-17 09:36:44,100 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:36:44,101 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:36:44,101 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:36:44,102 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:36:44,102 INFO üîì LLM analysis flag cleared after 12.50s
2025-10-17 09:36:47,528 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.1s more, min interval: 60s)
2025-10-17 09:36:48,518 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719008.517837, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:48,522 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:48,522 WARNING üö´ LLM request blocked: Too soon (wait 43.1s more, min interval: 60s)
2025-10-17 09:36:51,504 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.1s more, min interval: 60s)
2025-10-17 09:36:55,482 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.1s more, min interval: 60s)
2025-10-17 09:36:55,536 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719015.5359879, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:36:55,543 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:36:55,543 WARNING üö´ LLM request blocked: Too soon (wait 36.1s more, min interval: 60s)
2025-10-17 09:36:59,466 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.1s more, min interval: 60s)
2025-10-17 09:37:03,448 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.2s more, min interval: 60s)
2025-10-17 09:37:03,545 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719023.545158, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:03,552 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:03,553 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 09:37:07,425 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.2s more, min interval: 60s)
2025-10-17 09:37:11,404 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.2s more, min interval: 60s)
2025-10-17 09:37:11,557 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719031.557342, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:11,563 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:11,563 WARNING üö´ LLM request blocked: Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 09:37:15,389 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.2s more, min interval: 60s)
2025-10-17 09:37:19,375 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.2s more, min interval: 60s)
2025-10-17 09:37:19,566 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719039.565907, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:19,573 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:19,573 WARNING üö´ LLM request blocked: Too soon (wait 12.0s more, min interval: 60s)
2025-10-17 09:37:23,365 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-17 09:37:27,354 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-17 09:37:27,579 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719047.5791411, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:27,586 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:27,586 WARNING üö´ LLM request blocked: Too soon (wait 4.0s more, min interval: 60s)
2025-10-17 09:37:31,357 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-17 09:37:35,346 INFO ‚úÖ LLM request allowed - OK (last request 63.7s ago)
2025-10-17 09:37:35,349 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:37:35,350 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:37:35,350 INFO üîç Analysis flag set at 09:37:35
2025-10-17 09:37:35,350 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:37:35,587 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719055.5875251, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:35,593 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:35,593 WARNING üö´ LLM request blocked: Too soon (wait 59.8s more, min interval: 60s)
2025-10-17 09:37:43,598 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719063.5980859, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:43,605 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:43,605 WARNING üö´ LLM request blocked: Too soon (wait 51.7s more, min interval: 60s)
2025-10-17 09:37:47,338 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:37:48,190 INFO ‚úÖ LLM analysis completed in 12.84s
2025-10-17 09:37:48,193 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:37:48,193 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:37:48,193 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:37:48,194 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:37:48,194 INFO üîì LLM analysis flag cleared after 12.84s
2025-10-17 09:37:51,346 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 09:37:51,607 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719071.607299, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:51,615 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:51,615 WARNING üö´ LLM request blocked: Too soon (wait 43.7s more, min interval: 60s)
2025-10-17 09:37:55,347 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.0s more, min interval: 60s)
2025-10-17 09:37:59,346 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 09:37:59,620 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719079.620584, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:37:59,628 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:37:59,628 WARNING üö´ LLM request blocked: Too soon (wait 35.7s more, min interval: 60s)
2025-10-17 09:38:03,348 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.0s more, min interval: 60s)
2025-10-17 09:38:07,355 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 09:38:07,632 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719087.6319842, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:07,638 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:07,638 WARNING üö´ LLM request blocked: Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 09:38:11,360 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.0s more, min interval: 60s)
2025-10-17 09:38:15,362 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 09:38:15,639 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719095.639311, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:15,645 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:15,645 WARNING üö´ LLM request blocked: Too soon (wait 19.7s more, min interval: 60s)
2025-10-17 09:38:19,362 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.0s more, min interval: 60s)
2025-10-17 09:38:23,374 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.0s more, min interval: 60s)
2025-10-17 09:38:23,648 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719103.6482182, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:23,654 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:23,654 WARNING üö´ LLM request blocked: Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 09:38:27,384 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.0s more, min interval: 60s)
2025-10-17 09:38:31,394 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.0s more, min interval: 60s)
2025-10-17 09:38:31,647 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719111.646894, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:31,654 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:31,654 WARNING üö´ LLM request blocked: Too soon (wait 3.7s more, min interval: 60s)
2025-10-17 09:38:35,463 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-17 09:38:35,465 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:38:35,466 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:38:35,466 INFO üîç Analysis flag set at 09:38:35
2025-10-17 09:38:35,466 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:38:39,722 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719119.722495, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:39,728 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:39,728 WARNING üö´ LLM request blocked: Too soon (wait 55.7s more, min interval: 60s)
2025-10-17 09:38:47,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:38:47,729 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719127.729488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:47,736 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:47,736 WARNING üö´ LLM request blocked: Too soon (wait 47.7s more, min interval: 60s)
2025-10-17 09:38:48,732 INFO ‚úÖ LLM analysis completed in 13.27s
2025-10-17 09:38:48,735 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:38:48,735 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:38:48,735 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:38:48,736 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:38:48,737 INFO üîì LLM analysis flag cleared after 13.27s
2025-10-17 09:38:51,525 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 09:38:55,558 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.9s more, min interval: 60s)
2025-10-17 09:38:55,741 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719135.741741, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:38:55,749 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:38:55,749 WARNING üö´ LLM request blocked: Too soon (wait 39.7s more, min interval: 60s)
2025-10-17 09:38:59,573 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.9s more, min interval: 60s)
2025-10-17 09:39:03,597 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.9s more, min interval: 60s)
2025-10-17 09:39:03,744 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719143.743905, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:03,750 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:03,750 WARNING üö´ LLM request blocked: Too soon (wait 31.7s more, min interval: 60s)
2025-10-17 09:39:07,623 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 09:39:11,656 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.8s more, min interval: 60s)
2025-10-17 09:39:11,756 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719151.756316, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:11,762 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:11,762 WARNING üö´ LLM request blocked: Too soon (wait 23.7s more, min interval: 60s)
2025-10-17 09:39:15,693 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.8s more, min interval: 60s)
2025-10-17 09:39:19,718 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.7s more, min interval: 60s)
2025-10-17 09:39:19,758 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719159.758623, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:19,763 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:19,763 WARNING üö´ LLM request blocked: Too soon (wait 15.7s more, min interval: 60s)
2025-10-17 09:39:23,745 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 09:39:27,782 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.7s more, min interval: 60s)
2025-10-17 09:39:28,788 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719168.788608, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:28,794 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:28,794 WARNING üö´ LLM request blocked: Too soon (wait 6.7s more, min interval: 60s)
2025-10-17 09:39:31,813 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.7s more, min interval: 60s)
2025-10-17 09:39:35,877 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-17 09:39:35,879 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:39:35,881 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:39:35,881 INFO üîç Analysis flag set at 09:39:35
2025-10-17 09:39:35,881 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:39:36,799 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719176.798801, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:36,804 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:36,805 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-17 09:39:44,806 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719184.806082, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:44,812 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:44,812 WARNING üö´ LLM request blocked: Too soon (wait 51.1s more, min interval: 60s)
2025-10-17 09:39:47,991 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:39:48,962 INFO ‚úÖ LLM analysis completed in 13.08s
2025-10-17 09:39:48,964 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:39:48,964 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:39:48,964 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:39:48,965 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:39:48,965 INFO üîì LLM analysis flag cleared after 13.08s
2025-10-17 09:39:52,029 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 09:39:52,812 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719192.811766, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:39:52,816 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:39:52,816 WARNING üö´ LLM request blocked: Too soon (wait 43.1s more, min interval: 60s)
2025-10-17 09:39:56,070 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.8s more, min interval: 60s)
2025-10-17 09:40:00,116 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.8s more, min interval: 60s)
2025-10-17 09:40:00,813 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719200.813186, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:00,818 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:00,818 WARNING üö´ LLM request blocked: Too soon (wait 35.1s more, min interval: 60s)
2025-10-17 09:40:04,152 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.7s more, min interval: 60s)
2025-10-17 09:40:08,202 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 09:40:08,891 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719208.891119, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:08,916 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:08,916 WARNING üö´ LLM request blocked: Too soon (wait 27.0s more, min interval: 60s)
2025-10-17 09:40:12,249 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.6s more, min interval: 60s)
2025-10-17 09:40:16,298 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.6s more, min interval: 60s)
2025-10-17 09:40:16,891 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719216.891449, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:16,913 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:16,913 WARNING üö´ LLM request blocked: Too soon (wait 19.0s more, min interval: 60s)
2025-10-17 09:40:20,346 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.5s more, min interval: 60s)
2025-10-17 09:40:24,396 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 09:40:24,894 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719224.893887, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:24,915 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:24,915 WARNING üö´ LLM request blocked: Too soon (wait 11.0s more, min interval: 60s)
2025-10-17 09:40:28,450 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.4s more, min interval: 60s)
2025-10-17 09:40:32,491 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-17 09:40:32,896 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719232.8965209, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:32,926 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:32,926 WARNING üö´ LLM request blocked: Too soon (wait 3.0s more, min interval: 60s)
2025-10-17 09:40:36,542 INFO ‚úÖ LLM request allowed - OK (last request 60.7s ago)
2025-10-17 09:40:36,544 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:40:36,545 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:40:36,545 INFO üîç Analysis flag set at 09:40:36
2025-10-17 09:40:36,545 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:40:41,011 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719241.011463, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:41,037 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:41,037 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-17 09:40:48,722 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:40:48,953 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719248.952866, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:48,979 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:48,979 WARNING üö´ LLM request blocked: Too soon (wait 47.6s more, min interval: 60s)
2025-10-17 09:40:49,016 INFO ‚úÖ LLM analysis completed in 12.47s
2025-10-17 09:40:49,019 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:40:49,020 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:40:49,020 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:40:49,021 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:40:49,021 INFO üîì LLM analysis flag cleared after 12.48s
2025-10-17 09:40:52,794 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 09:40:56,860 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.7s more, min interval: 60s)
2025-10-17 09:40:56,940 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719256.9399822, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:40:56,968 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:40:56,968 WARNING üö´ LLM request blocked: Too soon (wait 39.6s more, min interval: 60s)
2025-10-17 09:41:00,929 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.6s more, min interval: 60s)
2025-10-17 09:41:01,961 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719261.9614878, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:01,984 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:01,984 WARNING üö´ LLM request blocked: Too soon (wait 34.6s more, min interval: 60s)
2025-10-17 09:41:04,990 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.6s more, min interval: 60s)
2025-10-17 09:41:09,059 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.5s more, min interval: 60s)
2025-10-17 09:41:09,980 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719269.980445, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:10,006 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:10,006 WARNING üö´ LLM request blocked: Too soon (wait 26.5s more, min interval: 60s)
2025-10-17 09:41:13,123 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.4s more, min interval: 60s)
2025-10-17 09:41:17,192 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.4s more, min interval: 60s)
2025-10-17 09:41:17,972 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719277.971905, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:18,008 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:18,008 WARNING üö´ LLM request blocked: Too soon (wait 18.5s more, min interval: 60s)
2025-10-17 09:41:21,267 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.3s more, min interval: 60s)
2025-10-17 09:41:25,341 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.2s more, min interval: 60s)
2025-10-17 09:41:25,991 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719285.991322, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:26,024 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:26,025 WARNING üö´ LLM request blocked: Too soon (wait 10.5s more, min interval: 60s)
2025-10-17 09:41:29,414 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 09:41:33,487 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.1s more, min interval: 60s)
2025-10-17 09:41:33,965 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719293.965218, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:33,992 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:33,992 WARNING üö´ LLM request blocked: Too soon (wait 2.6s more, min interval: 60s)
2025-10-17 09:41:37,574 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-17 09:41:37,576 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:41:37,577 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:41:37,577 INFO üîç Analysis flag set at 09:41:37
2025-10-17 09:41:37,577 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:41:42,002 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719302.002678, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:42,035 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:42,035 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-17 09:41:49,825 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:41:50,014 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719310.0145652, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:50,047 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:50,048 WARNING üö´ LLM request blocked: Too soon (wait 47.5s more, min interval: 60s)
2025-10-17 09:41:52,485 INFO ‚úÖ LLM analysis completed in 14.91s
2025-10-17 09:41:52,487 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:41:52,487 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:41:52,487 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:41:52,488 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:41:52,488 INFO üîì LLM analysis flag cleared after 14.91s
2025-10-17 09:41:53,944 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.6s more, min interval: 60s)
2025-10-17 09:41:58,031 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.5s more, min interval: 60s)
2025-10-17 09:41:59,049 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719319.048901, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:41:59,082 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:41:59,083 WARNING üö´ LLM request blocked: Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 09:42:02,113 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.5s more, min interval: 60s)
2025-10-17 09:42:06,202 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.4s more, min interval: 60s)
2025-10-17 09:42:07,035 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719327.034923, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:07,065 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:07,066 WARNING üö´ LLM request blocked: Too soon (wait 30.5s more, min interval: 60s)
2025-10-17 09:42:10,289 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.3s more, min interval: 60s)
2025-10-17 09:42:14,381 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.2s more, min interval: 60s)
2025-10-17 09:42:15,035 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719335.03521, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:15,076 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:15,076 WARNING üö´ LLM request blocked: Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 09:42:18,484 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.1s more, min interval: 60s)
2025-10-17 09:42:22,579 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.0s more, min interval: 60s)
2025-10-17 09:42:23,039 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719343.0393548, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:23,059 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:23,059 WARNING üö´ LLM request blocked: Too soon (wait 14.5s more, min interval: 60s)
2025-10-17 09:42:26,671 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 09:42:30,761 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.8s more, min interval: 60s)
2025-10-17 09:42:31,057 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719351.056996, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:31,089 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:31,089 WARNING üö´ LLM request blocked: Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 09:42:34,850 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-17 09:42:38,948 INFO ‚úÖ LLM request allowed - OK (last request 61.4s ago)
2025-10-17 09:42:38,951 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:42:38,952 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:42:38,952 INFO üîç Analysis flag set at 09:42:38
2025-10-17 09:42:38,952 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:42:39,058 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719359.0585768, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:39,099 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:39,099 WARNING üö´ LLM request blocked: Too soon (wait 59.9s more, min interval: 60s)
2025-10-17 09:42:44,089 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719364.08912, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:44,139 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:44,139 WARNING üö´ LLM request blocked: Too soon (wait 54.8s more, min interval: 60s)
2025-10-17 09:42:51,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:42:52,071 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719372.0713139, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:42:52,095 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:42:52,095 WARNING üö´ LLM request blocked: Too soon (wait 46.9s more, min interval: 60s)
2025-10-17 09:42:52,168 INFO ‚úÖ LLM analysis completed in 13.22s
2025-10-17 09:42:52,169 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:42:52,169 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:42:52,169 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:42:52,170 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:42:52,170 INFO üîì LLM analysis flag cleared after 13.22s
2025-10-17 09:42:55,364 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.6s more, min interval: 60s)
2025-10-17 09:42:59,466 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.5s more, min interval: 60s)
2025-10-17 09:43:00,089 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719380.089797, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:00,125 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:00,125 WARNING üö´ LLM request blocked: Too soon (wait 38.8s more, min interval: 60s)
2025-10-17 09:43:03,565 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.4s more, min interval: 60s)
2025-10-17 09:43:07,675 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.3s more, min interval: 60s)
2025-10-17 09:43:08,090 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719388.090606, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:08,114 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:08,114 WARNING üö´ LLM request blocked: Too soon (wait 30.8s more, min interval: 60s)
2025-10-17 09:43:11,786 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.2s more, min interval: 60s)
2025-10-17 09:43:15,898 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.1s more, min interval: 60s)
2025-10-17 09:43:16,186 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719396.186523, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:16,219 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:16,220 WARNING üö´ LLM request blocked: Too soon (wait 22.7s more, min interval: 60s)
2025-10-17 09:43:20,016 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.9s more, min interval: 60s)
2025-10-17 09:43:24,143 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.8s more, min interval: 60s)
2025-10-17 09:43:25,130 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719405.1299992, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:25,193 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:25,193 WARNING üö´ LLM request blocked: Too soon (wait 13.8s more, min interval: 60s)
2025-10-17 09:43:28,273 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 09:43:32,389 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.6s more, min interval: 60s)
2025-10-17 09:43:33,129 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719413.129674, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:33,157 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:33,158 WARNING üö´ LLM request blocked: Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 09:43:36,505 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-17 09:43:40,626 INFO ‚úÖ LLM request allowed - OK (last request 61.7s ago)
2025-10-17 09:43:40,628 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:43:40,629 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:43:40,629 INFO üîç Analysis flag set at 09:43:40
2025-10-17 09:43:40,629 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:43:41,130 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719421.130632, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:41,160 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:41,160 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 09:43:49,158 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719429.158527, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:49,192 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:49,193 WARNING üö´ LLM request blocked: Too soon (wait 51.4s more, min interval: 60s)
2025-10-17 09:43:51,976 INFO ‚úÖ LLM analysis completed in 11.35s
2025-10-17 09:43:51,977 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:43:51,977 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:43:51,978 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:43:51,978 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:43:51,978 INFO üîì LLM analysis flag cleared after 11.35s
2025-10-17 09:43:53,000 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.6s more, min interval: 60s)
2025-10-17 09:43:57,124 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.5s more, min interval: 60s)
2025-10-17 09:43:58,170 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719438.1698902, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:43:58,194 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:43:58,194 WARNING üö´ LLM request blocked: Too soon (wait 42.4s more, min interval: 60s)
2025-10-17 09:44:01,243 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 09:44:05,373 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.3s more, min interval: 60s)
2025-10-17 09:44:06,174 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719446.173932, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:06,204 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:06,204 WARNING üö´ LLM request blocked: Too soon (wait 34.4s more, min interval: 60s)
2025-10-17 09:44:09,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.1s more, min interval: 60s)
2025-10-17 09:44:13,633 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.0s more, min interval: 60s)
2025-10-17 09:44:14,179 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719454.179251, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:14,202 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:14,202 WARNING üö´ LLM request blocked: Too soon (wait 26.4s more, min interval: 60s)
2025-10-17 09:44:17,754 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.9s more, min interval: 60s)
2025-10-17 09:44:21,914 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.7s more, min interval: 60s)
2025-10-17 09:44:22,192 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719462.191989, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:22,222 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:22,223 WARNING üö´ LLM request blocked: Too soon (wait 18.4s more, min interval: 60s)
2025-10-17 09:44:26,048 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.6s more, min interval: 60s)
2025-10-17 09:44:30,193 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.4s more, min interval: 60s)
2025-10-17 09:44:31,204 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719471.203986, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:31,239 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:31,239 WARNING üö´ LLM request blocked: Too soon (wait 9.4s more, min interval: 60s)
2025-10-17 09:44:34,336 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 09:44:38,476 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.2s more, min interval: 60s)
2025-10-17 09:44:39,213 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719479.212862, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:39,261 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:39,262 WARNING üö´ LLM request blocked: Too soon (wait 1.4s more, min interval: 60s)
2025-10-17 09:44:42,612 INFO ‚úÖ LLM request allowed - OK (last request 62.0s ago)
2025-10-17 09:44:42,614 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:44:42,615 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:44:42,616 INFO üîç Analysis flag set at 09:44:42
2025-10-17 09:44:42,616 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:44:47,223 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719487.223147, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:47,253 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:47,254 WARNING üö´ LLM request blocked: Too soon (wait 55.4s more, min interval: 60s)
2025-10-17 09:44:55,056 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:44:55,220 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719495.220292, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:44:55,248 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:44:55,248 WARNING üö´ LLM request blocked: Too soon (wait 47.4s more, min interval: 60s)
2025-10-17 09:44:55,752 INFO ‚úÖ LLM analysis completed in 13.14s
2025-10-17 09:44:55,754 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:44:55,754 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:44:55,754 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:44:55,754 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:44:55,755 INFO üîì LLM analysis flag cleared after 13.14s
2025-10-17 09:44:59,207 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.4s more, min interval: 60s)
2025-10-17 09:45:00,224 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719500.22437, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:00,259 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:00,259 WARNING üö´ LLM request blocked: Too soon (wait 42.4s more, min interval: 60s)
2025-10-17 09:45:03,356 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.3s more, min interval: 60s)
2025-10-17 09:45:07,506 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.1s more, min interval: 60s)
2025-10-17 09:45:08,199 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719508.198855, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:08,204 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:08,205 WARNING üö´ LLM request blocked: Too soon (wait 34.4s more, min interval: 60s)
2025-10-17 09:45:11,658 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.0s more, min interval: 60s)
2025-10-17 09:45:15,810 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.8s more, min interval: 60s)
2025-10-17 09:45:16,209 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719516.208894, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:16,214 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:16,214 WARNING üö´ LLM request blocked: Too soon (wait 26.4s more, min interval: 60s)
2025-10-17 09:45:19,982 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.6s more, min interval: 60s)
2025-10-17 09:45:24,142 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.5s more, min interval: 60s)
2025-10-17 09:45:24,218 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719524.2181098, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:24,225 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:24,225 WARNING üö´ LLM request blocked: Too soon (wait 18.4s more, min interval: 60s)
2025-10-17 09:45:28,304 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.3s more, min interval: 60s)
2025-10-17 09:45:29,322 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719529.322137, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:29,346 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:29,346 WARNING üö´ LLM request blocked: Too soon (wait 13.3s more, min interval: 60s)
2025-10-17 09:45:32,461 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.2s more, min interval: 60s)
2025-10-17 09:45:36,625 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 09:45:37,276 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719537.276625, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:37,297 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:37,297 WARNING üö´ LLM request blocked: Too soon (wait 5.3s more, min interval: 60s)
2025-10-17 09:45:40,784 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.8s more, min interval: 60s)
2025-10-17 09:45:44,949 INFO ‚úÖ LLM request allowed - OK (last request 62.3s ago)
2025-10-17 09:45:44,951 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:45:44,952 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:45:44,952 INFO üîç Analysis flag set at 09:45:44
2025-10-17 09:45:44,952 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:45:45,295 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719545.295766, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:45,323 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:45,324 WARNING üö´ LLM request blocked: Too soon (wait 59.6s more, min interval: 60s)
2025-10-17 09:45:54,286 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719554.2859788, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:45:54,315 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:45:54,315 WARNING üö´ LLM request blocked: Too soon (wait 50.6s more, min interval: 60s)
2025-10-17 09:45:57,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:45:58,893 INFO ‚úÖ LLM analysis completed in 13.94s
2025-10-17 09:45:58,894 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:45:58,894 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:45:58,895 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:45:58,895 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:45:58,895 INFO üîì LLM analysis flag cleared after 13.94s
2025-10-17 09:46:01,607 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.3s more, min interval: 60s)
2025-10-17 09:46:02,307 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719562.307445, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:02,335 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:02,336 WARNING üö´ LLM request blocked: Too soon (wait 42.6s more, min interval: 60s)
2025-10-17 09:46:05,773 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.2s more, min interval: 60s)
2025-10-17 09:46:09,936 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.0s more, min interval: 60s)
2025-10-17 09:46:10,326 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719570.3266392, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:10,358 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:10,358 WARNING üö´ LLM request blocked: Too soon (wait 34.6s more, min interval: 60s)
2025-10-17 09:46:14,110 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.8s more, min interval: 60s)
2025-10-17 09:46:18,282 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.7s more, min interval: 60s)
2025-10-17 09:46:19,347 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719579.347402, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:19,382 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:19,382 WARNING üö´ LLM request blocked: Too soon (wait 25.6s more, min interval: 60s)
2025-10-17 09:46:22,454 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 09:46:26,628 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.3s more, min interval: 60s)
2025-10-17 09:46:27,374 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719587.374037, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:27,408 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:27,408 WARNING üö´ LLM request blocked: Too soon (wait 17.5s more, min interval: 60s)
2025-10-17 09:46:30,806 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.1s more, min interval: 60s)
2025-10-17 09:46:34,985 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.0s more, min interval: 60s)
2025-10-17 09:46:35,360 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719595.359775, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:35,391 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:35,392 WARNING üö´ LLM request blocked: Too soon (wait 9.6s more, min interval: 60s)
2025-10-17 09:46:39,167 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 09:46:43,350 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.6s more, min interval: 60s)
2025-10-17 09:46:44,391 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719604.390966, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:44,434 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:44,435 WARNING üö´ LLM request blocked: Too soon (wait 0.5s more, min interval: 60s)
2025-10-17 09:46:47,542 INFO ‚úÖ LLM request allowed - OK (last request 62.6s ago)
2025-10-17 09:46:47,545 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:46:47,546 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:46:47,546 INFO üîç Analysis flag set at 09:46:47
2025-10-17 09:46:47,546 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:46:52,392 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719612.391785, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:46:52,429 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:46:52,429 WARNING üö´ LLM request blocked: Too soon (wait 55.1s more, min interval: 60s)
2025-10-17 09:46:59,665 INFO ‚úÖ LLM analysis completed in 12.12s
2025-10-17 09:46:59,666 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:46:59,667 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:46:59,667 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:46:59,667 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:46:59,667 INFO üîì LLM analysis flag cleared after 12.12s
2025-10-17 09:47:00,105 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.4s more, min interval: 60s)
2025-10-17 09:47:00,399 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719620.3995461, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:00,423 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:00,424 WARNING üö´ LLM request blocked: Too soon (wait 47.1s more, min interval: 60s)
2025-10-17 09:47:04,307 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.2s more, min interval: 60s)
2025-10-17 09:47:08,495 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.1s more, min interval: 60s)
2025-10-17 09:47:09,508 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719629.508031, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:09,538 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:09,539 WARNING üö´ LLM request blocked: Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 09:47:12,688 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.9s more, min interval: 60s)
2025-10-17 09:47:16,877 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.7s more, min interval: 60s)
2025-10-17 09:47:17,425 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719637.424978, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:17,457 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:17,457 WARNING üö´ LLM request blocked: Too soon (wait 30.1s more, min interval: 60s)
2025-10-17 09:47:21,073 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.5s more, min interval: 60s)
2025-10-17 09:47:25,268 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 09:47:25,439 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719645.43972, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:25,467 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:25,468 WARNING üö´ LLM request blocked: Too soon (wait 22.1s more, min interval: 60s)
2025-10-17 09:47:29,466 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.1s more, min interval: 60s)
2025-10-17 09:47:30,439 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719650.438934, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:30,462 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:30,463 WARNING üö´ LLM request blocked: Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 09:47:33,665 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.9s more, min interval: 60s)
2025-10-17 09:47:37,870 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.7s more, min interval: 60s)
2025-10-17 09:47:38,470 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719658.470687, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:38,493 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:38,493 WARNING üö´ LLM request blocked: Too soon (wait 9.1s more, min interval: 60s)
2025-10-17 09:47:42,089 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.5s more, min interval: 60s)
2025-10-17 09:47:46,292 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-17 09:47:46,461 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719666.46093, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:46,487 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:46,487 WARNING üö´ LLM request blocked: Too soon (wait 1.1s more, min interval: 60s)
2025-10-17 09:47:50,506 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-17 09:47:50,509 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:47:50,510 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:47:50,510 INFO üîç Analysis flag set at 09:47:50
2025-10-17 09:47:50,510 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:47:51,471 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719671.471861, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:51,496 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:51,497 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-17 09:47:59,493 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719679.493267, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:47:59,524 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:47:59,524 WARNING üö´ LLM request blocked: Too soon (wait 51.0s more, min interval: 60s)
2025-10-17 09:48:02,363 INFO ‚úÖ LLM analysis completed in 11.85s
2025-10-17 09:48:02,365 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:48:02,365 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:48:02,366 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:48:02,366 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:48:02,366 INFO üîì LLM analysis flag cleared after 11.86s
2025-10-17 09:48:03,141 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.4s more, min interval: 60s)
2025-10-17 09:48:07,351 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.2s more, min interval: 60s)
2025-10-17 09:48:07,482 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719687.481905, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:07,514 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:07,514 WARNING üö´ LLM request blocked: Too soon (wait 43.0s more, min interval: 60s)
2025-10-17 09:48:11,568 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.9s more, min interval: 60s)
2025-10-17 09:48:12,491 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719692.491643, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:12,514 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:12,515 WARNING üö´ LLM request blocked: Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 09:48:15,780 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.7s more, min interval: 60s)
2025-10-17 09:48:19,988 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.5s more, min interval: 60s)
2025-10-17 09:48:20,513 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719700.513102, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:20,546 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:20,547 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 09:48:24,207 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.3s more, min interval: 60s)
2025-10-17 09:48:28,426 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.1s more, min interval: 60s)
2025-10-17 09:48:28,521 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719708.520889, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:28,547 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:28,547 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 09:48:32,663 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.8s more, min interval: 60s)
2025-10-17 09:48:33,520 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719713.519994, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:33,553 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:33,553 WARNING üö´ LLM request blocked: Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 09:48:36,883 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.6s more, min interval: 60s)
2025-10-17 09:48:41,104 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.4s more, min interval: 60s)
2025-10-17 09:48:41,536 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719721.5361788, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:41,563 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:41,564 WARNING üö´ LLM request blocked: Too soon (wait 8.9s more, min interval: 60s)
2025-10-17 09:48:45,324 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-17 09:48:49,544 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 09:48:50,580 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719730.579863, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:50,610 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:50,610 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-17 09:48:50,610 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 09:48:50,614 INFO feature comparison prepared
2025-10-17 09:48:53,770 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.8s more, min interval: 60s)
2025-10-17 09:48:58,001 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.6s more, min interval: 60s)
2025-10-17 09:48:58,513 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719738.513657, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:48:58,537 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:48:58,537 WARNING üö´ LLM request blocked: Too soon (wait 52.1s more, min interval: 60s)
2025-10-17 09:49:02,232 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.4s more, min interval: 60s)
2025-10-17 09:49:05,309 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 09:49:05,309 INFO üìä LLM analyses keys: dict_keys(['anthropic'])
2025-10-17 09:49:05,310 INFO üìä anthropic - status: success, has_analysis: True
2025-10-17 09:49:05,311 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-17 09:49:05,312 INFO ‚úÖ Saved analysis to history (id: 1760719745311)
2025-10-17 09:49:05,313 INFO multi-llm analysis completed id=Fault-2
2025-10-17 09:49:06,469 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.1s more, min interval: 60s)
2025-10-17 09:49:06,540 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719746.539983, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:06,563 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:06,563 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 09:49:10,699 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.9s more, min interval: 60s)
2025-10-17 09:49:11,539 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719751.539775, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:11,563 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:11,563 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 09:49:14,926 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.7s more, min interval: 60s)
2025-10-17 09:49:19,163 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.4s more, min interval: 60s)
2025-10-17 09:49:19,572 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719759.571851, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:19,601 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:19,601 WARNING üö´ LLM request blocked: Too soon (wait 31.0s more, min interval: 60s)
2025-10-17 09:49:23,397 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.2s more, min interval: 60s)
2025-10-17 09:49:27,630 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.0s more, min interval: 60s)
2025-10-17 09:49:28,597 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719768.597172, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:28,620 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:28,620 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 09:49:31,868 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.7s more, min interval: 60s)
2025-10-17 09:49:36,106 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.5s more, min interval: 60s)
2025-10-17 09:49:36,586 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719776.586544, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:36,611 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:36,611 WARNING üö´ LLM request blocked: Too soon (wait 14.0s more, min interval: 60s)
2025-10-17 09:49:40,347 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.3s more, min interval: 60s)
2025-10-17 09:49:44,611 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 09:49:45,616 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719785.6167932, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:45,644 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:45,644 WARNING üö´ LLM request blocked: Too soon (wait 5.0s more, min interval: 60s)
2025-10-17 09:49:48,850 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.8s more, min interval: 60s)
2025-10-17 09:49:53,105 INFO ‚úÖ LLM request allowed - OK (last request 62.5s ago)
2025-10-17 09:49:53,108 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:49:53,109 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:49:53,109 INFO üîç Analysis flag set at 09:49:53
2025-10-17 09:49:53,109 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:49:53,601 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719793.60169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:49:53,642 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:49:53,642 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 09:50:02,611 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719802.6114361, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:02,640 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:02,640 WARNING üö´ LLM request blocked: Too soon (wait 50.5s more, min interval: 60s)
2025-10-17 09:50:05,851 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:50:06,623 INFO ‚úÖ LLM analysis completed in 13.51s
2025-10-17 09:50:06,624 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:50:06,624 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:50:06,625 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:50:06,625 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:50:06,625 INFO üîì LLM analysis flag cleared after 13.52s
2025-10-17 09:50:10,088 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.0s more, min interval: 60s)
2025-10-17 09:50:10,628 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719810.6280189, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:10,659 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:10,659 WARNING üö´ LLM request blocked: Too soon (wait 42.4s more, min interval: 60s)
2025-10-17 09:50:14,336 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.8s more, min interval: 60s)
2025-10-17 09:50:18,594 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.5s more, min interval: 60s)
2025-10-17 09:50:19,640 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719819.640779, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:19,668 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:19,669 WARNING üö´ LLM request blocked: Too soon (wait 33.4s more, min interval: 60s)
2025-10-17 09:50:22,852 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.3s more, min interval: 60s)
2025-10-17 09:50:27,110 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.0s more, min interval: 60s)
2025-10-17 09:50:27,652 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719827.652382, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:27,681 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:27,681 WARNING üö´ LLM request blocked: Too soon (wait 25.4s more, min interval: 60s)
2025-10-17 09:50:31,382 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.7s more, min interval: 60s)
2025-10-17 09:50:35,647 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.5s more, min interval: 60s)
2025-10-17 09:50:36,670 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719836.670351, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:36,705 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:36,706 WARNING üö´ LLM request blocked: Too soon (wait 16.4s more, min interval: 60s)
2025-10-17 09:50:39,908 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.2s more, min interval: 60s)
2025-10-17 09:50:44,166 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.9s more, min interval: 60s)
2025-10-17 09:50:44,670 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719844.6700642, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:44,697 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:44,697 WARNING üö´ LLM request blocked: Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 09:50:48,436 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.7s more, min interval: 60s)
2025-10-17 09:50:52,703 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.4s more, min interval: 60s)
2025-10-17 09:50:53,681 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719853.6808581, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:50:53,709 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:50:53,709 INFO ‚úÖ LLM request allowed: OK (last request 60.6s ago)
2025-10-17 09:50:53,709 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 09:50:53,711 INFO feature comparison prepared
2025-10-17 09:50:56,965 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.7s more, min interval: 60s)
2025-10-17 09:51:01,231 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.5s more, min interval: 60s)
2025-10-17 09:51:01,662 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719861.6625621, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:01,686 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:01,686 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-17 09:51:05,497 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.2s more, min interval: 60s)
2025-10-17 09:51:06,858 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 09:51:06,858 INFO üìä LLM analyses keys: dict_keys(['anthropic'])
2025-10-17 09:51:06,858 INFO üìä anthropic - status: success, has_analysis: True
2025-10-17 09:51:06,859 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-17 09:51:06,859 INFO ‚úÖ Saved analysis to history (id: 1760719866859)
2025-10-17 09:51:06,859 INFO multi-llm analysis completed id=Fault-2
2025-10-17 09:51:09,767 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 09:51:10,698 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719870.698128, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:10,728 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:10,729 WARNING üö´ LLM request blocked: Too soon (wait 43.0s more, min interval: 60s)
2025-10-17 09:51:14,072 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.6s more, min interval: 60s)
2025-10-17 09:51:18,354 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.4s more, min interval: 60s)
2025-10-17 09:51:18,715 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719878.714758, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:18,751 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:18,752 WARNING üö´ LLM request blocked: Too soon (wait 35.0s more, min interval: 60s)
2025-10-17 09:51:22,631 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.1s more, min interval: 60s)
2025-10-17 09:51:26,910 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.8s more, min interval: 60s)
2025-10-17 09:51:27,710 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719887.710041, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:27,740 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:27,740 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-17 09:51:31,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 09:51:35,468 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.2s more, min interval: 60s)
2025-10-17 09:51:35,737 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719895.737209, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:35,771 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:35,771 WARNING üö´ LLM request blocked: Too soon (wait 17.9s more, min interval: 60s)
2025-10-17 09:51:39,756 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.0s more, min interval: 60s)
2025-10-17 09:51:40,744 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719900.744527, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:40,778 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:40,778 WARNING üö´ LLM request blocked: Too soon (wait 12.9s more, min interval: 60s)
2025-10-17 09:51:44,041 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.7s more, min interval: 60s)
2025-10-17 09:51:48,322 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-17 09:51:48,768 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719908.767723, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:48,798 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:48,799 WARNING üö´ LLM request blocked: Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 09:51:52,610 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.1s more, min interval: 60s)
2025-10-17 09:51:56,896 INFO ‚úÖ LLM request allowed - OK (last request 63.2s ago)
2025-10-17 09:51:56,899 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:51:56,900 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:51:56,900 INFO üîç Analysis flag set at 09:51:56
2025-10-17 09:51:56,900 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:51:57,775 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719917.775305, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:51:57,811 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:51:57,811 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-17 09:52:05,771 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719925.7711759, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:05,801 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:05,801 WARNING üö´ LLM request blocked: Too soon (wait 51.1s more, min interval: 60s)
2025-10-17 09:52:09,780 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:52:09,937 INFO ‚úÖ LLM analysis completed in 13.04s
2025-10-17 09:52:09,938 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:52:09,938 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:52:09,939 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:52:09,939 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:52:09,939 INFO üîì LLM analysis flag cleared after 13.04s
2025-10-17 09:52:10,792 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719930.792257, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:10,822 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:10,822 WARNING üö´ LLM request blocked: Too soon (wait 46.1s more, min interval: 60s)
2025-10-17 09:52:14,079 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.8s more, min interval: 60s)
2025-10-17 09:52:18,371 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 09:52:18,798 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719938.798291, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:18,836 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:18,837 WARNING üö´ LLM request blocked: Too soon (wait 38.1s more, min interval: 60s)
2025-10-17 09:52:22,658 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.2s more, min interval: 60s)
2025-10-17 09:52:26,966 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.9s more, min interval: 60s)
2025-10-17 09:52:27,809 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719947.808819, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:27,850 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:27,850 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 09:52:31,268 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.6s more, min interval: 60s)
2025-10-17 09:52:35,571 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.3s more, min interval: 60s)
2025-10-17 09:52:35,804 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719955.80429, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:35,825 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:35,825 WARNING üö´ LLM request blocked: Too soon (wait 21.1s more, min interval: 60s)
2025-10-17 09:52:39,867 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 09:52:40,810 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719960.8102138, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:40,833 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:40,834 WARNING üö´ LLM request blocked: Too soon (wait 16.1s more, min interval: 60s)
2025-10-17 09:52:44,170 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.7s more, min interval: 60s)
2025-10-17 09:52:48,470 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 09:52:48,825 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719968.824787, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:48,854 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:48,855 WARNING üö´ LLM request blocked: Too soon (wait 8.0s more, min interval: 60s)
2025-10-17 09:52:52,772 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.1s more, min interval: 60s)
2025-10-17 09:52:53,849 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719973.8492758, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:52:53,886 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:52:53,886 WARNING üö´ LLM request blocked: Too soon (wait 3.0s more, min interval: 60s)
2025-10-17 09:52:57,103 INFO ‚úÖ LLM request allowed - OK (last request 60.2s ago)
2025-10-17 09:52:57,105 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:52:57,106 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:52:57,106 INFO üîç Analysis flag set at 09:52:57
2025-10-17 09:52:57,106 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:53:01,857 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719981.857632, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:53:01,890 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:53:01,890 WARNING üö´ LLM request blocked: Too soon (wait 55.2s more, min interval: 60s)
2025-10-17 09:53:10,052 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:53:10,210 INFO ‚úÖ LLM analysis completed in 13.10s
2025-10-17 09:53:10,211 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:53:10,211 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:53:10,212 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:53:10,212 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:53:10,213 INFO üîì LLM analysis flag cleared after 13.11s
2025-10-17 09:53:10,842 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719990.8417768, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:53:10,867 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:53:10,867 WARNING üö´ LLM request blocked: Too soon (wait 46.2s more, min interval: 60s)
2025-10-17 09:53:14,371 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.7s more, min interval: 60s)
2025-10-17 09:53:18,859 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.2s more, min interval: 60s)
2025-10-17 09:53:19,846 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760719999.8465679, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:53:19,870 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:53:19,871 WARNING üö´ LLM request blocked: Too soon (wait 37.2s more, min interval: 60s)
2025-10-17 09:53:23,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.9s more, min interval: 60s)
2025-10-17 09:53:27,494 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.6s more, min interval: 60s)
2025-10-17 09:53:28,045 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760720008.0456672, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 09:53:28,095 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 09:53:28,095 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 09:53:31,853 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.3s more, min interval: 60s)
2025-10-17 09:53:36,158 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-17 09:53:40,510 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.6s more, min interval: 60s)
2025-10-17 09:53:44,836 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 09:53:49,212 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-17 09:53:53,557 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.5s more, min interval: 60s)
2025-10-17 09:53:57,886 INFO ‚úÖ LLM request allowed - OK (last request 60.8s ago)
2025-10-17 09:53:57,888 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:53:57,889 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:53:57,889 INFO üîç Analysis flag set at 09:53:57
2025-10-17 09:53:57,889 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:54:10,863 INFO ‚úÖ LLM analysis completed in 12.97s
2025-10-17 09:54:10,863 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:54:10,863 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:54:10,863 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:54:10,864 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:54:10,864 INFO üîì LLM analysis flag cleared after 12.97s
2025-10-17 09:54:10,901 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.0s more, min interval: 60s)
2025-10-17 09:54:15,295 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.6s more, min interval: 60s)
2025-10-17 09:54:19,634 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.3s more, min interval: 60s)
2025-10-17 09:54:23,969 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.9s more, min interval: 60s)
2025-10-17 09:54:28,316 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.6s more, min interval: 60s)
2025-10-17 09:54:32,656 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.2s more, min interval: 60s)
2025-10-17 09:54:36,994 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-17 09:54:41,345 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-17 09:54:45,689 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.2s more, min interval: 60s)
2025-10-17 09:54:50,031 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-17 09:54:54,399 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.5s more, min interval: 60s)
2025-10-17 09:54:58,755 INFO ‚úÖ LLM request allowed - OK (last request 60.9s ago)
2025-10-17 09:54:58,757 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:54:58,758 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:54:58,759 INFO üîç Analysis flag set at 09:54:58
2025-10-17 09:54:58,759 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:55:11,476 INFO ‚úÖ LLM analysis completed in 12.72s
2025-10-17 09:55:11,477 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:55:11,477 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:55:11,477 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:55:11,478 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:55:11,478 INFO üîì LLM analysis flag cleared after 12.72s
2025-10-17 09:55:11,809 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.9s more, min interval: 60s)
2025-10-17 09:55:16,159 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.6s more, min interval: 60s)
2025-10-17 09:55:20,517 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.2s more, min interval: 60s)
2025-10-17 09:55:24,870 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.9s more, min interval: 60s)
2025-10-17 09:55:29,223 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.5s more, min interval: 60s)
2025-10-17 09:55:33,577 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.2s more, min interval: 60s)
2025-10-17 09:55:37,937 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.8s more, min interval: 60s)
2025-10-17 09:55:42,296 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-17 09:55:46,661 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.1s more, min interval: 60s)
2025-10-17 09:55:51,021 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.7s more, min interval: 60s)
2025-10-17 09:55:55,383 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-17 09:55:59,741 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-17 09:55:59,744 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:55:59,745 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:55:59,745 INFO üîç Analysis flag set at 09:55:59
2025-10-17 09:55:59,745 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:56:12,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:56:13,737 INFO ‚úÖ LLM analysis completed in 13.99s
2025-10-17 09:56:13,739 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:56:13,739 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:56:13,739 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:56:13,740 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:56:13,740 INFO üîì LLM analysis flag cleared after 14.00s
2025-10-17 09:56:17,243 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.5s more, min interval: 60s)
2025-10-17 09:56:21,642 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.1s more, min interval: 60s)
2025-10-17 09:56:26,012 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.7s more, min interval: 60s)
2025-10-17 09:56:30,380 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.4s more, min interval: 60s)
2025-10-17 09:56:34,757 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.0s more, min interval: 60s)
2025-10-17 09:56:39,141 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.6s more, min interval: 60s)
2025-10-17 09:56:43,517 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.2s more, min interval: 60s)
2025-10-17 09:56:47,904 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.8s more, min interval: 60s)
2025-10-17 09:56:52,293 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.5s more, min interval: 60s)
2025-10-17 09:56:56,675 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.1s more, min interval: 60s)
2025-10-17 09:57:01,058 INFO ‚úÖ LLM request allowed - OK (last request 61.3s ago)
2025-10-17 09:57:01,060 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:57:01,061 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:57:01,061 INFO üîç Analysis flag set at 09:57:01
2025-10-17 09:57:01,061 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:57:13,898 INFO ‚úÖ LLM analysis completed in 12.84s
2025-10-17 09:57:13,899 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:57:13,899 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:57:13,899 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:57:13,899 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:57:13,899 INFO üîì LLM analysis flag cleared after 12.84s
2025-10-17 09:57:14,215 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.8s more, min interval: 60s)
2025-10-17 09:57:18,603 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.5s more, min interval: 60s)
2025-10-17 09:57:22,992 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.1s more, min interval: 60s)
2025-10-17 09:57:27,389 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.7s more, min interval: 60s)
2025-10-17 09:57:31,781 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.3s more, min interval: 60s)
2025-10-17 09:57:36,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.9s more, min interval: 60s)
2025-10-17 09:57:40,563 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-17 09:57:44,974 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.1s more, min interval: 60s)
2025-10-17 09:57:49,376 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 09:57:53,772 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.3s more, min interval: 60s)
2025-10-17 09:57:58,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.9s more, min interval: 60s)
2025-10-17 09:58:02,579 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-17 09:58:02,581 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:58:02,582 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:58:02,582 INFO üîç Analysis flag set at 09:58:02
2025-10-17 09:58:02,582 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:58:15,769 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 09:58:16,019 INFO ‚úÖ LLM analysis completed in 13.44s
2025-10-17 09:58:16,020 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:58:16,021 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:58:16,021 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:58:16,022 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:58:16,022 INFO üîì LLM analysis flag cleared after 13.44s
2025-10-17 09:58:20,185 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.4s more, min interval: 60s)
2025-10-17 09:58:24,610 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 09:58:29,017 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.6s more, min interval: 60s)
2025-10-17 09:58:33,435 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.1s more, min interval: 60s)
2025-10-17 09:58:37,853 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.7s more, min interval: 60s)
2025-10-17 09:58:42,275 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.3s more, min interval: 60s)
2025-10-17 09:58:46,704 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.9s more, min interval: 60s)
2025-10-17 09:58:51,127 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 09:58:55,544 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-17 09:58:59,961 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.6s more, min interval: 60s)
2025-10-17 09:59:04,385 INFO ‚úÖ LLM request allowed - OK (last request 61.8s ago)
2025-10-17 09:59:04,387 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 09:59:04,388 INFO ü§ñ Starting background LLM analysis...
2025-10-17 09:59:04,388 INFO üîç Analysis flag set at 09:59:04
2025-10-17 09:59:04,388 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 09:59:17,033 INFO ‚úÖ LLM analysis completed in 12.65s
2025-10-17 09:59:17,034 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 09:59:17,034 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 09:59:17,034 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 09:59:17,035 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 09:59:17,035 INFO üîì LLM analysis flag cleared after 12.65s
2025-10-17 09:59:17,703 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.7s more, min interval: 60s)
2025-10-17 09:59:22,130 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.3s more, min interval: 60s)
2025-10-17 09:59:26,566 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.8s more, min interval: 60s)
2025-10-17 09:59:31,008 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.4s more, min interval: 60s)
2025-10-17 09:59:35,470 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.9s more, min interval: 60s)
2025-10-17 09:59:39,905 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.5s more, min interval: 60s)
2025-10-17 09:59:44,353 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-17 09:59:48,791 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.6s more, min interval: 60s)
2025-10-17 09:59:53,229 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.2s more, min interval: 60s)
2025-10-17 09:59:57,669 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.7s more, min interval: 60s)
2025-10-17 10:00:02,115 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.3s more, min interval: 60s)
2025-10-17 10:00:06,553 INFO ‚úÖ LLM request allowed - OK (last request 62.2s ago)
2025-10-17 10:00:06,555 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:00:06,556 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:00:06,556 INFO üîç Analysis flag set at 10:00:06
2025-10-17 10:00:06,556 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:00:19,088 INFO ‚úÖ LLM analysis completed in 12.53s
2025-10-17 10:00:19,089 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:00:19,089 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:00:19,089 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:00:19,090 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:00:19,090 INFO üîì LLM analysis flag cleared after 12.53s
2025-10-17 10:00:19,894 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.7s more, min interval: 60s)
2025-10-17 10:00:24,344 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.2s more, min interval: 60s)
2025-10-17 10:00:28,799 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.8s more, min interval: 60s)
2025-10-17 10:00:33,250 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.3s more, min interval: 60s)
2025-10-17 10:00:37,707 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.8s more, min interval: 60s)
2025-10-17 10:00:42,163 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.4s more, min interval: 60s)
2025-10-17 10:00:46,617 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.9s more, min interval: 60s)
2025-10-17 10:00:51,073 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.5s more, min interval: 60s)
2025-10-17 10:00:55,536 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.0s more, min interval: 60s)
2025-10-17 10:00:59,993 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.6s more, min interval: 60s)
2025-10-17 10:01:04,449 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-17 10:01:08,908 INFO ‚úÖ LLM request allowed - OK (last request 62.4s ago)
2025-10-17 10:01:08,911 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:01:08,912 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:01:08,912 INFO üîç Analysis flag set at 10:01:08
2025-10-17 10:01:08,912 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:01:21,634 INFO ‚úÖ LLM analysis completed in 12.72s
2025-10-17 10:01:21,635 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:01:21,635 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:01:21,635 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:01:21,636 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:01:21,636 INFO üîì LLM analysis flag cleared after 12.72s
2025-10-17 10:01:22,298 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.6s more, min interval: 60s)
2025-10-17 10:01:26,770 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.1s more, min interval: 60s)
2025-10-17 10:01:31,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.7s more, min interval: 60s)
2025-10-17 10:01:35,710 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 10:01:40,189 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.7s more, min interval: 60s)
2025-10-17 10:01:44,665 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.2s more, min interval: 60s)
2025-10-17 10:01:49,143 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.8s more, min interval: 60s)
2025-10-17 10:01:53,620 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.3s more, min interval: 60s)
2025-10-17 10:01:58,118 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.8s more, min interval: 60s)
2025-10-17 10:02:02,612 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 10:02:07,093 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.8s more, min interval: 60s)
2025-10-17 10:02:11,572 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-17 10:02:11,574 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:02:11,575 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:02:11,575 INFO üîç Analysis flag set at 10:02:11
2025-10-17 10:02:11,575 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:02:25,034 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 10:02:25,611 INFO ‚úÖ LLM analysis completed in 14.04s
2025-10-17 10:02:25,612 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:02:25,612 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:02:25,613 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:02:25,613 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:02:25,613 INFO üîì LLM analysis flag cleared after 14.04s
2025-10-17 10:02:29,520 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.1s more, min interval: 60s)
2025-10-17 10:02:34,019 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.6s more, min interval: 60s)
2025-10-17 10:02:38,529 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 10:02:43,025 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.6s more, min interval: 60s)
2025-10-17 10:02:47,556 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.0s more, min interval: 60s)
2025-10-17 10:02:52,052 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.5s more, min interval: 60s)
2025-10-17 10:02:56,559 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.0s more, min interval: 60s)
2025-10-17 10:03:01,064 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.5s more, min interval: 60s)
2025-10-17 10:03:05,572 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 10:03:10,071 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.5s more, min interval: 60s)
2025-10-17 10:03:14,567 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-17 10:03:14,570 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:03:14,571 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:03:14,571 INFO üîç Analysis flag set at 10:03:14
2025-10-17 10:03:14,571 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:03:27,325 INFO ‚úÖ LLM analysis completed in 12.75s
2025-10-17 10:03:27,326 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:03:27,327 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:03:27,327 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:03:27,327 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:03:27,327 INFO üîì LLM analysis flag cleared after 12.76s
2025-10-17 10:03:28,084 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.5s more, min interval: 60s)
2025-10-17 10:03:32,594 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.0s more, min interval: 60s)
2025-10-17 10:03:37,106 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.5s more, min interval: 60s)
2025-10-17 10:03:41,617 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 10:03:46,129 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.4s more, min interval: 60s)
2025-10-17 10:03:50,640 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.9s more, min interval: 60s)
2025-10-17 10:03:55,172 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.4s more, min interval: 60s)
2025-10-17 10:03:59,686 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.9s more, min interval: 60s)
2025-10-17 10:04:04,208 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.4s more, min interval: 60s)
2025-10-17 10:04:08,737 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 10:04:13,255 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-17 10:04:17,771 INFO ‚úÖ LLM request allowed - OK (last request 63.2s ago)
2025-10-17 10:04:17,773 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:04:17,774 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:04:17,774 INFO üîç Analysis flag set at 10:04:17
2025-10-17 10:04:17,774 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:04:31,363 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 10:04:31,451 INFO ‚úÖ LLM analysis completed in 13.68s
2025-10-17 10:04:31,452 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:04:31,452 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:04:31,452 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:04:31,453 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:04:31,453 INFO üîì LLM analysis flag cleared after 13.68s
2025-10-17 10:04:35,903 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.9s more, min interval: 60s)
2025-10-17 10:04:40,431 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.3s more, min interval: 60s)
2025-10-17 10:04:44,964 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.8s more, min interval: 60s)
2025-10-17 10:04:49,512 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.3s more, min interval: 60s)
2025-10-17 10:04:54,067 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.7s more, min interval: 60s)
2025-10-17 10:04:58,618 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.2s more, min interval: 60s)
2025-10-17 10:05:03,168 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.6s more, min interval: 60s)
2025-10-17 10:05:07,708 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.1s more, min interval: 60s)
2025-10-17 10:05:12,260 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.5s more, min interval: 60s)
2025-10-17 10:05:16,807 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 10:05:21,357 INFO ‚úÖ LLM request allowed - OK (last request 63.6s ago)
2025-10-17 10:05:21,359 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:05:21,360 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:05:21,360 INFO üîç Analysis flag set at 10:05:21
2025-10-17 10:05:21,360 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:05:34,990 INFO ‚úÖ LLM analysis completed in 13.63s
2025-10-17 10:05:34,991 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:05:34,991 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:05:34,992 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:05:34,992 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:05:34,993 INFO üîì LLM analysis flag cleared after 13.63s
2025-10-17 10:05:35,012 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.3s more, min interval: 60s)
2025-10-17 10:05:39,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.8s more, min interval: 60s)
2025-10-17 10:05:44,109 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.3s more, min interval: 60s)
2025-10-17 10:05:48,675 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.7s more, min interval: 60s)
2025-10-17 10:05:53,279 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.1s more, min interval: 60s)
2025-10-17 10:05:57,841 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.5s more, min interval: 60s)
2025-10-17 10:06:02,447 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.9s more, min interval: 60s)
2025-10-17 10:06:07,015 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.3s more, min interval: 60s)
2025-10-17 10:06:11,579 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.8s more, min interval: 60s)
2025-10-17 10:06:16,152 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-17 10:06:20,710 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 10:06:25,271 INFO ‚úÖ LLM request allowed - OK (last request 63.9s ago)
2025-10-17 10:06:25,273 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:06:25,274 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:06:25,274 INFO üîç Analysis flag set at 10:06:25
2025-10-17 10:06:25,274 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:06:38,580 INFO ‚úÖ LLM analysis completed in 13.31s
2025-10-17 10:06:38,583 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:06:38,583 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:06:38,583 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:06:38,584 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:06:38,584 INFO üîì LLM analysis flag cleared after 13.31s
2025-10-17 10:06:38,984 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.3s more, min interval: 60s)
2025-10-17 10:06:43,549 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.7s more, min interval: 60s)
2025-10-17 10:06:48,376 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.9s more, min interval: 60s)
2025-10-17 10:06:52,939 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.3s more, min interval: 60s)
2025-10-17 10:06:57,517 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 10:07:02,141 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.1s more, min interval: 60s)
2025-10-17 10:07:06,714 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.6s more, min interval: 60s)
2025-10-17 10:07:11,305 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.0s more, min interval: 60s)
2025-10-17 10:07:15,886 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.4s more, min interval: 60s)
2025-10-17 10:07:20,457 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.8s more, min interval: 60s)
2025-10-17 10:07:25,034 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-17 10:07:29,619 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-17 10:07:29,623 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:07:29,624 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:07:29,624 INFO üîç Analysis flag set at 10:07:29
2025-10-17 10:07:29,624 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:07:42,272 INFO ‚úÖ LLM analysis completed in 12.65s
2025-10-17 10:07:42,273 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:07:42,273 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:07:42,273 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:07:42,274 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:07:42,274 INFO üîì LLM analysis flag cleared after 12.65s
2025-10-17 10:07:43,423 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.2s more, min interval: 60s)
2025-10-17 10:07:48,042 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.6s more, min interval: 60s)
2025-10-17 10:07:52,635 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.0s more, min interval: 60s)
2025-10-17 10:07:57,221 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.4s more, min interval: 60s)
2025-10-17 10:08:01,826 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 10:08:06,418 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.2s more, min interval: 60s)
2025-10-17 10:08:11,022 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.6s more, min interval: 60s)
2025-10-17 10:08:15,611 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.0s more, min interval: 60s)
2025-10-17 10:08:20,219 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.4s more, min interval: 60s)
2025-10-17 10:08:24,813 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.8s more, min interval: 60s)
2025-10-17 10:08:29,408 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-17 10:08:34,008 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 10:08:34,010 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:08:34,011 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:08:34,011 INFO üîç Analysis flag set at 10:08:34
2025-10-17 10:08:34,011 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:08:46,989 INFO ‚úÖ LLM analysis completed in 12.98s
2025-10-17 10:08:46,990 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:08:46,990 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:08:46,990 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:08:46,991 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:08:46,991 INFO üîì LLM analysis flag cleared after 12.98s
2025-10-17 10:08:47,895 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.1s more, min interval: 60s)
2025-10-17 10:08:52,528 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.5s more, min interval: 60s)
2025-10-17 10:08:57,147 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.9s more, min interval: 60s)
2025-10-17 10:09:01,758 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.3s more, min interval: 60s)
2025-10-17 10:09:06,365 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.6s more, min interval: 60s)
2025-10-17 10:09:10,974 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.0s more, min interval: 60s)
2025-10-17 10:09:15,581 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.4s more, min interval: 60s)
2025-10-17 10:09:20,202 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.8s more, min interval: 60s)
2025-10-17 10:09:24,818 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.2s more, min interval: 60s)
2025-10-17 10:09:29,433 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.6s more, min interval: 60s)
2025-10-17 10:09:34,061 INFO ‚úÖ LLM request allowed - OK (last request 60.0s ago)
2025-10-17 10:09:34,064 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:09:34,065 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:09:34,065 INFO üîç Analysis flag set at 10:09:34
2025-10-17 10:09:34,065 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:09:47,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 10:09:48,945 INFO ‚úÖ LLM analysis completed in 14.88s
2025-10-17 10:09:48,946 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:09:48,946 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:09:48,946 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:09:48,947 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:09:48,947 INFO üîì LLM analysis flag cleared after 14.88s
2025-10-17 10:09:52,622 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.4s more, min interval: 60s)
2025-10-17 10:09:57,259 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.8s more, min interval: 60s)
2025-10-17 10:10:01,901 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.2s more, min interval: 60s)
2025-10-17 10:10:06,530 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.5s more, min interval: 60s)
2025-10-17 10:10:11,163 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.9s more, min interval: 60s)
2025-10-17 10:10:15,807 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.3s more, min interval: 60s)
2025-10-17 10:10:20,440 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.6s more, min interval: 60s)
2025-10-17 10:10:25,075 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.0s more, min interval: 60s)
2025-10-17 10:10:29,706 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.4s more, min interval: 60s)
2025-10-17 10:10:34,337 INFO ‚úÖ LLM request allowed - OK (last request 60.3s ago)
2025-10-17 10:10:34,339 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:10:34,340 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:10:34,340 INFO üîç Analysis flag set at 10:10:34
2025-10-17 10:10:34,341 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:10:46,544 INFO ‚úÖ LLM analysis completed in 12.20s
2025-10-17 10:10:46,546 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:10:46,546 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:10:46,546 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:10:46,547 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:10:46,547 INFO üîì LLM analysis flag cleared after 12.21s
2025-10-17 10:10:48,253 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.1s more, min interval: 60s)
2025-10-17 10:10:52,890 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.5s more, min interval: 60s)
2025-10-17 10:10:57,540 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.8s more, min interval: 60s)
2025-10-17 10:11:02,189 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.2s more, min interval: 60s)
2025-10-17 10:11:06,834 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.5s more, min interval: 60s)
2025-10-17 10:11:11,493 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.8s more, min interval: 60s)
2025-10-17 10:11:16,156 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.2s more, min interval: 60s)
2025-10-17 10:11:20,808 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.5s more, min interval: 60s)
2025-10-17 10:11:25,472 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.9s more, min interval: 60s)
2025-10-17 10:11:30,156 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-17 10:11:34,812 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-17 10:11:34,815 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:11:34,816 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:11:34,816 INFO üîç Analysis flag set at 10:11:34
2025-10-17 10:11:34,816 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:11:48,818 INFO ‚úÖ LLM analysis completed in 14.00s
2025-10-17 10:11:48,819 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:11:48,820 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:11:48,820 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:11:48,821 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:11:48,821 INFO üîì LLM analysis flag cleared after 14.01s
2025-10-17 10:11:48,836 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.0s more, min interval: 60s)
2025-10-17 10:11:53,491 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.3s more, min interval: 60s)
2025-10-17 10:11:58,161 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.7s more, min interval: 60s)
2025-10-17 10:12:02,869 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.9s more, min interval: 60s)
2025-10-17 10:12:07,548 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.3s more, min interval: 60s)
2025-10-17 10:12:12,243 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.6s more, min interval: 60s)
2025-10-17 10:12:16,924 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.9s more, min interval: 60s)
2025-10-17 10:12:21,605 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.2s more, min interval: 60s)
2025-10-17 10:12:26,273 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.5s more, min interval: 60s)
2025-10-17 10:12:30,934 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.9s more, min interval: 60s)
2025-10-17 10:12:35,615 INFO ‚úÖ LLM request allowed - OK (last request 60.8s ago)
2025-10-17 10:12:35,617 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:12:35,618 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:12:35,618 INFO üîç Analysis flag set at 10:12:35
2025-10-17 10:12:35,618 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:12:49,429 INFO ‚úÖ LLM analysis completed in 13.81s
2025-10-17 10:12:49,430 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:12:49,430 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:12:49,431 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:12:49,432 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:12:49,432 INFO üîì LLM analysis flag cleared after 13.81s
2025-10-17 10:12:49,677 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.9s more, min interval: 60s)
2025-10-17 10:12:50,423 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721170.423699, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:12:50,559 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:12:50,559 WARNING üö´ LLM request blocked: Too soon (wait 45.1s more, min interval: 60s)
2025-10-17 10:12:54,358 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.3s more, min interval: 60s)
2025-10-17 10:12:55,435 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721175.435332, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:12:55,474 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:12:55,474 WARNING üö´ LLM request blocked: Too soon (wait 40.1s more, min interval: 60s)
2025-10-17 10:12:59,060 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.6s more, min interval: 60s)
2025-10-17 10:13:03,750 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.9s more, min interval: 60s)
2025-10-17 10:13:08,424 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.2s more, min interval: 60s)
2025-10-17 10:13:13,117 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 10:13:17,811 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.8s more, min interval: 60s)
2025-10-17 10:13:22,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.1s more, min interval: 60s)
2025-10-17 10:13:27,205 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 10:13:31,898 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.7s more, min interval: 60s)
2025-10-17 10:13:36,595 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-17 10:13:36,597 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:13:36,598 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:13:36,598 INFO üîç Analysis flag set at 10:13:36
2025-10-17 10:13:36,598 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:13:48,507 INFO ‚úÖ LLM analysis completed in 11.91s
2025-10-17 10:13:48,508 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:13:48,508 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:13:48,508 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:13:48,508 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:13:48,508 INFO üîì LLM analysis flag cleared after 11.91s
2025-10-17 10:13:50,669 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.9s more, min interval: 60s)
2025-10-17 10:13:55,387 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.2s more, min interval: 60s)
2025-10-17 10:14:00,082 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.5s more, min interval: 60s)
2025-10-17 10:14:04,790 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.8s more, min interval: 60s)
2025-10-17 10:14:09,528 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.1s more, min interval: 60s)
2025-10-17 10:14:14,281 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 10:14:18,991 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.6s more, min interval: 60s)
2025-10-17 10:14:23,705 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.9s more, min interval: 60s)
2025-10-17 10:14:28,446 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-17 10:14:33,161 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-17 10:14:37,881 INFO ‚úÖ LLM request allowed - OK (last request 61.3s ago)
2025-10-17 10:14:37,884 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:14:37,885 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:14:37,885 INFO üîç Analysis flag set at 10:14:37
2025-10-17 10:14:37,885 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:14:50,063 INFO ‚úÖ LLM analysis completed in 12.18s
2025-10-17 10:14:50,065 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:14:50,065 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:14:50,066 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:14:50,066 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:14:50,066 INFO üîì LLM analysis flag cleared after 12.18s
2025-10-17 10:14:52,067 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.8s more, min interval: 60s)
2025-10-17 10:14:56,834 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.1s more, min interval: 60s)
2025-10-17 10:15:01,554 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.3s more, min interval: 60s)
2025-10-17 10:15:06,280 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.6s more, min interval: 60s)
2025-10-17 10:15:10,994 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.9s more, min interval: 60s)
2025-10-17 10:15:15,708 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.2s more, min interval: 60s)
2025-10-17 10:15:20,423 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.5s more, min interval: 60s)
2025-10-17 10:15:25,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.7s more, min interval: 60s)
2025-10-17 10:15:29,882 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.0s more, min interval: 60s)
2025-10-17 10:15:34,618 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.3s more, min interval: 60s)
2025-10-17 10:15:39,353 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-17 10:15:39,355 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:15:39,356 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:15:39,356 INFO üîç Analysis flag set at 10:15:39
2025-10-17 10:15:39,356 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:15:53,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 10:15:54,355 INFO ‚úÖ LLM analysis completed in 15.00s
2025-10-17 10:15:54,356 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:15:54,356 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:15:54,356 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:15:54,357 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:15:54,357 INFO üîì LLM analysis flag cleared after 15.00s
2025-10-17 10:15:58,302 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.1s more, min interval: 60s)
2025-10-17 10:16:03,049 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.3s more, min interval: 60s)
2025-10-17 10:16:07,786 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.6s more, min interval: 60s)
2025-10-17 10:16:12,524 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.8s more, min interval: 60s)
2025-10-17 10:16:17,272 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.1s more, min interval: 60s)
2025-10-17 10:16:22,024 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.3s more, min interval: 60s)
2025-10-17 10:16:26,765 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.6s more, min interval: 60s)
2025-10-17 10:16:31,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.8s more, min interval: 60s)
2025-10-17 10:16:36,251 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.1s more, min interval: 60s)
2025-10-17 10:16:40,996 INFO ‚úÖ LLM request allowed - OK (last request 61.6s ago)
2025-10-17 10:16:40,998 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:16:40,999 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:16:40,999 INFO üîç Analysis flag set at 10:16:40
2025-10-17 10:16:40,999 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:16:53,921 INFO ‚úÖ LLM analysis completed in 12.92s
2025-10-17 10:16:53,923 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:16:53,923 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:16:53,923 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:16:53,923 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:16:53,924 INFO üîì LLM analysis flag cleared after 12.92s
2025-10-17 10:16:55,253 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.7s more, min interval: 60s)
2025-10-17 10:17:00,007 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.0s more, min interval: 60s)
2025-10-17 10:17:04,763 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.2s more, min interval: 60s)
2025-10-17 10:17:09,527 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.5s more, min interval: 60s)
2025-10-17 10:17:14,286 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.7s more, min interval: 60s)
2025-10-17 10:17:19,066 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.9s more, min interval: 60s)
2025-10-17 10:17:23,825 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.2s more, min interval: 60s)
2025-10-17 10:17:28,606 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.4s more, min interval: 60s)
2025-10-17 10:17:33,369 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.6s more, min interval: 60s)
2025-10-17 10:17:38,135 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.9s more, min interval: 60s)
2025-10-17 10:17:42,899 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-17 10:17:42,902 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:17:42,903 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:17:42,903 INFO üîç Analysis flag set at 10:17:42
2025-10-17 10:17:42,903 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:17:55,187 INFO ‚úÖ LLM analysis completed in 12.28s
2025-10-17 10:17:55,188 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:17:55,188 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:17:55,188 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:17:55,188 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:17:55,189 INFO üîì LLM analysis flag cleared after 12.29s
2025-10-17 10:17:57,233 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.7s more, min interval: 60s)
2025-10-17 10:18:02,011 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.9s more, min interval: 60s)
2025-10-17 10:18:06,787 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.1s more, min interval: 60s)
2025-10-17 10:18:11,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.3s more, min interval: 60s)
2025-10-17 10:18:16,331 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.6s more, min interval: 60s)
2025-10-17 10:18:21,103 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.8s more, min interval: 60s)
2025-10-17 10:18:25,887 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 10:18:30,666 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.2s more, min interval: 60s)
2025-10-17 10:18:35,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.4s more, min interval: 60s)
2025-10-17 10:18:40,242 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-17 10:18:45,066 INFO ‚úÖ LLM request allowed - OK (last request 62.2s ago)
2025-10-17 10:18:45,068 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:18:45,068 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:18:45,068 INFO üîç Analysis flag set at 10:18:45
2025-10-17 10:18:45,068 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:18:56,934 INFO ‚úÖ LLM analysis completed in 11.87s
2025-10-17 10:18:56,936 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:18:56,936 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:18:56,936 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:18:56,937 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:18:56,937 INFO üîì LLM analysis flag cleared after 11.87s
2025-10-17 10:18:59,450 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.6s more, min interval: 60s)
2025-10-17 10:19:04,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.8s more, min interval: 60s)
2025-10-17 10:19:09,030 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.0s more, min interval: 60s)
2025-10-17 10:19:13,819 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.2s more, min interval: 60s)
2025-10-17 10:19:18,611 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.5s more, min interval: 60s)
2025-10-17 10:19:23,404 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.7s more, min interval: 60s)
2025-10-17 10:19:28,203 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 10:19:32,997 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.1s more, min interval: 60s)
2025-10-17 10:19:37,813 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.3s more, min interval: 60s)
2025-10-17 10:19:42,617 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.5s more, min interval: 60s)
2025-10-17 10:19:47,418 INFO ‚úÖ LLM request allowed - OK (last request 62.3s ago)
2025-10-17 10:19:47,420 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:19:47,421 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:19:47,421 INFO üîç Analysis flag set at 10:19:47
2025-10-17 10:19:47,421 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:20:00,525 INFO ‚úÖ LLM analysis completed in 13.10s
2025-10-17 10:20:00,527 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:20:00,527 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:20:00,527 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:20:00,528 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:20:00,528 INFO üîì LLM analysis flag cleared after 13.11s
2025-10-17 10:20:01,874 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.5s more, min interval: 60s)
2025-10-17 10:20:06,704 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.7s more, min interval: 60s)
2025-10-17 10:20:11,523 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.9s more, min interval: 60s)
2025-10-17 10:20:16,357 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.1s more, min interval: 60s)
2025-10-17 10:20:21,208 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.2s more, min interval: 60s)
2025-10-17 10:20:26,037 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.4s more, min interval: 60s)
2025-10-17 10:20:30,872 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-17 10:20:35,695 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 10:20:40,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.9s more, min interval: 60s)
2025-10-17 10:20:45,311 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-17 10:20:50,138 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-17 10:20:50,141 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:20:50,142 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:20:50,142 INFO üîç Analysis flag set at 10:20:50
2025-10-17 10:20:50,142 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:21:03,274 INFO ‚úÖ LLM analysis completed in 13.13s
2025-10-17 10:21:03,276 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:21:03,276 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:21:03,276 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:21:03,277 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:21:03,277 INFO üîì LLM analysis flag cleared after 13.14s
2025-10-17 10:21:04,700 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.4s more, min interval: 60s)
2025-10-17 10:21:09,527 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.6s more, min interval: 60s)
2025-10-17 10:21:14,353 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.8s more, min interval: 60s)
2025-10-17 10:21:19,180 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.0s more, min interval: 60s)
2025-10-17 10:21:24,018 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.1s more, min interval: 60s)
2025-10-17 10:21:28,851 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.3s more, min interval: 60s)
2025-10-17 10:21:33,690 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-17 10:21:38,523 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 10:21:43,353 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.8s more, min interval: 60s)
2025-10-17 10:21:48,209 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.9s more, min interval: 60s)
2025-10-17 10:21:53,048 INFO ‚úÖ LLM request allowed - OK (last request 62.9s ago)
2025-10-17 10:21:53,050 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:21:53,051 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:21:53,051 INFO üîç Analysis flag set at 10:21:53
2025-10-17 10:21:53,051 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:22:05,559 INFO ‚úÖ LLM analysis completed in 12.51s
2025-10-17 10:22:05,560 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:22:05,560 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:22:05,561 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:22:05,561 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:22:05,561 INFO üîì LLM analysis flag cleared after 12.51s
2025-10-17 10:22:07,648 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.4s more, min interval: 60s)
2025-10-17 10:22:12,506 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.5s more, min interval: 60s)
2025-10-17 10:22:17,351 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.7s more, min interval: 60s)
2025-10-17 10:22:22,200 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.9s more, min interval: 60s)
2025-10-17 10:22:27,044 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.0s more, min interval: 60s)
2025-10-17 10:22:31,905 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.1s more, min interval: 60s)
2025-10-17 10:22:36,805 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.2s more, min interval: 60s)
2025-10-17 10:22:41,663 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.4s more, min interval: 60s)
2025-10-17 10:22:46,543 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.5s more, min interval: 60s)
2025-10-17 10:22:51,394 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.7s more, min interval: 60s)
2025-10-17 10:22:56,260 INFO ‚úÖ LLM request allowed - OK (last request 63.2s ago)
2025-10-17 10:22:56,262 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:22:56,263 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:22:56,263 INFO üîç Analysis flag set at 10:22:56
2025-10-17 10:22:56,263 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:23:10,913 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 10:23:11,111 INFO ‚úÖ LLM analysis completed in 14.85s
2025-10-17 10:23:11,112 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:23:11,112 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:23:11,112 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:23:11,113 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:23:11,113 INFO üîì LLM analysis flag cleared after 14.85s
2025-10-17 10:23:15,817 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.4s more, min interval: 60s)
2025-10-17 10:23:20,726 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.5s more, min interval: 60s)
2025-10-17 10:23:25,641 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.6s more, min interval: 60s)
2025-10-17 10:23:30,552 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.7s more, min interval: 60s)
2025-10-17 10:23:35,472 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.8s more, min interval: 60s)
2025-10-17 10:23:40,395 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.9s more, min interval: 60s)
2025-10-17 10:23:45,310 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.0s more, min interval: 60s)
2025-10-17 10:23:50,239 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 10:23:55,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.1s more, min interval: 60s)
2025-10-17 10:24:00,097 INFO ‚úÖ LLM request allowed - OK (last request 63.8s ago)
2025-10-17 10:24:00,099 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:24:00,101 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:24:00,101 INFO üîç Analysis flag set at 10:24:00
2025-10-17 10:24:00,101 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:24:13,661 INFO ‚úÖ LLM analysis completed in 13.56s
2025-10-17 10:24:13,663 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:24:13,663 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:24:13,663 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:24:13,664 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:24:13,664 INFO üîì LLM analysis flag cleared after 13.56s
2025-10-17 10:24:14,889 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.2s more, min interval: 60s)
2025-10-17 10:24:19,818 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.3s more, min interval: 60s)
2025-10-17 10:24:24,753 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.3s more, min interval: 60s)
2025-10-17 10:24:29,688 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.4s more, min interval: 60s)
2025-10-17 10:24:34,626 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.5s more, min interval: 60s)
2025-10-17 10:24:39,567 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-17 10:24:44,510 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.6s more, min interval: 60s)
2025-10-17 10:24:49,451 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.6s more, min interval: 60s)
2025-10-17 10:24:54,393 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.7s more, min interval: 60s)
2025-10-17 10:24:59,342 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 10:25:04,287 INFO ‚úÖ LLM request allowed - OK (last request 64.2s ago)
2025-10-17 10:25:04,289 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:25:04,290 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:25:04,290 INFO üîç Analysis flag set at 10:25:04
2025-10-17 10:25:04,290 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:25:18,993 INFO ‚úÖ LLM analysis completed in 14.70s
2025-10-17 10:25:18,995 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:25:18,995 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:25:18,995 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:25:18,995 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:25:18,996 INFO üîì LLM analysis flag cleared after 14.71s
2025-10-17 10:25:19,138 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.2s more, min interval: 60s)
2025-10-17 10:25:24,093 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.2s more, min interval: 60s)
2025-10-17 10:25:29,045 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.2s more, min interval: 60s)
2025-10-17 10:25:33,995 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.3s more, min interval: 60s)
2025-10-17 10:25:38,948 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.3s more, min interval: 60s)
2025-10-17 10:25:43,900 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.4s more, min interval: 60s)
2025-10-17 10:25:48,861 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.4s more, min interval: 60s)
2025-10-17 10:25:53,827 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.5s more, min interval: 60s)
2025-10-17 10:25:58,779 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.5s more, min interval: 60s)
2025-10-17 10:26:03,489 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721963.4889731, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:03,497 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:03,497 WARNING üö´ LLM request blocked: Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 10:26:03,761 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.5s more, min interval: 60s)
2025-10-17 10:26:08,678 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 10:26:08,681 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:26:08,682 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:26:08,682 INFO üîç Analysis flag set at 10:26:08
2025-10-17 10:26:08,682 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:26:09,243 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721969.243741, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:09,251 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:09,251 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 10:26:14,248 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721974.2481742, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:14,256 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:14,256 WARNING üö´ LLM request blocked: Too soon (wait 54.4s more, min interval: 60s)
2025-10-17 10:26:19,256 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721979.256001, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:19,264 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:19,264 WARNING üö´ LLM request blocked: Too soon (wait 49.4s more, min interval: 60s)
2025-10-17 10:26:20,947 INFO ‚úÖ LLM analysis completed in 12.27s
2025-10-17 10:26:20,949 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:26:20,949 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:26:20,949 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:26:20,950 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:26:20,950 INFO üîì LLM analysis flag cleared after 12.27s
2025-10-17 10:26:23,503 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.2s more, min interval: 60s)
2025-10-17 10:26:28,468 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.2s more, min interval: 60s)
2025-10-17 10:26:29,268 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721989.267949, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:29,276 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:29,277 WARNING üö´ LLM request blocked: Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 10:26:33,385 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.3s more, min interval: 60s)
2025-10-17 10:26:34,272 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721994.272151, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:34,279 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:34,279 WARNING üö´ LLM request blocked: Too soon (wait 34.4s more, min interval: 60s)
2025-10-17 10:26:38,329 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.4s more, min interval: 60s)
2025-10-17 10:26:39,282 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760721999.282049, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:39,291 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:39,291 WARNING üö´ LLM request blocked: Too soon (wait 29.4s more, min interval: 60s)
2025-10-17 10:26:43,270 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.4s more, min interval: 60s)
2025-10-17 10:26:44,287 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722004.28706, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:44,296 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:44,296 WARNING üö´ LLM request blocked: Too soon (wait 24.4s more, min interval: 60s)
2025-10-17 10:26:48,213 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-17 10:26:53,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.5s more, min interval: 60s)
2025-10-17 10:26:53,280 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722013.280315, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:53,285 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:53,285 WARNING üö´ LLM request blocked: Too soon (wait 15.4s more, min interval: 60s)
2025-10-17 10:26:58,137 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.5s more, min interval: 60s)
2025-10-17 10:26:58,288 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722018.288866, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:26:58,296 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:26:58,296 WARNING üö´ LLM request blocked: Too soon (wait 10.4s more, min interval: 60s)
2025-10-17 10:27:03,116 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.6s more, min interval: 60s)
2025-10-17 10:27:03,305 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722023.30572, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:03,315 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:03,315 WARNING üö´ LLM request blocked: Too soon (wait 5.4s more, min interval: 60s)
2025-10-17 10:27:08,066 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.6s more, min interval: 60s)
2025-10-17 10:27:08,314 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722028.31472, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:08,322 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:08,322 WARNING üö´ LLM request blocked: Too soon (wait 0.4s more, min interval: 60s)
2025-10-17 10:27:12,999 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-17 10:27:13,001 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:27:13,003 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:27:13,003 INFO üîç Analysis flag set at 10:27:13
2025-10-17 10:27:13,003 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:27:13,363 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722033.363392, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:13,484 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:13,484 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 10:27:18,370 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722038.3697789, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:18,407 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:18,407 WARNING üö´ LLM request blocked: Too soon (wait 54.6s more, min interval: 60s)
2025-10-17 10:27:23,368 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722043.368129, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:23,401 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:23,401 WARNING üö´ LLM request blocked: Too soon (wait 49.6s more, min interval: 60s)
2025-10-17 10:27:25,483 INFO ‚úÖ LLM analysis completed in 12.48s
2025-10-17 10:27:25,486 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:27:25,486 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:27:25,486 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:27:25,487 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:27:25,487 INFO üîì LLM analysis flag cleared after 12.48s
2025-10-17 10:27:27,797 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.2s more, min interval: 60s)
2025-10-17 10:27:28,378 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722048.3780322, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:28,402 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:28,403 WARNING üö´ LLM request blocked: Too soon (wait 44.6s more, min interval: 60s)
2025-10-17 10:27:32,729 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.3s more, min interval: 60s)
2025-10-17 10:27:33,385 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722053.385107, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:33,420 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:33,421 WARNING üö´ LLM request blocked: Too soon (wait 39.6s more, min interval: 60s)
2025-10-17 10:27:37,669 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.3s more, min interval: 60s)
2025-10-17 10:27:38,404 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722058.404429, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:38,439 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:38,440 WARNING üö´ LLM request blocked: Too soon (wait 34.6s more, min interval: 60s)
2025-10-17 10:27:42,603 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.4s more, min interval: 60s)
2025-10-17 10:27:43,428 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722063.428573, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:43,454 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:43,455 WARNING üö´ LLM request blocked: Too soon (wait 29.5s more, min interval: 60s)
2025-10-17 10:27:47,537 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.5s more, min interval: 60s)
2025-10-17 10:27:52,490 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-17 10:27:53,420 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722073.419819, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:27:53,457 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:27:53,457 WARNING üö´ LLM request blocked: Too soon (wait 19.5s more, min interval: 60s)
2025-10-17 10:27:57,443 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.6s more, min interval: 60s)
2025-10-17 10:28:02,380 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.6s more, min interval: 60s)
2025-10-17 10:28:03,425 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722083.424819, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:03,460 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:03,460 WARNING üö´ LLM request blocked: Too soon (wait 9.5s more, min interval: 60s)
2025-10-17 10:28:07,330 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.7s more, min interval: 60s)
2025-10-17 10:28:12,291 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 10:28:12,420 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722092.420785, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:12,447 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:12,447 WARNING üö´ LLM request blocked: Too soon (wait 0.6s more, min interval: 60s)
2025-10-17 10:28:17,258 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-17 10:28:17,261 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:28:17,263 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:28:17,263 INFO üîç Analysis flag set at 10:28:17
2025-10-17 10:28:17,263 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:28:17,430 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722097.43037, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:17,463 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:17,464 WARNING üö´ LLM request blocked: Too soon (wait 59.8s more, min interval: 60s)
2025-10-17 10:28:22,440 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722102.44023, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:22,464 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:22,464 WARNING üö´ LLM request blocked: Too soon (wait 54.8s more, min interval: 60s)
2025-10-17 10:28:27,451 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722107.4517078, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:27,480 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:27,481 WARNING üö´ LLM request blocked: Too soon (wait 49.8s more, min interval: 60s)
2025-10-17 10:28:30,789 INFO ‚úÖ LLM analysis completed in 13.53s
2025-10-17 10:28:30,791 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:28:30,791 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:28:30,791 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:28:30,792 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:28:30,792 INFO üîì LLM analysis flag cleared after 13.53s
2025-10-17 10:28:32,134 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.1s more, min interval: 60s)
2025-10-17 10:28:32,469 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722112.4689531, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:32,496 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:32,496 WARNING üö´ LLM request blocked: Too soon (wait 44.8s more, min interval: 60s)
2025-10-17 10:28:37,090 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.2s more, min interval: 60s)
2025-10-17 10:28:42,047 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.2s more, min interval: 60s)
2025-10-17 10:28:42,464 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722122.463748, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:42,495 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:42,495 WARNING üö´ LLM request blocked: Too soon (wait 34.8s more, min interval: 60s)
2025-10-17 10:28:47,008 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.3s more, min interval: 60s)
2025-10-17 10:28:47,475 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722127.475092, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:47,508 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:47,508 WARNING üö´ LLM request blocked: Too soon (wait 29.8s more, min interval: 60s)
2025-10-17 10:28:51,978 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.3s more, min interval: 60s)
2025-10-17 10:28:52,480 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722132.480541, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:52,507 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:52,507 WARNING üö´ LLM request blocked: Too soon (wait 24.8s more, min interval: 60s)
2025-10-17 10:28:56,935 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.3s more, min interval: 60s)
2025-10-17 10:28:57,489 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722137.489681, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:28:57,514 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:28:57,514 WARNING üö´ LLM request blocked: Too soon (wait 19.7s more, min interval: 60s)
2025-10-17 10:29:01,913 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.3s more, min interval: 60s)
2025-10-17 10:29:02,591 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722142.5912561, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:02,617 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:02,617 WARNING üö´ LLM request blocked: Too soon (wait 14.6s more, min interval: 60s)
2025-10-17 10:29:06,875 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.4s more, min interval: 60s)
2025-10-17 10:29:11,837 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-17 10:29:12,506 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722152.5059168, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:12,533 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:12,533 WARNING üö´ LLM request blocked: Too soon (wait 4.7s more, min interval: 60s)
2025-10-17 10:29:16,804 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.5s more, min interval: 60s)
2025-10-17 10:29:17,522 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722157.522131, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:17,549 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:17,549 INFO ‚úÖ LLM request allowed: OK (last request 60.3s ago)
2025-10-17 10:29:17,549 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 10:29:17,552 INFO feature comparison prepared
2025-10-17 10:29:21,761 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 55.8s more, min interval: 60s)
2025-10-17 10:29:26,731 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 50.8s more, min interval: 60s)
2025-10-17 10:29:27,507 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722167.5071192, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:27,528 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:27,529 WARNING üö´ LLM request blocked: Too soon (wait 50.0s more, min interval: 60s)
2025-10-17 10:29:31,716 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.8s more, min interval: 60s)
2025-10-17 10:29:32,437 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 10:29:32,438 INFO üìä LLM analyses keys: dict_keys(['anthropic'])
2025-10-17 10:29:32,438 INFO üìä anthropic - status: success, has_analysis: True
2025-10-17 10:29:32,439 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-17 10:29:32,440 INFO ‚úÖ Saved analysis to history (id: 1760722172439)
2025-10-17 10:29:32,440 INFO multi-llm analysis completed id=Fault-2
2025-10-17 10:29:32,553 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722172.5534651, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:32,591 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:32,592 WARNING üö´ LLM request blocked: Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 10:29:36,691 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.9s more, min interval: 60s)
2025-10-17 10:29:37,618 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722177.6182349, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:37,647 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:37,647 WARNING üö´ LLM request blocked: Too soon (wait 39.9s more, min interval: 60s)
2025-10-17 10:29:41,670 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.9s more, min interval: 60s)
2025-10-17 10:29:46,680 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.9s more, min interval: 60s)
2025-10-17 10:29:47,546 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722187.546579, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:47,572 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:47,572 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-17 10:29:51,681 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.9s more, min interval: 60s)
2025-10-17 10:29:52,558 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722192.5585148, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:52,579 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:52,579 WARNING üö´ LLM request blocked: Too soon (wait 25.0s more, min interval: 60s)
2025-10-17 10:29:56,657 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-17 10:29:57,568 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722197.568608, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:29:57,601 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:29:57,601 WARNING üö´ LLM request blocked: Too soon (wait 19.9s more, min interval: 60s)
2025-10-17 10:30:01,663 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.9s more, min interval: 60s)
2025-10-17 10:30:02,575 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722202.574965, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:02,603 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:02,604 WARNING üö´ LLM request blocked: Too soon (wait 14.9s more, min interval: 60s)
2025-10-17 10:30:06,681 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.9s more, min interval: 60s)
2025-10-17 10:30:11,720 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 10:30:12,606 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722212.6067111, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:12,645 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:12,645 WARNING üö´ LLM request blocked: Too soon (wait 4.9s more, min interval: 60s)
2025-10-17 10:30:16,700 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 10:30:21,708 INFO ‚úÖ LLM request allowed - OK (last request 64.2s ago)
2025-10-17 10:30:21,710 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:30:21,711 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:30:21,711 INFO üîç Analysis flag set at 10:30:21
2025-10-17 10:30:21,711 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:30:22,591 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722222.591375, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:22,618 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:22,618 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-17 10:30:27,603 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722227.603589, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:27,640 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:27,641 WARNING üö´ LLM request blocked: Too soon (wait 54.1s more, min interval: 60s)
2025-10-17 10:30:32,605 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722232.604824, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:32,629 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:32,629 WARNING üö´ LLM request blocked: Too soon (wait 49.1s more, min interval: 60s)
2025-10-17 10:30:35,602 INFO ‚úÖ LLM analysis completed in 13.89s
2025-10-17 10:30:35,603 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:30:35,603 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:30:35,603 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:30:35,604 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:30:35,604 INFO üîì LLM analysis flag cleared after 13.89s
2025-10-17 10:30:36,697 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 10:30:41,699 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.0s more, min interval: 60s)
2025-10-17 10:30:42,635 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722242.635562, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:42,680 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:42,680 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 10:30:46,723 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.0s more, min interval: 60s)
2025-10-17 10:30:47,641 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722247.641351, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:47,716 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:47,717 WARNING üö´ LLM request blocked: Too soon (wait 34.0s more, min interval: 60s)
2025-10-17 10:30:51,763 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.9s more, min interval: 60s)
2025-10-17 10:30:56,832 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.9s more, min interval: 60s)
2025-10-17 10:30:57,631 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722257.631665, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:30:57,670 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:30:57,670 WARNING üö´ LLM request blocked: Too soon (wait 24.0s more, min interval: 60s)
2025-10-17 10:31:01,838 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.9s more, min interval: 60s)
2025-10-17 10:31:02,642 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722262.642897, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:02,674 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:02,675 WARNING üö´ LLM request blocked: Too soon (wait 19.0s more, min interval: 60s)
2025-10-17 10:31:06,844 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.9s more, min interval: 60s)
2025-10-17 10:31:11,872 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.8s more, min interval: 60s)
2025-10-17 10:31:12,760 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722272.760488, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:12,796 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:12,796 WARNING üö´ LLM request blocked: Too soon (wait 8.9s more, min interval: 60s)
2025-10-17 10:31:16,904 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.8s more, min interval: 60s)
2025-10-17 10:31:21,905 INFO ‚úÖ LLM request allowed - OK (last request 60.2s ago)
2025-10-17 10:31:21,907 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:31:21,909 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:31:21,909 INFO üîç Analysis flag set at 10:31:21
2025-10-17 10:31:21,909 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:31:22,667 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722282.6677172, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:22,698 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:22,698 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 10:31:27,668 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722287.6680598, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:27,695 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:27,695 WARNING üö´ LLM request blocked: Too soon (wait 54.2s more, min interval: 60s)
2025-10-17 10:31:32,680 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722292.680322, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:32,707 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:32,707 WARNING üö´ LLM request blocked: Too soon (wait 49.2s more, min interval: 60s)
2025-10-17 10:31:35,010 INFO ‚úÖ LLM analysis completed in 13.10s
2025-10-17 10:31:35,013 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:31:35,013 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:31:35,013 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:31:35,014 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:31:35,014 INFO üîì LLM analysis flag cleared after 13.11s
2025-10-17 10:31:36,924 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.0s more, min interval: 60s)
2025-10-17 10:31:37,700 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722297.700405, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:37,738 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:37,738 WARNING üö´ LLM request blocked: Too soon (wait 44.2s more, min interval: 60s)
2025-10-17 10:31:41,957 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.0s more, min interval: 60s)
2025-10-17 10:31:42,804 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722302.804239, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:42,833 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:42,833 WARNING üö´ LLM request blocked: Too soon (wait 39.1s more, min interval: 60s)
2025-10-17 10:31:46,965 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.9s more, min interval: 60s)
2025-10-17 10:31:51,991 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.9s more, min interval: 60s)
2025-10-17 10:31:52,707 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722312.707649, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:52,746 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:52,747 WARNING üö´ LLM request blocked: Too soon (wait 29.2s more, min interval: 60s)
2025-10-17 10:31:57,018 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.9s more, min interval: 60s)
2025-10-17 10:31:57,720 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722317.7200818, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:31:57,758 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:31:57,758 WARNING üö´ LLM request blocked: Too soon (wait 24.2s more, min interval: 60s)
2025-10-17 10:32:02,083 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.8s more, min interval: 60s)
2025-10-17 10:32:02,728 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722322.727783, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:02,767 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:02,767 WARNING üö´ LLM request blocked: Too soon (wait 19.1s more, min interval: 60s)
2025-10-17 10:32:07,161 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.7s more, min interval: 60s)
2025-10-17 10:32:07,742 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722327.742739, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:07,773 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:07,774 WARNING üö´ LLM request blocked: Too soon (wait 14.1s more, min interval: 60s)
2025-10-17 10:32:12,223 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.7s more, min interval: 60s)
2025-10-17 10:32:17,255 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.7s more, min interval: 60s)
2025-10-17 10:32:17,741 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722337.7410262, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:17,777 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:17,777 WARNING üö´ LLM request blocked: Too soon (wait 4.1s more, min interval: 60s)
2025-10-17 10:32:22,298 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-17 10:32:22,301 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:32:22,301 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:32:22,302 INFO üîç Analysis flag set at 10:32:22
2025-10-17 10:32:22,302 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:32:27,728 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722347.728359, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:27,753 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:27,753 WARNING üö´ LLM request blocked: Too soon (wait 54.5s more, min interval: 60s)
2025-10-17 10:32:32,762 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722352.762601, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:32,787 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:32,787 WARNING üö´ LLM request blocked: Too soon (wait 49.5s more, min interval: 60s)
2025-10-17 10:32:35,427 INFO ‚úÖ LLM analysis completed in 13.13s
2025-10-17 10:32:35,429 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:32:35,429 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:32:35,429 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:32:35,430 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:32:35,430 INFO üîì LLM analysis flag cleared after 13.13s
2025-10-17 10:32:37,446 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.9s more, min interval: 60s)
2025-10-17 10:32:37,853 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722357.853463, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:37,876 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:37,877 WARNING üö´ LLM request blocked: Too soon (wait 44.4s more, min interval: 60s)
2025-10-17 10:32:42,600 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.7s more, min interval: 60s)
2025-10-17 10:32:47,672 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.6s more, min interval: 60s)
2025-10-17 10:32:47,722 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722367.722054, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:47,731 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:47,731 WARNING üö´ LLM request blocked: Too soon (wait 34.6s more, min interval: 60s)
2025-10-17 10:32:52,764 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.5s more, min interval: 60s)
2025-10-17 10:32:53,736 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722373.7361379, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:53,744 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:53,744 WARNING üö´ LLM request blocked: Too soon (wait 28.6s more, min interval: 60s)
2025-10-17 10:32:57,840 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.5s more, min interval: 60s)
2025-10-17 10:32:58,737 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722378.737638, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:32:58,745 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:32:58,745 WARNING üö´ LLM request blocked: Too soon (wait 23.6s more, min interval: 60s)
2025-10-17 10:33:02,876 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.4s more, min interval: 60s)
2025-10-17 10:33:03,747 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722383.746992, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:03,753 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:03,753 WARNING üö´ LLM request blocked: Too soon (wait 18.5s more, min interval: 60s)
2025-10-17 10:33:07,912 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.4s more, min interval: 60s)
2025-10-17 10:33:08,751 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722388.750898, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:08,757 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:08,757 WARNING üö´ LLM request blocked: Too soon (wait 13.5s more, min interval: 60s)
2025-10-17 10:33:13,003 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.3s more, min interval: 60s)
2025-10-17 10:33:13,758 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722393.758383, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:13,767 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:13,767 WARNING üö´ LLM request blocked: Too soon (wait 8.5s more, min interval: 60s)
2025-10-17 10:33:18,088 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-17 10:33:23,174 INFO ‚úÖ LLM request allowed - OK (last request 60.9s ago)
2025-10-17 10:33:23,177 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:33:23,178 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:33:23,178 INFO üîç Analysis flag set at 10:33:23
2025-10-17 10:33:23,178 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:33:23,750 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722403.750344, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:23,755 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:23,755 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 10:33:28,814 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722408.8147042, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:28,840 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:28,841 WARNING üö´ LLM request blocked: Too soon (wait 54.3s more, min interval: 60s)
2025-10-17 10:33:33,937 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722413.937061, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:33,974 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:33,974 WARNING üö´ LLM request blocked: Too soon (wait 49.2s more, min interval: 60s)
2025-10-17 10:33:37,573 INFO ‚úÖ LLM analysis completed in 14.40s
2025-10-17 10:33:37,574 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:33:37,574 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:33:37,574 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:33:37,575 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:33:37,575 INFO üîì LLM analysis flag cleared after 14.40s
2025-10-17 10:33:38,467 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.7s more, min interval: 60s)
2025-10-17 10:33:43,525 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.7s more, min interval: 60s)
2025-10-17 10:33:43,855 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722423.8555362, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:43,888 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:43,888 WARNING üö´ LLM request blocked: Too soon (wait 39.3s more, min interval: 60s)
2025-10-17 10:33:48,636 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.5s more, min interval: 60s)
2025-10-17 10:33:48,862 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722428.862533, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:48,894 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:48,894 WARNING üö´ LLM request blocked: Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 10:33:53,674 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.5s more, min interval: 60s)
2025-10-17 10:33:53,863 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722433.863035, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:33:53,889 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:33:53,889 WARNING üö´ LLM request blocked: Too soon (wait 29.3s more, min interval: 60s)
2025-10-17 10:33:58,725 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.5s more, min interval: 60s)
2025-10-17 10:34:03,801 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.4s more, min interval: 60s)
2025-10-17 10:34:04,854 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722444.854125, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:04,897 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:04,898 WARNING üö´ LLM request blocked: Too soon (wait 18.3s more, min interval: 60s)
2025-10-17 10:34:08,845 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.3s more, min interval: 60s)
2025-10-17 10:34:09,888 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722449.887756, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:09,943 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:09,944 WARNING üö´ LLM request blocked: Too soon (wait 13.2s more, min interval: 60s)
2025-10-17 10:34:13,905 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.3s more, min interval: 60s)
2025-10-17 10:34:19,035 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.1s more, min interval: 60s)
2025-10-17 10:34:19,867 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722459.86754, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:19,902 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:19,903 WARNING üö´ LLM request blocked: Too soon (wait 3.3s more, min interval: 60s)
2025-10-17 10:34:24,174 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-17 10:34:24,176 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:34:24,177 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:34:24,177 INFO üîç Analysis flag set at 10:34:24
2025-10-17 10:34:24,177 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:34:24,871 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722464.87118, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:24,901 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:24,901 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 10:34:29,879 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722469.879679, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:29,914 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:29,914 WARNING üö´ LLM request blocked: Too soon (wait 54.3s more, min interval: 60s)
2025-10-17 10:34:34,896 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722474.896645, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:34,928 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:34,928 WARNING üö´ LLM request blocked: Too soon (wait 49.2s more, min interval: 60s)
2025-10-17 10:34:36,100 INFO ‚úÖ LLM analysis completed in 11.92s
2025-10-17 10:34:36,101 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:34:36,101 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:34:36,101 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:34:36,102 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:34:36,102 INFO üîì LLM analysis flag cleared after 11.92s
2025-10-17 10:34:39,448 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.7s more, min interval: 60s)
2025-10-17 10:34:39,980 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722479.980253, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:40,003 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:40,004 WARNING üö´ LLM request blocked: Too soon (wait 44.2s more, min interval: 60s)
2025-10-17 10:34:44,515 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.7s more, min interval: 60s)
2025-10-17 10:34:49,670 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.5s more, min interval: 60s)
2025-10-17 10:34:49,906 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722489.906791, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:49,942 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:49,942 WARNING üö´ LLM request blocked: Too soon (wait 34.2s more, min interval: 60s)
2025-10-17 10:34:54,826 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.4s more, min interval: 60s)
2025-10-17 10:34:54,914 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722494.914432, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:34:54,946 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:34:54,947 WARNING üö´ LLM request blocked: Too soon (wait 29.2s more, min interval: 60s)
2025-10-17 10:34:59,907 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.3s more, min interval: 60s)
2025-10-17 10:35:00,917 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722500.917462, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:00,938 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:00,938 WARNING üö´ LLM request blocked: Too soon (wait 23.2s more, min interval: 60s)
2025-10-17 10:35:04,983 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.2s more, min interval: 60s)
2025-10-17 10:35:05,923 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722505.9227352, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:05,956 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:05,957 WARNING üö´ LLM request blocked: Too soon (wait 18.2s more, min interval: 60s)
2025-10-17 10:35:10,111 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.1s more, min interval: 60s)
2025-10-17 10:35:10,926 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722510.92682, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:10,957 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:10,957 WARNING üö´ LLM request blocked: Too soon (wait 13.2s more, min interval: 60s)
2025-10-17 10:35:15,249 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.9s more, min interval: 60s)
2025-10-17 10:35:20,335 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.8s more, min interval: 60s)
2025-10-17 10:35:20,946 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722520.945965, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:20,974 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:20,974 WARNING üö´ LLM request blocked: Too soon (wait 3.2s more, min interval: 60s)
2025-10-17 10:35:25,499 INFO ‚úÖ LLM request allowed - OK (last request 61.3s ago)
2025-10-17 10:35:25,501 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:35:25,502 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:35:25,502 INFO üîç Analysis flag set at 10:35:25
2025-10-17 10:35:25,502 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:35:25,953 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722525.9528892, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:25,986 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:25,986 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 10:35:30,954 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722530.95453, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:30,986 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:30,986 WARNING üö´ LLM request blocked: Too soon (wait 54.5s more, min interval: 60s)
2025-10-17 10:35:38,986 INFO ‚úÖ LLM analysis completed in 13.48s
2025-10-17 10:35:38,987 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:35:38,987 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:35:38,987 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:35:38,988 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:35:38,988 INFO üîì LLM analysis flag cleared after 13.49s
2025-10-17 10:35:40,980 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-17 10:35:41,962 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722541.962147, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:41,991 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:41,991 WARNING üö´ LLM request blocked: Too soon (wait 43.5s more, min interval: 60s)
2025-10-17 10:35:46,128 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 10:35:46,975 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722546.974786, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:47,010 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:47,010 WARNING üö´ LLM request blocked: Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:35:51,246 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 10:35:51,981 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722551.9810188, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:35:52,010 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:35:52,010 WARNING üö´ LLM request blocked: Too soon (wait 33.5s more, min interval: 60s)
2025-10-17 10:35:56,450 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.1s more, min interval: 60s)
2025-10-17 10:36:01,563 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.9s more, min interval: 60s)
2025-10-17 10:36:01,998 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722561.9981718, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:02,025 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:02,025 WARNING üö´ LLM request blocked: Too soon (wait 23.5s more, min interval: 60s)
2025-10-17 10:36:06,712 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.8s more, min interval: 60s)
2025-10-17 10:36:11,825 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.7s more, min interval: 60s)
2025-10-17 10:36:12,009 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722572.009686, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:12,041 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:12,041 WARNING üö´ LLM request blocked: Too soon (wait 13.5s more, min interval: 60s)
2025-10-17 10:36:16,917 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.6s more, min interval: 60s)
2025-10-17 10:36:22,012 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.5s more, min interval: 60s)
2025-10-17 10:36:23,019 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722583.019155, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:23,053 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:23,054 WARNING üö´ LLM request blocked: Too soon (wait 2.4s more, min interval: 60s)
2025-10-17 10:36:27,103 INFO ‚úÖ LLM request allowed - OK (last request 61.6s ago)
2025-10-17 10:36:27,106 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:36:27,107 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:36:27,107 INFO üîç Analysis flag set at 10:36:27
2025-10-17 10:36:27,107 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:36:28,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722588.0220191, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:28,053 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:28,053 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-17 10:36:38,034 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722598.034624, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:38,067 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:38,067 WARNING üö´ LLM request blocked: Too soon (wait 49.0s more, min interval: 60s)
2025-10-17 10:36:39,890 INFO ‚úÖ LLM analysis completed in 12.78s
2025-10-17 10:36:39,891 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:36:39,891 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:36:39,891 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:36:39,891 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:36:39,891 INFO üîì LLM analysis flag cleared after 12.78s
2025-10-17 10:36:42,474 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.6s more, min interval: 60s)
2025-10-17 10:36:43,035 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722603.0352168, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:43,066 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:43,067 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 10:36:47,639 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.5s more, min interval: 60s)
2025-10-17 10:36:48,040 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722608.0401988, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:48,064 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:48,064 WARNING üö´ LLM request blocked: Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 10:36:52,815 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 10:36:57,998 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.1s more, min interval: 60s)
2025-10-17 10:36:59,042 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722619.0420659, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:36:59,069 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:36:59,069 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-17 10:37:03,192 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.9s more, min interval: 60s)
2025-10-17 10:37:04,049 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722624.0492458, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:04,081 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:04,082 WARNING üö´ LLM request blocked: Too soon (wait 23.0s more, min interval: 60s)
2025-10-17 10:37:08,327 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.8s more, min interval: 60s)
2025-10-17 10:37:09,149 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722629.149596, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:09,185 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:09,185 WARNING üö´ LLM request blocked: Too soon (wait 17.9s more, min interval: 60s)
2025-10-17 10:37:13,429 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.7s more, min interval: 60s)
2025-10-17 10:37:18,532 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.6s more, min interval: 60s)
2025-10-17 10:37:19,072 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722639.071956, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:19,101 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:19,101 WARNING üö´ LLM request blocked: Too soon (wait 8.0s more, min interval: 60s)
2025-10-17 10:37:23,635 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.5s more, min interval: 60s)
2025-10-17 10:37:24,073 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722644.07307, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:24,103 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:24,103 WARNING üö´ LLM request blocked: Too soon (wait 3.0s more, min interval: 60s)
2025-10-17 10:37:28,793 INFO ‚úÖ LLM request allowed - OK (last request 61.7s ago)
2025-10-17 10:37:28,795 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:37:28,796 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:37:28,796 INFO üîç Analysis flag set at 10:37:28
2025-10-17 10:37:28,796 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:37:29,091 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722649.091711, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:29,120 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:29,120 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-17 10:37:40,074 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722660.074406, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:40,105 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:40,105 WARNING üö´ LLM request blocked: Too soon (wait 48.7s more, min interval: 60s)
2025-10-17 10:37:41,079 INFO ‚úÖ LLM analysis completed in 12.28s
2025-10-17 10:37:41,080 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:37:41,080 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:37:41,080 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:37:41,081 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:37:41,081 INFO üîì LLM analysis flag cleared after 12.28s
2025-10-17 10:37:44,221 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.6s more, min interval: 60s)
2025-10-17 10:37:45,086 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722665.0868008, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:45,113 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:45,113 WARNING üö´ LLM request blocked: Too soon (wait 43.7s more, min interval: 60s)
2025-10-17 10:37:49,356 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 10:37:50,094 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722670.09435, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:50,135 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:50,136 WARNING üö´ LLM request blocked: Too soon (wait 38.7s more, min interval: 60s)
2025-10-17 10:37:54,477 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 10:37:55,106 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722675.1060889, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:37:55,137 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:37:55,137 WARNING üö´ LLM request blocked: Too soon (wait 33.7s more, min interval: 60s)
2025-10-17 10:37:59,595 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.2s more, min interval: 60s)
2025-10-17 10:38:00,106 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722680.106087, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:00,139 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:00,139 WARNING üö´ LLM request blocked: Too soon (wait 28.7s more, min interval: 60s)
2025-10-17 10:38:04,720 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.1s more, min interval: 60s)
2025-10-17 10:38:05,121 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722685.121435, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:05,154 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:05,154 WARNING üö´ LLM request blocked: Too soon (wait 23.6s more, min interval: 60s)
2025-10-17 10:38:09,848 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.9s more, min interval: 60s)
2025-10-17 10:38:14,968 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.8s more, min interval: 60s)
2025-10-17 10:38:15,115 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722695.1149619, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:15,140 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:15,140 WARNING üö´ LLM request blocked: Too soon (wait 13.7s more, min interval: 60s)
2025-10-17 10:38:20,089 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.7s more, min interval: 60s)
2025-10-17 10:38:21,156 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722701.1562319, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:21,182 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:21,182 WARNING üö´ LLM request blocked: Too soon (wait 7.6s more, min interval: 60s)
2025-10-17 10:38:25,208 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.6s more, min interval: 60s)
2025-10-17 10:38:30,337 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-17 10:38:30,340 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:38:30,341 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:38:30,341 INFO üîç Analysis flag set at 10:38:30
2025-10-17 10:38:30,341 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:38:31,153 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722711.153057, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:31,184 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:31,184 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 10:38:41,147 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722721.1473138, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:41,179 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:41,179 WARNING üö´ LLM request blocked: Too soon (wait 49.2s more, min interval: 60s)
2025-10-17 10:38:41,610 INFO ‚úÖ LLM analysis completed in 11.27s
2025-10-17 10:38:41,611 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:38:41,611 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:38:41,612 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:38:41,612 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:38:41,612 INFO üîì LLM analysis flag cleared after 11.27s
2025-10-17 10:38:45,717 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.6s more, min interval: 60s)
2025-10-17 10:38:46,217 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:46,218 WARNING üö´ LLM request blocked: Too soon (wait 44.1s more, min interval: 60s)
2025-10-17 10:38:50,845 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.5s more, min interval: 60s)
2025-10-17 10:38:55,991 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.3s more, min interval: 60s)
2025-10-17 10:38:56,172 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722736.1725051, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:38:56,204 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:38:56,204 WARNING üö´ LLM request blocked: Too soon (wait 34.1s more, min interval: 60s)
2025-10-17 10:39:01,155 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.2s more, min interval: 60s)
2025-10-17 10:39:02,180 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722742.180647, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:02,209 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:02,210 WARNING üö´ LLM request blocked: Too soon (wait 28.1s more, min interval: 60s)
2025-10-17 10:39:06,288 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.1s more, min interval: 60s)
2025-10-17 10:39:07,185 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722747.1855118, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:07,203 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:07,203 WARNING üö´ LLM request blocked: Too soon (wait 23.1s more, min interval: 60s)
2025-10-17 10:39:11,428 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.9s more, min interval: 60s)
2025-10-17 10:39:12,200 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722752.2006679, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:12,232 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:12,233 WARNING üö´ LLM request blocked: Too soon (wait 18.1s more, min interval: 60s)
2025-10-17 10:39:16,561 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.8s more, min interval: 60s)
2025-10-17 10:39:17,297 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722757.296797, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:17,328 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:17,328 WARNING üö´ LLM request blocked: Too soon (wait 13.0s more, min interval: 60s)
2025-10-17 10:39:21,700 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.6s more, min interval: 60s)
2025-10-17 10:39:26,894 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-17 10:39:27,264 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722767.264516, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:27,291 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:27,291 WARNING üö´ LLM request blocked: Too soon (wait 3.0s more, min interval: 60s)
2025-10-17 10:39:32,038 INFO ‚úÖ LLM request allowed - OK (last request 61.7s ago)
2025-10-17 10:39:32,040 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:39:32,041 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:39:32,041 INFO üîç Analysis flag set at 10:39:32
2025-10-17 10:39:32,041 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:39:37,279 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722777.2797701, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:37,312 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:37,313 WARNING üö´ LLM request blocked: Too soon (wait 54.7s more, min interval: 60s)
2025-10-17 10:39:43,282 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722783.2820768, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:43,316 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:43,316 WARNING üö´ LLM request blocked: Too soon (wait 48.7s more, min interval: 60s)
2025-10-17 10:39:45,034 INFO ‚úÖ LLM analysis completed in 12.99s
2025-10-17 10:39:45,035 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:39:45,035 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:39:45,035 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:39:45,035 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:39:45,035 INFO üîì LLM analysis flag cleared after 12.99s
2025-10-17 10:39:47,550 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-17 10:39:52,690 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 10:39:53,279 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722793.279605, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:53,319 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:53,319 WARNING üö´ LLM request blocked: Too soon (wait 38.7s more, min interval: 60s)
2025-10-17 10:39:57,849 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.2s more, min interval: 60s)
2025-10-17 10:39:58,288 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722798.288585, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:39:58,316 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:39:58,317 WARNING üö´ LLM request blocked: Too soon (wait 33.7s more, min interval: 60s)
2025-10-17 10:40:02,994 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 10:40:03,311 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722803.3112352, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:03,332 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:03,332 WARNING üö´ LLM request blocked: Too soon (wait 28.7s more, min interval: 60s)
2025-10-17 10:40:08,150 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.9s more, min interval: 60s)
2025-10-17 10:40:13,318 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.7s more, min interval: 60s)
2025-10-17 10:40:14,304 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722814.304645, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:14,327 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:14,327 WARNING üö´ LLM request blocked: Too soon (wait 17.7s more, min interval: 60s)
2025-10-17 10:40:18,471 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.6s more, min interval: 60s)
2025-10-17 10:40:19,317 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722819.317274, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:19,352 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:19,352 WARNING üö´ LLM request blocked: Too soon (wait 12.7s more, min interval: 60s)
2025-10-17 10:40:23,623 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 10:40:24,326 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722824.326133, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:24,356 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:24,357 WARNING üö´ LLM request blocked: Too soon (wait 7.7s more, min interval: 60s)
2025-10-17 10:40:28,777 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.3s more, min interval: 60s)
2025-10-17 10:40:29,346 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722829.3461719, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:29,381 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:29,382 WARNING üö´ LLM request blocked: Too soon (wait 2.7s more, min interval: 60s)
2025-10-17 10:40:33,934 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-17 10:40:33,937 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:40:33,938 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:40:33,938 INFO üîç Analysis flag set at 10:40:33
2025-10-17 10:40:33,938 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:40:34,418 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722834.4178581, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:34,447 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:34,448 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-17 10:40:44,349 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722844.349679, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:44,379 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:44,379 WARNING üö´ LLM request blocked: Too soon (wait 49.6s more, min interval: 60s)
2025-10-17 10:40:47,281 INFO ‚úÖ LLM analysis completed in 13.34s
2025-10-17 10:40:47,283 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:40:47,283 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:40:47,283 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:40:47,284 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:40:47,284 INFO üîì LLM analysis flag cleared after 13.35s
2025-10-17 10:40:49,412 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-17 10:40:50,353 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722850.3536692, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:50,385 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:50,385 WARNING üö´ LLM request blocked: Too soon (wait 43.6s more, min interval: 60s)
2025-10-17 10:40:54,571 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 10:40:55,382 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722855.382635, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:40:55,415 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:40:55,415 WARNING üö´ LLM request blocked: Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:40:59,738 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.2s more, min interval: 60s)
2025-10-17 10:41:04,906 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.0s more, min interval: 60s)
2025-10-17 10:41:05,385 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722865.384879, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:41:05,414 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:41:05,414 WARNING üö´ LLM request blocked: Too soon (wait 28.5s more, min interval: 60s)
2025-10-17 10:41:10,077 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.9s more, min interval: 60s)
2025-10-17 10:41:10,391 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722870.391614, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:41:10,424 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:41:10,424 WARNING üö´ LLM request blocked: Too soon (wait 23.5s more, min interval: 60s)
2025-10-17 10:41:15,238 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.7s more, min interval: 60s)
2025-10-17 10:41:20,407 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.5s more, min interval: 60s)
2025-10-17 10:41:21,394 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722881.3943, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:41:21,427 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:41:21,427 WARNING üö´ LLM request blocked: Too soon (wait 12.5s more, min interval: 60s)
2025-10-17 10:41:25,578 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-17 10:41:26,399 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760722886.399363, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:41:26,434 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:41:26,434 WARNING üö´ LLM request blocked: Too soon (wait 7.5s more, min interval: 60s)
2025-10-17 10:41:30,746 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.2s more, min interval: 60s)
2025-10-17 10:41:35,918 INFO ‚úÖ LLM request allowed - OK (last request 62.0s ago)
2025-10-17 10:41:35,920 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:41:35,921 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:41:35,921 INFO üîç Analysis flag set at 10:41:35
2025-10-17 10:41:35,921 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:41:50,289 INFO ‚úÖ LLM analysis completed in 14.37s
2025-10-17 10:41:50,291 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:41:50,291 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:41:50,291 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:41:50,292 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:41:50,292 INFO üîì LLM analysis flag cleared after 14.37s
2025-10-17 10:41:51,458 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-17 10:41:56,636 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.3s more, min interval: 60s)
2025-10-17 10:42:01,887 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.0s more, min interval: 60s)
2025-10-17 10:42:07,165 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.8s more, min interval: 60s)
2025-10-17 10:42:12,348 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.6s more, min interval: 60s)
2025-10-17 10:42:17,529 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.4s more, min interval: 60s)
2025-10-17 10:42:22,715 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.2s more, min interval: 60s)
2025-10-17 10:42:27,908 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.0s more, min interval: 60s)
2025-10-17 10:42:33,105 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.8s more, min interval: 60s)
2025-10-17 10:42:38,295 INFO ‚úÖ LLM request allowed - OK (last request 62.4s ago)
2025-10-17 10:42:38,297 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:42:38,298 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:42:38,298 INFO üîç Analysis flag set at 10:42:38
2025-10-17 10:42:38,298 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:42:53,198 INFO ‚úÖ LLM analysis completed in 14.90s
2025-10-17 10:42:53,200 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:42:53,200 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:42:53,200 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:42:53,201 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:42:53,201 INFO üîì LLM analysis flag cleared after 14.90s
2025-10-17 10:42:53,938 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.4s more, min interval: 60s)
2025-10-17 10:42:59,149 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.1s more, min interval: 60s)
2025-10-17 10:43:04,357 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.9s more, min interval: 60s)
2025-10-17 10:43:09,555 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.7s more, min interval: 60s)
2025-10-17 10:43:14,763 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.5s more, min interval: 60s)
2025-10-17 10:43:19,974 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.3s more, min interval: 60s)
2025-10-17 10:43:25,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.1s more, min interval: 60s)
2025-10-17 10:43:30,386 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-17 10:43:35,601 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-17 10:43:40,811 INFO ‚úÖ LLM request allowed - OK (last request 62.5s ago)
2025-10-17 10:43:40,813 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:43:40,814 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:43:40,814 INFO üîç Analysis flag set at 10:43:40
2025-10-17 10:43:40,814 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:43:53,689 INFO ‚úÖ LLM analysis completed in 12.87s
2025-10-17 10:43:53,690 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:43:53,691 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:43:53,691 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:43:53,692 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:43:53,692 INFO üîì LLM analysis flag cleared after 12.88s
2025-10-17 10:43:56,446 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.4s more, min interval: 60s)
2025-10-17 10:44:01,662 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.2s more, min interval: 60s)
2025-10-17 10:44:06,877 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.9s more, min interval: 60s)
2025-10-17 10:44:12,099 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.7s more, min interval: 60s)
2025-10-17 10:44:17,341 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.5s more, min interval: 60s)
2025-10-17 10:44:22,575 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.2s more, min interval: 60s)
2025-10-17 10:44:27,810 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.0s more, min interval: 60s)
2025-10-17 10:44:33,031 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.8s more, min interval: 60s)
2025-10-17 10:44:38,268 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.5s more, min interval: 60s)
2025-10-17 10:44:43,499 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-17 10:44:43,501 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:44:43,502 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:44:43,502 INFO üîç Analysis flag set at 10:44:43
2025-10-17 10:44:43,502 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:44:57,777 INFO ‚úÖ LLM analysis completed in 14.27s
2025-10-17 10:44:57,778 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:44:57,778 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:44:57,778 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:44:57,779 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:44:57,779 INFO üîì LLM analysis flag cleared after 14.28s
2025-10-17 10:44:59,199 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.3s more, min interval: 60s)
2025-10-17 10:45:04,438 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.1s more, min interval: 60s)
2025-10-17 10:45:09,680 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.8s more, min interval: 60s)
2025-10-17 10:45:14,999 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.5s more, min interval: 60s)
2025-10-17 10:45:20,318 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.2s more, min interval: 60s)
2025-10-17 10:45:25,568 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.9s more, min interval: 60s)
2025-10-17 10:45:30,887 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.6s more, min interval: 60s)
2025-10-17 10:45:36,166 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.3s more, min interval: 60s)
2025-10-17 10:45:41,405 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-17 10:45:46,650 INFO ‚úÖ LLM request allowed - OK (last request 63.1s ago)
2025-10-17 10:45:46,653 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:45:46,654 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:45:46,654 INFO üîç Analysis flag set at 10:45:46
2025-10-17 10:45:46,654 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:46:00,708 INFO ‚úÖ LLM analysis completed in 14.05s
2025-10-17 10:46:00,710 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:46:00,710 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:46:00,710 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:46:00,710 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:46:00,711 INFO üîì LLM analysis flag cleared after 14.06s
2025-10-17 10:46:02,385 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.3s more, min interval: 60s)
2025-10-17 10:46:07,635 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.0s more, min interval: 60s)
2025-10-17 10:46:12,892 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.8s more, min interval: 60s)
2025-10-17 10:46:18,166 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.5s more, min interval: 60s)
2025-10-17 10:46:23,461 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.2s more, min interval: 60s)
2025-10-17 10:46:28,716 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.9s more, min interval: 60s)
2025-10-17 10:46:33,975 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.7s more, min interval: 60s)
2025-10-17 10:46:39,237 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.4s more, min interval: 60s)
2025-10-17 10:46:44,499 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.2s more, min interval: 60s)
2025-10-17 10:46:49,753 INFO ‚úÖ LLM request allowed - OK (last request 63.1s ago)
2025-10-17 10:46:49,755 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:46:49,756 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:46:49,756 INFO üîç Analysis flag set at 10:46:49
2025-10-17 10:46:49,756 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:46:57,593 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723217.593081, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:46:57,598 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:46:57,598 WARNING üö´ LLM request blocked: Too soon (wait 52.2s more, min interval: 60s)
2025-10-17 10:47:02,415 INFO ‚úÖ LLM analysis completed in 12.66s
2025-10-17 10:47:02,416 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:47:02,417 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:47:02,417 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:47:02,417 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:47:02,417 INFO üîì LLM analysis flag cleared after 12.66s
2025-10-17 10:47:05,675 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.1s more, min interval: 60s)
2025-10-17 10:47:05,806 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723225.8060899, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:05,834 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:05,835 WARNING üö´ LLM request blocked: Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:47:10,942 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.8s more, min interval: 60s)
2025-10-17 10:47:11,816 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723231.816227, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:11,852 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:11,852 WARNING üö´ LLM request blocked: Too soon (wait 37.9s more, min interval: 60s)
2025-10-17 10:47:16,210 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.5s more, min interval: 60s)
2025-10-17 10:47:16,826 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723236.8261251, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:16,865 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:16,865 WARNING üö´ LLM request blocked: Too soon (wait 32.9s more, min interval: 60s)
2025-10-17 10:47:21,469 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.3s more, min interval: 60s)
2025-10-17 10:47:21,863 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723241.863374, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:21,899 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:21,899 WARNING üö´ LLM request blocked: Too soon (wait 27.9s more, min interval: 60s)
2025-10-17 10:47:26,783 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.0s more, min interval: 60s)
2025-10-17 10:47:27,814 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723247.8138099, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:27,842 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:27,842 WARNING üö´ LLM request blocked: Too soon (wait 21.9s more, min interval: 60s)
2025-10-17 10:47:32,051 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.7s more, min interval: 60s)
2025-10-17 10:47:32,829 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723252.829647, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:32,856 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:32,857 WARNING üö´ LLM request blocked: Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 10:47:37,335 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.4s more, min interval: 60s)
2025-10-17 10:47:37,848 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723257.848629, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:37,871 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:37,871 WARNING üö´ LLM request blocked: Too soon (wait 11.9s more, min interval: 60s)
2025-10-17 10:47:42,622 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.1s more, min interval: 60s)
2025-10-17 10:47:42,849 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723262.849374, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:42,883 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:42,883 WARNING üö´ LLM request blocked: Too soon (wait 6.9s more, min interval: 60s)
2025-10-17 10:47:47,956 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.8s more, min interval: 60s)
2025-10-17 10:47:48,863 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723268.863505, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:48,891 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:48,891 WARNING üö´ LLM request blocked: Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 10:47:53,277 INFO ‚úÖ LLM request allowed - OK (last request 63.5s ago)
2025-10-17 10:47:53,279 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:47:53,280 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:47:53,280 INFO üîç Analysis flag set at 10:47:53
2025-10-17 10:47:53,280 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:47:53,868 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723273.867902, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:53,912 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:53,912 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-17 10:47:58,942 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723278.942604, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:47:58,977 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:47:58,977 WARNING üö´ LLM request blocked: Too soon (wait 54.3s more, min interval: 60s)
2025-10-17 10:48:04,870 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723284.869786, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:04,901 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:04,902 WARNING üö´ LLM request blocked: Too soon (wait 48.4s more, min interval: 60s)
2025-10-17 10:48:06,725 INFO ‚úÖ LLM analysis completed in 13.44s
2025-10-17 10:48:06,726 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:48:06,726 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:48:06,727 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:48:06,727 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:48:06,727 INFO üîì LLM analysis flag cleared after 13.45s
2025-10-17 10:48:09,365 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:48:09,874 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723289.874603, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:09,911 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:09,911 WARNING üö´ LLM request blocked: Too soon (wait 43.4s more, min interval: 60s)
2025-10-17 10:48:14,745 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:48:14,877 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723294.876907, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:14,907 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:14,907 WARNING üö´ LLM request blocked: Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 10:48:20,105 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 10:48:20,897 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723300.897076, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:20,923 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:20,923 WARNING üö´ LLM request blocked: Too soon (wait 32.4s more, min interval: 60s)
2025-10-17 10:48:25,473 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 10:48:26,005 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723306.00548, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:26,037 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:26,037 WARNING üö´ LLM request blocked: Too soon (wait 27.2s more, min interval: 60s)
2025-10-17 10:48:30,824 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 10:48:36,199 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 10:48:36,907 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723316.9073558, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:36,944 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:36,945 WARNING üö´ LLM request blocked: Too soon (wait 16.3s more, min interval: 60s)
2025-10-17 10:48:41,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 10:48:41,913 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723321.9130938, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:41,948 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:41,949 WARNING üö´ LLM request blocked: Too soon (wait 11.3s more, min interval: 60s)
2025-10-17 10:48:46,924 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 10:48:47,920 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723327.920012, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:47,951 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:47,951 WARNING üö´ LLM request blocked: Too soon (wait 5.3s more, min interval: 60s)
2025-10-17 10:48:52,304 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 10:48:53,034 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723333.0343199, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:48:53,065 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:48:53,065 WARNING üö´ LLM request blocked: Too soon (wait 0.2s more, min interval: 60s)
2025-10-17 10:48:57,690 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 10:48:57,692 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:48:57,693 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:48:57,693 INFO üîç Analysis flag set at 10:48:57
2025-10-17 10:48:57,693 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:49:03,949 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723343.949503, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:03,980 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:03,980 WARNING üö´ LLM request blocked: Too soon (wait 53.7s more, min interval: 60s)
2025-10-17 10:49:10,579 INFO ‚úÖ LLM analysis completed in 12.89s
2025-10-17 10:49:10,581 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:49:10,581 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:49:10,581 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:49:10,581 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:49:10,581 INFO üîì LLM analysis flag cleared after 12.89s
2025-10-17 10:49:13,881 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 10:49:14,976 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723354.976678, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:15,015 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:15,015 WARNING üö´ LLM request blocked: Too soon (wait 42.7s more, min interval: 60s)
2025-10-17 10:49:19,267 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 10:49:24,627 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 10:49:24,971 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723364.9712372, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:25,004 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:25,004 WARNING üö´ LLM request blocked: Too soon (wait 32.7s more, min interval: 60s)
2025-10-17 10:49:29,937 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 10:49:30,984 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723370.984395, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:31,019 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:31,019 WARNING üö´ LLM request blocked: Too soon (wait 26.7s more, min interval: 60s)
2025-10-17 10:49:35,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 10:49:40,558 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 10:49:40,981 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723380.981688, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:41,018 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:41,018 WARNING üö´ LLM request blocked: Too soon (wait 16.7s more, min interval: 60s)
2025-10-17 10:49:45,950 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 10:49:46,994 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723386.994199, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:47,033 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:47,033 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 10:49:51,314 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 10:49:52,007 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723392.007665, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:52,044 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:52,045 WARNING üö´ LLM request blocked: Too soon (wait 5.6s more, min interval: 60s)
2025-10-17 10:49:56,707 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 10:49:57,007 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723397.007103, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:49:57,044 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:49:57,044 WARNING üö´ LLM request blocked: Too soon (wait 0.6s more, min interval: 60s)
2025-10-17 10:50:02,062 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 10:50:02,065 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:50:02,066 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:50:02,066 INFO üîç Analysis flag set at 10:50:02
2025-10-17 10:50:02,066 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:50:03,022 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723403.022666, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:03,061 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:03,062 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-17 10:50:13,040 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723413.039872, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:13,076 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:13,077 WARNING üö´ LLM request blocked: Too soon (wait 49.0s more, min interval: 60s)
2025-10-17 10:50:14,203 INFO ‚úÖ LLM analysis completed in 12.14s
2025-10-17 10:50:14,204 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:50:14,204 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:50:14,204 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:50:14,205 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:50:14,205 INFO üîì LLM analysis flag cleared after 12.14s
2025-10-17 10:50:18,182 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:50:19,062 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723419.062725, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:19,097 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:19,097 WARNING üö´ LLM request blocked: Too soon (wait 43.0s more, min interval: 60s)
2025-10-17 10:50:23,506 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.6s more, min interval: 60s)
2025-10-17 10:50:28,841 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 10:50:29,047 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723429.0473018, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:29,083 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:29,083 WARNING üö´ LLM request blocked: Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 10:50:34,168 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.9s more, min interval: 60s)
2025-10-17 10:50:35,034 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723435.034139, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:35,065 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:35,065 WARNING üö´ LLM request blocked: Too soon (wait 27.0s more, min interval: 60s)
2025-10-17 10:50:39,501 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.6s more, min interval: 60s)
2025-10-17 10:50:40,050 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723440.0499892, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:40,070 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:40,070 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 10:50:44,828 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.2s more, min interval: 60s)
2025-10-17 10:50:45,092 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723445.0918221, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:45,121 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:45,121 WARNING üö´ LLM request blocked: Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 10:50:50,160 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.9s more, min interval: 60s)
2025-10-17 10:50:51,071 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723451.071392, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:51,103 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:51,104 WARNING üö´ LLM request blocked: Too soon (wait 11.0s more, min interval: 60s)
2025-10-17 10:50:55,492 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.6s more, min interval: 60s)
2025-10-17 10:50:56,077 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723456.077476, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:50:56,104 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:50:56,105 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 10:51:00,822 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.2s more, min interval: 60s)
2025-10-17 10:51:06,147 INFO ‚úÖ LLM request allowed - OK (last request 64.1s ago)
2025-10-17 10:51:06,148 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:51:06,150 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:51:06,150 INFO üîç Analysis flag set at 10:51:06
2025-10-17 10:51:06,150 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:51:07,073 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723467.073148, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:07,095 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:07,095 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-17 10:51:12,077 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723472.076876, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:12,106 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:12,107 WARNING üö´ LLM request blocked: Too soon (wait 54.0s more, min interval: 60s)
2025-10-17 10:51:17,099 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723477.0995991, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:17,138 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:17,138 WARNING üö´ LLM request blocked: Too soon (wait 49.0s more, min interval: 60s)
2025-10-17 10:51:18,062 INFO ‚úÖ LLM analysis completed in 11.91s
2025-10-17 10:51:18,064 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:51:18,064 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:51:18,064 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:51:18,065 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:51:18,065 INFO üîì LLM analysis flag cleared after 11.92s
2025-10-17 10:51:22,131 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 10:51:23,098 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723483.097332, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:23,135 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:23,136 WARNING üö´ LLM request blocked: Too soon (wait 43.0s more, min interval: 60s)
2025-10-17 10:51:27,591 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.6s more, min interval: 60s)
2025-10-17 10:51:28,118 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723488.11797, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:28,154 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:28,154 WARNING üö´ LLM request blocked: Too soon (wait 38.0s more, min interval: 60s)
2025-10-17 10:51:32,960 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 10:51:38,402 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 10:51:39,127 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723499.127, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:39,165 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:39,165 WARNING üö´ LLM request blocked: Too soon (wait 27.0s more, min interval: 60s)
2025-10-17 10:51:43,753 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 10:51:49,118 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 10:51:50,127 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723510.127295, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:51:50,160 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:51:50,160 WARNING üö´ LLM request blocked: Too soon (wait 16.0s more, min interval: 60s)
2025-10-17 10:51:54,503 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 10:51:59,861 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 10:52:00,144 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723520.144325, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:00,181 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:00,181 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 10:52:05,268 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 10:52:06,157 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723526.157237, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:06,196 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:06,196 INFO ‚úÖ LLM request allowed: OK (last request 60.0s ago)
2025-10-17 10:52:06,196 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 10:52:06,200 INFO feature comparison prepared
2025-10-17 10:52:10,642 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 55.6s more, min interval: 60s)
2025-10-17 10:52:16,062 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 50.1s more, min interval: 60s)
2025-10-17 10:52:16,218 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723536.21875, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:16,235 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:16,236 WARNING üö´ LLM request blocked: Too soon (wait 50.0s more, min interval: 60s)
2025-10-17 10:52:20,554 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 10:52:20,555 INFO üìä LLM analyses keys: dict_keys(['anthropic'])
2025-10-17 10:52:20,555 INFO üìä anthropic - status: success, has_analysis: True
2025-10-17 10:52:20,556 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-17 10:52:20,557 INFO ‚úÖ Saved analysis to history (id: 1760723540556)
2025-10-17 10:52:20,557 INFO multi-llm analysis completed id=Fault-2
2025-10-17 10:52:21,449 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.7s more, min interval: 60s)
2025-10-17 10:52:22,231 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723542.231563, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:22,357 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:22,357 WARNING üö´ LLM request blocked: Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 10:52:26,836 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.4s more, min interval: 60s)
2025-10-17 10:52:32,280 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.9s more, min interval: 60s)
2025-10-17 10:52:33,171 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723553.171535, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:33,200 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:33,200 WARNING üö´ LLM request blocked: Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 10:52:37,686 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.5s more, min interval: 60s)
2025-10-17 10:52:43,118 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.1s more, min interval: 60s)
2025-10-17 10:52:44,145 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723564.145445, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:44,154 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:44,154 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-17 10:52:48,538 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.7s more, min interval: 60s)
2025-10-17 10:52:49,279 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723569.279841, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:52:49,396 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:52:49,397 WARNING üö´ LLM request blocked: Too soon (wait 16.8s more, min interval: 60s)
2025-10-17 10:52:53,914 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.3s more, min interval: 60s)
2025-10-17 10:52:59,282 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.9s more, min interval: 60s)
2025-10-17 10:53:00,215 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723580.214804, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:00,240 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:00,240 WARNING üö´ LLM request blocked: Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 10:53:04,671 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.5s more, min interval: 60s)
2025-10-17 10:53:05,226 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723585.2263198, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:05,266 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:05,266 WARNING üö´ LLM request blocked: Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 10:53:10,034 INFO ‚úÖ LLM request allowed - OK (last request 63.8s ago)
2025-10-17 10:53:10,037 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:53:10,038 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:53:10,038 INFO üîç Analysis flag set at 10:53:10
2025-10-17 10:53:10,038 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:53:16,233 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723596.23323, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:16,257 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:16,257 WARNING üö´ LLM request blocked: Too soon (wait 53.8s more, min interval: 60s)
2025-10-17 10:53:22,261 INFO ‚úÖ LLM analysis completed in 12.22s
2025-10-17 10:53:22,263 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:53:22,263 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:53:22,263 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:53:22,264 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:53:22,264 INFO üîì LLM analysis flag cleared after 12.23s
2025-10-17 10:53:26,166 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:53:27,234 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723607.2341409, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:27,261 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:27,261 WARNING üö´ LLM request blocked: Too soon (wait 42.8s more, min interval: 60s)
2025-10-17 10:53:31,531 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:53:32,242 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723612.2421792, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:32,276 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:32,276 WARNING üö´ LLM request blocked: Too soon (wait 37.8s more, min interval: 60s)
2025-10-17 10:53:36,926 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 10:53:42,299 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 10:53:43,268 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723623.268706, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:43,318 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:43,318 WARNING üö´ LLM request blocked: Too soon (wait 26.7s more, min interval: 60s)
2025-10-17 10:53:47,674 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 10:53:53,032 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 10:53:53,271 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723633.271408, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:53,314 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:53,315 WARNING üö´ LLM request blocked: Too soon (wait 16.7s more, min interval: 60s)
2025-10-17 10:53:58,392 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 10:53:59,289 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723639.2888582, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:53:59,326 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:53:59,326 WARNING üö´ LLM request blocked: Too soon (wait 10.7s more, min interval: 60s)
2025-10-17 10:54:03,795 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 10:54:04,357 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:04,357 WARNING üö´ LLM request blocked: Too soon (wait 5.7s more, min interval: 60s)
2025-10-17 10:54:09,166 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 10:54:14,533 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 10:54:14,536 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:54:14,537 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:54:14,537 INFO üîç Analysis flag set at 10:54:14
2025-10-17 10:54:14,537 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:54:15,303 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723655.303686, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:15,338 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:15,338 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-17 10:54:26,298 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723666.298337, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:26,327 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:26,327 WARNING üö´ LLM request blocked: Too soon (wait 48.2s more, min interval: 60s)
2025-10-17 10:54:26,341 INFO ‚úÖ LLM analysis completed in 11.80s
2025-10-17 10:54:26,342 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:54:26,342 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:54:26,342 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:54:26,343 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:54:26,343 INFO üîì LLM analysis flag cleared after 11.81s
2025-10-17 10:54:30,798 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.7s more, min interval: 60s)
2025-10-17 10:54:31,324 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723671.324214, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:31,356 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:31,356 WARNING üö´ LLM request blocked: Too soon (wait 43.2s more, min interval: 60s)
2025-10-17 10:54:36,184 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 10:54:41,559 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 10:54:42,314 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723682.314355, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:42,334 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:42,335 WARNING üö´ LLM request blocked: Too soon (wait 32.2s more, min interval: 60s)
2025-10-17 10:54:46,937 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.6s more, min interval: 60s)
2025-10-17 10:54:47,314 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723687.314828, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:47,336 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:47,337 WARNING üö´ LLM request blocked: Too soon (wait 27.2s more, min interval: 60s)
2025-10-17 10:54:52,352 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.2s more, min interval: 60s)
2025-10-17 10:54:53,339 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723693.3395169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:53,365 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:53,365 WARNING üö´ LLM request blocked: Too soon (wait 21.2s more, min interval: 60s)
2025-10-17 10:54:57,723 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.8s more, min interval: 60s)
2025-10-17 10:54:58,357 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723698.357662, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:54:58,392 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:54:58,393 WARNING üö´ LLM request blocked: Too soon (wait 16.1s more, min interval: 60s)
2025-10-17 10:55:03,096 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.4s more, min interval: 60s)
2025-10-17 10:55:03,354 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723703.3545039, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:03,374 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:03,374 WARNING üö´ LLM request blocked: Too soon (wait 11.2s more, min interval: 60s)
2025-10-17 10:55:08,486 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 10:55:09,376 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723709.376062, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:09,410 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:09,410 WARNING üö´ LLM request blocked: Too soon (wait 5.1s more, min interval: 60s)
2025-10-17 10:55:13,854 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 10:55:19,225 INFO ‚úÖ LLM request allowed - OK (last request 64.7s ago)
2025-10-17 10:55:19,227 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:55:19,228 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:55:19,228 INFO üîç Analysis flag set at 10:55:19
2025-10-17 10:55:19,228 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:55:19,360 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723719.359798, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:19,395 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:19,396 WARNING üö´ LLM request blocked: Too soon (wait 59.8s more, min interval: 60s)
2025-10-17 10:55:25,385 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723725.384798, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:25,414 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:25,414 WARNING üö´ LLM request blocked: Too soon (wait 53.8s more, min interval: 60s)
2025-10-17 10:55:30,384 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723730.384275, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:30,417 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:30,417 WARNING üö´ LLM request blocked: Too soon (wait 48.8s more, min interval: 60s)
2025-10-17 10:55:31,372 INFO ‚úÖ LLM analysis completed in 12.14s
2025-10-17 10:55:31,373 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:55:31,373 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:55:31,373 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:55:31,374 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:55:31,374 INFO üîì LLM analysis flag cleared after 12.15s
2025-10-17 10:55:35,343 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:55:36,382 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723736.381953, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:36,409 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:36,409 WARNING üö´ LLM request blocked: Too soon (wait 42.8s more, min interval: 60s)
2025-10-17 10:55:40,731 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:55:41,392 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723741.3925529, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:41,427 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:41,427 WARNING üö´ LLM request blocked: Too soon (wait 37.8s more, min interval: 60s)
2025-10-17 10:55:46,098 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 10:55:46,393 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723746.3930528, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:46,429 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:46,429 WARNING üö´ LLM request blocked: Too soon (wait 32.8s more, min interval: 60s)
2025-10-17 10:55:51,472 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 10:55:52,398 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723752.397981, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:52,433 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:52,434 WARNING üö´ LLM request blocked: Too soon (wait 26.8s more, min interval: 60s)
2025-10-17 10:55:56,846 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 10:55:57,429 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723757.4290292, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:55:57,468 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:55:57,468 WARNING üö´ LLM request blocked: Too soon (wait 21.8s more, min interval: 60s)
2025-10-17 10:56:02,221 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 10:56:02,537 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723762.536763, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:02,566 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:56:02,566 WARNING üö´ LLM request blocked: Too soon (wait 16.7s more, min interval: 60s)
2025-10-17 10:56:07,693 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 10:56:08,431 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723768.431202, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:08,470 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:56:08,470 WARNING üö´ LLM request blocked: Too soon (wait 10.8s more, min interval: 60s)
2025-10-17 10:56:13,087 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 10:56:13,440 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723773.4401689, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:13,474 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:56:13,474 WARNING üö´ LLM request blocked: Too soon (wait 5.8s more, min interval: 60s)
2025-10-17 10:56:18,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 10:56:19,454 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723779.454379, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:19,490 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:56:19,491 INFO ‚úÖ LLM request allowed: OK (last request 60.3s ago)
2025-10-17 10:56:19,491 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-17 10:56:19,495 INFO feature comparison prepared
2025-10-17 10:56:23,881 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 55.6s more, min interval: 60s)
2025-10-17 10:56:29,252 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 50.2s more, min interval: 60s)
2025-10-17 10:56:29,430 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723789.430748, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:29,449 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:56:29,449 WARNING üö´ LLM request blocked: Too soon (wait 50.0s more, min interval: 60s)
2025-10-17 10:56:32,818 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-17 10:56:32,818 INFO üìä LLM analyses keys: dict_keys(['anthropic'])
2025-10-17 10:56:32,818 INFO üìä anthropic - status: success, has_analysis: True
2025-10-17 10:56:32,819 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-17 10:56:32,820 INFO ‚úÖ Saved analysis to history (id: 1760723792820)
2025-10-17 10:56:32,820 INFO multi-llm analysis completed id=Fault-2
2025-10-17 10:56:34,624 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.9s more, min interval: 60s)
2025-10-17 10:56:35,464 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760723795.464211, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:35,492 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:56:35,492 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-17 10:56:39,999 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.5s more, min interval: 60s)
2025-10-17 10:56:40,473 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 5.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 5.01, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:45,361 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.1s more, min interval: 60s)
2025-10-17 10:56:50,716 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.8s more, min interval: 60s)
2025-10-17 10:56:51,486 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 16.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 16.02, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:56:56,084 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.4s more, min interval: 60s)
2025-10-17 10:56:56,493 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 21.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 21.03, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:01,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.0s more, min interval: 60s)
2025-10-17 10:57:02,512 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 27.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 27.05, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:06,826 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.7s more, min interval: 60s)
2025-10-17 10:57:07,604 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 32.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 32.14, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:12,198 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.3s more, min interval: 60s)
2025-10-17 10:57:17,572 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.9s more, min interval: 60s)
2025-10-17 10:57:18,513 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 43.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 43.05, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:22,946 INFO ‚úÖ LLM request allowed - OK (last request 63.5s ago)
2025-10-17 10:57:22,949 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:57:22,950 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:57:22,950 INFO üîç Analysis flag set at 10:57:22
2025-10-17 10:57:22,950 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:57:23,518 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 48.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 48.05, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:28,554 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 53.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 53.09, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:34,534 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 59.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 59.07, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:35,337 INFO ‚úÖ LLM analysis completed in 12.39s
2025-10-17 10:57:35,338 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:57:35,339 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:57:35,339 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:57:35,339 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:57:35,339 INFO üîì LLM analysis flag cleared after 12.39s
2025-10-17 10:57:39,069 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:57:39,539 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 64.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 64.08, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:44,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:57:49,865 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 10:57:50,527 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 75.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 75.06, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:57:55,259 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 10:57:55,567 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 80.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 80.1, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:00,634 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 10:58:01,565 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 86.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 86.1, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:06,014 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 10:58:11,481 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 10:58:11,555 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 96.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 96.09, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:16,858 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 10:58:17,578 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 102.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 102.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:22,238 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 10:58:22,622 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 10:58:22,623 WARNING üö´ LLM request blocked: Too soon (wait 0.3s more, min interval: 60s)
2025-10-17 10:58:27,612 INFO ‚úÖ LLM request allowed - OK (last request 64.7s ago)
2025-10-17 10:58:27,615 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:58:27,616 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:58:27,616 INFO üîç Analysis flag set at 10:58:27
2025-10-17 10:58:27,616 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:58:28,581 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 113.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 113.12, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:33,592 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 118.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 118.13, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:38,601 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 123.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 123.14, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:42,055 INFO ‚úÖ LLM analysis completed in 14.44s
2025-10-17 10:58:42,056 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:58:42,057 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:58:42,057 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:58:42,058 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:58:42,058 INFO üîì LLM analysis flag cleared after 14.44s
2025-10-17 10:58:43,711 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:58:44,619 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 129.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 129.16, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:49,074 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:58:49,626 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 134.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 134.16, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:54,432 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 10:58:54,631 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 139.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 139.17, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:58:59,794 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 10:59:00,610 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 145.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 145.15, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:05,167 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 10:59:05,649 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 150.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 150.19, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:10,554 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 10:59:15,924 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 10:59:16,633 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 161.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 161.17, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:21,297 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 10:59:21,667 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 166.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 166.2, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:26,677 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 10:59:27,654 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 172.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 172.19, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:32,051 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 10:59:32,054 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 10:59:32,055 INFO ü§ñ Starting background LLM analysis...
2025-10-17 10:59:32,055 INFO üîç Analysis flag set at 10:59:32
2025-10-17 10:59:32,055 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 10:59:37,645 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 182.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 182.18, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:43,674 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 188.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 188.21, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:45,652 INFO ‚úÖ LLM analysis completed in 13.60s
2025-10-17 10:59:45,653 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 10:59:45,653 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 10:59:45,653 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 10:59:45,654 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 10:59:45,654 INFO üîì LLM analysis flag cleared after 13.60s
2025-10-17 10:59:48,185 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 10:59:48,701 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 193.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 193.24, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 10:59:53,556 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 10:59:58,922 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 10:59:59,680 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 204.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 204.22, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:04,280 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:00:04,681 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 209.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 209.22, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:09,646 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:00:10,698 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 215.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 215.23, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:15,009 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:00:15,709 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 220.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 220.25, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:20,390 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:00:20,717 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 225.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 225.25, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:25,764 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:00:26,704 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 231.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 231.24, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:31,141 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:00:31,730 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 236.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 236.27, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:36,512 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:00:36,514 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:00:36,515 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:00:36,516 INFO üîç Analysis flag set at 11:00:36
2025-10-17 11:00:36,516 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:00:42,737 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 247.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 247.27, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:00:49,622 INFO ‚úÖ LLM analysis completed in 13.11s
2025-10-17 11:00:49,624 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:00:49,624 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:00:49,624 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:00:49,625 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:00:49,625 INFO üîì LLM analysis flag cleared after 13.11s
2025-10-17 11:00:52,649 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:00:58,017 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:01:03,402 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:01:08,788 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:01:14,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:01:19,559 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:01:24,938 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:01:30,308 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:01:35,709 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 11:01:41,085 INFO ‚úÖ LLM request allowed - OK (last request 64.6s ago)
2025-10-17 11:01:41,087 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:01:41,088 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:01:41,088 INFO üîç Analysis flag set at 11:01:41
2025-10-17 11:01:41,088 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:01:54,746 INFO ‚úÖ LLM analysis completed in 13.66s
2025-10-17 11:01:54,747 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:01:54,747 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:01:54,747 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:01:54,747 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:01:54,747 INFO üîì LLM analysis flag cleared after 13.66s
2025-10-17 11:01:57,211 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:02:02,578 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:02:07,936 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:02:13,371 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:02:18,772 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:02:24,253 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.8s more, min interval: 60s)
2025-10-17 11:02:29,714 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.4s more, min interval: 60s)
2025-10-17 11:02:35,103 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 11:02:40,482 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.6s more, min interval: 60s)
2025-10-17 11:02:45,875 INFO ‚úÖ LLM request allowed - OK (last request 64.8s ago)
2025-10-17 11:02:45,877 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:02:45,878 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:02:45,878 INFO üîç Analysis flag set at 11:02:45
2025-10-17 11:02:45,879 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:02:58,981 INFO ‚úÖ LLM analysis completed in 13.10s
2025-10-17 11:02:58,983 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:02:58,983 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:02:58,983 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:02:58,984 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:02:58,984 INFO üîì LLM analysis flag cleared after 13.11s
2025-10-17 11:03:02,025 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:03:07,401 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:03:12,789 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:03:18,160 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:03:23,557 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:03:28,951 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 11:03:34,364 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 11:03:39,750 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 11:03:45,136 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 11:03:50,501 INFO ‚úÖ LLM request allowed - OK (last request 64.6s ago)
2025-10-17 11:03:50,503 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:03:50,504 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:03:50,504 INFO üîç Analysis flag set at 11:03:50
2025-10-17 11:03:50,504 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:04:02,293 INFO ‚úÖ LLM analysis completed in 11.79s
2025-10-17 11:04:02,296 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:04:02,296 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:04:02,296 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:04:02,297 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:04:02,297 INFO üîì LLM analysis flag cleared after 11.79s
2025-10-17 11:04:06,656 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 11:04:12,014 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:04:17,380 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:04:22,817 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:04:28,226 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:04:33,627 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 11:04:39,033 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 11:04:44,401 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 11:04:49,794 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 11:04:55,187 INFO ‚úÖ LLM request allowed - OK (last request 64.7s ago)
2025-10-17 11:04:55,189 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:04:55,190 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:04:55,190 INFO üîç Analysis flag set at 11:04:55
2025-10-17 11:04:55,190 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:05:09,300 INFO ‚úÖ LLM analysis completed in 14.11s
2025-10-17 11:05:09,302 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:05:09,302 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:05:09,302 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:05:09,303 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:05:09,303 INFO üîì LLM analysis flag cleared after 14.11s
2025-10-17 11:05:11,410 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.8s more, min interval: 60s)
2025-10-17 11:05:16,802 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 11:05:22,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 11:05:27,536 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:05:32,899 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:05:38,268 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 11:05:43,639 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:05:49,018 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:05:54,400 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 11:05:59,773 INFO ‚úÖ LLM request allowed - OK (last request 64.6s ago)
2025-10-17 11:05:59,775 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:05:59,776 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:05:59,776 INFO üîç Analysis flag set at 11:05:59
2025-10-17 11:05:59,776 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:06:12,961 INFO ‚úÖ LLM analysis completed in 13.19s
2025-10-17 11:06:12,963 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:06:12,963 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:06:12,963 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:06:12,963 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:06:12,963 INFO üîì LLM analysis flag cleared after 13.19s
2025-10-17 11:06:15,919 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:06:21,278 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:06:26,643 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:06:32,007 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:06:37,373 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:06:42,736 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:06:48,100 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:06:53,464 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:06:58,825 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:07:04,192 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:07:04,194 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:07:04,195 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:07:04,195 INFO üîç Analysis flag set at 11:07:04
2025-10-17 11:07:04,196 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:07:16,583 INFO ‚úÖ LLM analysis completed in 12.39s
2025-10-17 11:07:16,584 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:07:16,585 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:07:16,585 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:07:16,585 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:07:16,586 INFO üîì LLM analysis flag cleared after 12.39s
2025-10-17 11:07:20,291 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:07:25,654 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:07:31,016 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:07:36,380 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:07:41,745 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 11:07:47,108 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:07:52,470 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:07:57,831 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 11:08:03,188 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:08:08,551 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:08:08,554 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:08:08,555 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:08:08,555 INFO üîç Analysis flag set at 11:08:08
2025-10-17 11:08:08,555 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:08:22,530 INFO ‚úÖ LLM analysis completed in 13.98s
2025-10-17 11:08:22,532 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:08:22,532 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:08:22,533 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:08:22,534 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:08:22,534 INFO üîì LLM analysis flag cleared after 13.98s
2025-10-17 11:08:24,647 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:08:30,009 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:08:35,372 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:08:40,732 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:08:46,098 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 11:08:51,463 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:08:56,828 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:09:02,190 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 11:09:07,551 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:09:12,916 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:09:12,919 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:09:12,920 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:09:12,920 INFO üîç Analysis flag set at 11:09:12
2025-10-17 11:09:12,920 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:09:25,505 INFO ‚úÖ LLM analysis completed in 12.59s
2025-10-17 11:09:25,507 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:09:25,507 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:09:25,507 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:09:25,508 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:09:25,508 INFO üîì LLM analysis flag cleared after 12.59s
2025-10-17 11:09:29,013 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:09:34,373 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:09:39,742 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:09:45,104 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:09:50,467 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 11:09:55,838 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:10:01,208 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:10:06,572 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:10:11,938 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:10:17,301 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:10:17,303 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:10:17,304 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:10:17,304 INFO üîç Analysis flag set at 11:10:17
2025-10-17 11:10:17,304 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:10:31,159 INFO ‚úÖ LLM analysis completed in 13.85s
2025-10-17 11:10:31,162 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:10:31,162 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:10:31,162 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:10:31,163 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:10:31,163 INFO üîì LLM analysis flag cleared after 13.86s
2025-10-17 11:10:33,419 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:10:38,784 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:10:44,150 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:10:49,515 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:10:54,877 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:11:00,244 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:11:05,621 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:11:10,987 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:11:16,358 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:11:21,720 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:11:21,722 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:11:21,723 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:11:21,723 INFO üîç Analysis flag set at 11:11:21
2025-10-17 11:11:21,723 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:11:35,934 INFO ‚úÖ LLM analysis completed in 14.21s
2025-10-17 11:11:35,935 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:11:35,936 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:11:35,936 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:11:35,937 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:11:35,937 INFO üîì LLM analysis flag cleared after 14.21s
2025-10-17 11:11:37,829 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:11:43,192 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:11:48,565 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:11:53,935 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:11:59,302 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:12:04,684 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:12:10,083 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:12:15,448 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:12:20,819 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:12:26,192 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:12:26,195 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:12:26,196 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:12:26,196 INFO üîç Analysis flag set at 11:12:26
2025-10-17 11:12:26,196 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:12:39,507 INFO ‚úÖ LLM analysis completed in 13.31s
2025-10-17 11:12:39,509 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:12:39,509 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:12:39,509 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:12:39,510 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:12:39,510 INFO üîì LLM analysis flag cleared after 13.31s
2025-10-17 11:12:42,295 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:12:47,657 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:12:53,020 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:12:58,385 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:13:03,770 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:13:09,132 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:13:14,520 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:13:19,881 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:13:25,242 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:13:30,603 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:13:30,605 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:13:30,606 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:13:30,606 INFO üîç Analysis flag set at 11:13:30
2025-10-17 11:13:30,606 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:13:42,665 INFO ‚úÖ LLM analysis completed in 12.06s
2025-10-17 11:13:42,666 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:13:42,666 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:13:42,666 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:13:42,667 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:13:42,667 INFO üîì LLM analysis flag cleared after 12.06s
2025-10-17 11:13:46,712 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:13:52,078 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:13:57,443 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:14:02,810 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:14:08,180 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:14:13,544 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:14:18,914 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:14:24,278 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:14:29,657 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:14:35,021 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:14:35,024 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:14:35,025 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:14:35,025 INFO üîç Analysis flag set at 11:14:35
2025-10-17 11:14:35,025 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:14:47,589 INFO ‚úÖ LLM analysis completed in 12.56s
2025-10-17 11:14:47,590 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:14:47,590 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:14:47,590 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:14:47,591 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:14:47,591 INFO üîì LLM analysis flag cleared after 12.57s
2025-10-17 11:14:51,144 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:14:56,516 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:15:01,883 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:15:07,256 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:15:12,630 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:15:16,927 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1121.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1121.46, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:15:18,089 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 11:15:23,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:15:23,976 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1128.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1128.51, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:15:28,853 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:15:28,988 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1133.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1133.52, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:15:34,221 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 11:15:35,165 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1139.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1139.7, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:15:39,602 INFO ‚úÖ LLM request allowed - OK (last request 64.6s ago)
2025-10-17 11:15:39,603 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:15:39,604 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:15:39,604 INFO üîç Analysis flag set at 11:15:39
2025-10-17 11:15:39,604 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:15:46,022 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1150.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1150.56, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:15:51,061 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1155.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1155.6, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:15:55,702 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:15:56,104 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:15:56,104 WARNING üö´ LLM request blocked: Too soon (wait 43.5s more, min interval: 60s)
2025-10-17 11:16:01,064 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:16:02,052 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1166.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1166.59, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:06,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:16:07,060 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1171.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1171.6, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:09,606 INFO ‚úÖ LLM analysis completed in 30.00s
2025-10-17 11:16:09,607 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:16:09,608 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:16:09,608 INFO üîì LLM analysis flag cleared after 30.00s
2025-10-17 11:16:11,785 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:16:12,159 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1176.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1176.7, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:17,165 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:16:18,082 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1182.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1182.62, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:22,534 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:16:23,179 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1187.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1187.72, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:27,907 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:16:33,275 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:16:34,113 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1198.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1198.65, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:38,638 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:16:39,126 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1203.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1203.66, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:16:44,003 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:16:44,004 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:16:44,005 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:16:44,005 INFO üîç Analysis flag set at 11:16:44
2025-10-17 11:16:44,005 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:16:50,186 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1214.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1214.72, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:20,772 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1245.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1245.31, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:25,120 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:17:25,773 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1250.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1250.31, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:30,513 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:17:30,789 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1255.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1255.33, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:30,825 INFO ‚úÖ LLM analysis completed in 46.82s
2025-10-17 11:17:30,828 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:17:30,828 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:17:30,828 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:17:30,829 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:17:30,829 INFO üîì LLM analysis flag cleared after 46.82s
2025-10-17 11:17:35,897 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.1s more, min interval: 60s)
2025-10-17 11:17:36,793 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1261.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1261.33, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:41,280 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-17 11:17:41,909 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1266.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1266.45, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:46,670 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-17 11:17:46,673 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:17:46,674 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:17:46,674 INFO üîç Analysis flag set at 11:17:46
2025-10-17 11:17:46,674 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:17:52,818 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1277.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1277.35, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:57,817 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1282.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1282.35, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:17:59,203 INFO ‚úÖ LLM analysis completed in 12.53s
2025-10-17 11:17:59,205 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:17:59,206 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:17:59,206 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:17:59,206 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:17:59,207 INFO üîì LLM analysis flag cleared after 12.53s
2025-10-17 11:18:02,783 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:18:03,842 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1288.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1288.38, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:08,175 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:18:13,552 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:18:13,849 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1298.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1298.39, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:18,935 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:18:19,850 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1304.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1304.39, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:24,309 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:18:24,859 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1309.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1309.39, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:29,702 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:18:29,956 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1314.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1314.49, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:35,091 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:18:35,863 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1320.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1320.4, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:40,453 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:18:40,871 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1325.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1325.41, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:45,823 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:18:46,874 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1331.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1331.41, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:51,189 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:18:51,191 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:18:51,192 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:18:51,192 INFO üîç Analysis flag set at 11:18:51
2025-10-17 11:18:51,192 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:18:51,898 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1336.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1336.43, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:18:57,002 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1341.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1341.54, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:02,900 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1347.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1347.44, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:03,024 INFO ‚úÖ LLM analysis completed in 11.83s
2025-10-17 11:19:03,025 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:19:03,025 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:19:03,025 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:19:03,026 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:19:03,026 INFO üîì LLM analysis flag cleared after 11.83s
2025-10-17 11:19:07,320 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:19:12,753 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 11:19:12,917 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1357.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1357.45, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:18,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 11:19:18,918 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1363.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1363.45, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:23,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.6s more, min interval: 60s)
2025-10-17 11:19:23,929 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1368.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1368.47, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:28,946 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.2s more, min interval: 60s)
2025-10-17 11:19:29,945 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1374.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1374.48, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:34,336 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 11:19:39,725 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 11:19:39,943 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1384.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1384.48, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:45,149 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-17 11:19:45,948 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1390.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1390.48, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:50,545 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.6s more, min interval: 60s)
2025-10-17 11:19:50,949 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1395.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1395.48, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:19:55,909 INFO ‚úÖ LLM request allowed - OK (last request 64.7s ago)
2025-10-17 11:19:55,910 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:19:55,912 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:19:55,912 INFO üîç Analysis flag set at 11:19:55
2025-10-17 11:19:55,912 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:19:56,955 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1401.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1401.49, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:01,979 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1406.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1406.52, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:06,983 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1411.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1411.52, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:09,045 INFO ‚úÖ LLM analysis completed in 13.13s
2025-10-17 11:20:09,046 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:20:09,047 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:20:09,047 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:20:09,047 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:20:09,047 INFO üîì LLM analysis flag cleared after 13.14s
2025-10-17 11:20:12,023 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:20:12,980 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1417.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1417.52, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:17,405 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:20:17,989 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1422.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1422.53, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:22,812 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:20:22,991 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1427.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1427.53, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:28,195 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:20:28,999 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1433.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1433.53, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:33,564 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:20:34,011 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1438.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1438.55, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:38,939 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:20:44,333 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:20:45,013 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1449.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1449.55, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:20:49,712 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:20:50,043 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:20:50,043 WARNING üö´ LLM request blocked: Too soon (wait 5.9s more, min interval: 60s)
2025-10-17 11:20:55,083 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 11:20:56,012 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1460.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1460.55, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:00,460 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:21:00,462 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:21:00,463 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:21:00,463 INFO üîç Analysis flag set at 11:21:00
2025-10-17 11:21:00,463 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:21:01,029 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1465.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1465.57, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:12,049 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1476.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1476.58, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:14,890 INFO ‚úÖ LLM analysis completed in 14.43s
2025-10-17 11:21:14,891 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:21:14,891 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:21:14,891 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:21:14,892 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:21:14,892 INFO üîì LLM analysis flag cleared after 14.43s
2025-10-17 11:21:16,610 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:21:22,066 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 11:21:23,063 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1487.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1487.6, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:27,454 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 11:21:28,064 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1492.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1492.6, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:32,819 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.6s more, min interval: 60s)
2025-10-17 11:21:33,073 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1497.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1497.61, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:38,195 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:21:39,098 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1503.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1503.63, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:43,567 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 11:21:48,957 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-17 11:21:49,082 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1513.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1513.62, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:54,343 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.1s more, min interval: 60s)
2025-10-17 11:21:55,089 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1519.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1519.63, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:21:59,730 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-17 11:22:00,106 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1524.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1524.64, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:05,126 INFO ‚úÖ LLM request allowed - OK (last request 64.7s ago)
2025-10-17 11:22:05,128 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:22:05,129 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:22:05,129 INFO üîç Analysis flag set at 11:22:05
2025-10-17 11:22:05,129 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:22:06,204 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1530.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1530.74, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:16,120 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1540.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1540.66, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:18,794 INFO ‚úÖ LLM analysis completed in 13.67s
2025-10-17 11:22:18,795 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:22:18,795 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:22:18,795 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:22:18,796 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:22:18,796 INFO üîì LLM analysis flag cleared after 13.67s
2025-10-17 11:22:21,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:22:22,150 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1546.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1546.69, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:26,605 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:22:31,970 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:22:32,143 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1556.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1556.68, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:37,338 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:22:38,147 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1562.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1562.68, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:42,709 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:22:43,204 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1567.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1567.74, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:48,077 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:22:53,450 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:22:54,166 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1578.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1578.7, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:22:58,829 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:22:59,196 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:22:59,196 WARNING üö´ LLM request blocked: Too soon (wait 5.9s more, min interval: 60s)
2025-10-17 11:23:04,201 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:23:05,176 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1589.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1589.71, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:09,571 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:23:09,573 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:23:09,574 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:23:09,574 INFO üîç Analysis flag set at 11:23:09
2025-10-17 11:23:09,574 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:23:10,274 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1594.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1594.81, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:21,190 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1605.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1605.73, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:22,213 INFO ‚úÖ LLM analysis completed in 12.64s
2025-10-17 11:23:22,214 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:23:22,214 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:23:22,214 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:23:22,215 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:23:22,215 INFO üîì LLM analysis flag cleared after 12.64s
2025-10-17 11:23:25,707 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:23:26,224 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1610.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1610.76, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:31,074 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:23:36,441 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:23:37,215 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1621.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1621.75, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:41,819 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:23:42,224 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1626.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1626.76, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:47,186 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:23:48,232 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1632.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1632.77, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:52,554 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:23:53,239 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1637.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1637.78, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:23:57,916 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:23:58,251 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1642.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1642.79, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:03,282 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:24:04,247 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1648.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1648.78, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:08,644 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:24:09,254 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1653.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1653.79, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:14,014 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:24:14,016 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:24:14,016 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:24:14,016 INFO üîç Analysis flag set at 11:24:14
2025-10-17 11:24:14,016 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:24:14,294 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:24:14,294 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-17 11:24:20,265 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1664.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1664.8, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:25,265 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1669.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1669.8, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:27,132 INFO ‚úÖ LLM analysis completed in 13.12s
2025-10-17 11:24:27,133 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:24:27,133 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:24:27,133 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:24:27,134 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:24:27,134 INFO üîì LLM analysis flag cleared after 13.12s
2025-10-17 11:24:30,097 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:24:30,334 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1674.9s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1674.87, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:35,463 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.6s more, min interval: 60s)
2025-10-17 11:24:36,283 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1680.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1680.82, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:40,823 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:24:41,302 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1685.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1685.84, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:46,186 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:24:51,552 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 11:24:52,300 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1696.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1696.84, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:24:56,917 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:24:57,337 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:24:57,337 WARNING üö´ LLM request blocked: Too soon (wait 16.7s more, min interval: 60s)
2025-10-17 11:25:02,280 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:25:03,310 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1707.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1707.85, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:25:07,649 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 11:25:08,334 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1712.9s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1712.87, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:25:13,112 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:25:18,474 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:25:18,476 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:25:18,477 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:25:18,477 INFO üîç Analysis flag set at 11:25:18
2025-10-17 11:25:18,477 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:25:19,349 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 1723.9s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 1723.89, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:25:31,900 INFO ‚úÖ LLM analysis completed in 13.42s
2025-10-17 11:25:31,901 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:25:31,902 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:25:31,902 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:25:31,902 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:25:31,903 INFO üîì LLM analysis flag cleared after 13.43s
2025-10-17 11:25:34,575 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:25:39,946 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:25:45,314 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:25:50,683 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:25:56,044 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:26:01,413 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:26:06,782 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:26:12,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:26:17,526 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:26:22,897 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:26:22,899 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:26:22,901 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:26:22,901 INFO üîç Analysis flag set at 11:26:22
2025-10-17 11:26:22,901 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:26:35,415 INFO ‚úÖ LLM analysis completed in 12.51s
2025-10-17 11:26:35,416 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:26:35,416 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:26:35,416 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:26:35,417 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:26:35,417 INFO üîì LLM analysis flag cleared after 12.52s
2025-10-17 11:26:39,015 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:26:44,384 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:26:49,752 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:26:55,118 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:27:00,485 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:27:05,855 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:27:11,221 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:27:16,596 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:27:21,960 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:27:27,328 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:27:27,330 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:27:27,332 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:27:27,332 INFO üîç Analysis flag set at 11:27:27
2025-10-17 11:27:27,332 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:27:40,639 INFO ‚úÖ LLM analysis completed in 13.31s
2025-10-17 11:27:40,640 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:27:40,640 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:27:40,640 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:27:40,641 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:27:40,641 INFO üîì LLM analysis flag cleared after 13.31s
2025-10-17 11:27:43,444 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:27:48,816 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:27:54,182 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:27:59,551 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:28:04,909 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:28:10,277 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:28:15,647 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:28:21,013 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:28:26,384 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:28:31,758 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:28:31,760 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:28:31,761 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:28:31,761 INFO üîç Analysis flag set at 11:28:31
2025-10-17 11:28:31,761 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:28:45,358 INFO ‚úÖ LLM analysis completed in 13.60s
2025-10-17 11:28:45,359 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:28:45,359 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:28:45,360 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:28:45,360 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:28:45,360 INFO üîì LLM analysis flag cleared after 13.60s
2025-10-17 11:28:47,870 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:28:53,238 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:28:58,604 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:29:03,971 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:29:09,341 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:29:14,709 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:29:20,068 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:29:25,438 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:29:30,808 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:29:36,175 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:29:36,177 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:29:36,178 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:29:36,178 INFO üîç Analysis flag set at 11:29:36
2025-10-17 11:29:36,178 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:29:49,569 INFO ‚úÖ LLM analysis completed in 13.39s
2025-10-17 11:29:49,570 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:29:49,570 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:29:49,570 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:29:49,571 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:29:49,571 INFO üîì LLM analysis flag cleared after 13.39s
2025-10-17 11:29:52,267 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:29:57,622 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.6s more, min interval: 60s)
2025-10-17 11:30:02,989 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:30:08,354 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:30:13,723 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.5s more, min interval: 60s)
2025-10-17 11:30:19,087 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:30:24,457 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:30:26,577 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2031.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2031.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:30:29,821 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-17 11:30:35,187 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:30:35,861 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2040.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2040.4, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:30:40,581 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:30:40,584 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:30:40,585 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:30:40,585 INFO üîç Analysis flag set at 11:30:40
2025-10-17 11:30:40,585 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:30:40,869 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2045.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2045.4, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:32:02,352 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2126.9s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2126.89, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:32:07,509 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2132.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2132.04, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:32:12,186 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:32:17,556 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:32:18,482 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2143.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2143.02, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:32:22,918 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:32:23,483 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2148.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2148.02, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:32:26,051 INFO ‚úÖ LLM analysis completed in 105.47s
2025-10-17 11:32:26,051 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:32:26,053 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:32:26,053 INFO üîì LLM analysis flag cleared after 105.47s
2025-10-17 11:32:28,292 INFO ‚úÖ LLM request allowed - OK (last request 107.7s ago)
2025-10-17 11:32:28,294 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:32:28,295 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:32:28,295 INFO üîç Analysis flag set at 11:32:28
2025-10-17 11:32:28,295 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:32:34,414 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2159.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2158.95, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:32:39,455 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:32:39,455 WARNING üö´ LLM request blocked: Too soon (wait 48.8s more, min interval: 60s)
2025-10-17 11:32:44,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:32:45,435 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2170.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2169.97, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:02,352 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:34:02,959 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2247.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2247.5, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:07,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:34:07,962 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2252.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2252.5, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:10,703 INFO ‚úÖ LLM analysis completed in 102.41s
2025-10-17 11:34:10,703 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:34:10,704 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:34:10,704 INFO üîì LLM analysis flag cleared after 102.41s
2025-10-17 11:34:13,105 INFO ‚úÖ LLM request allowed - OK (last request 104.8s ago)
2025-10-17 11:34:13,107 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:34:13,108 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:34:13,108 INFO üîç Analysis flag set at 11:34:13
2025-10-17 11:34:13,108 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:34:13,895 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2258.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2258.43, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:24,866 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2269.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2269.4, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:29,209 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:34:29,877 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2274.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2274.41, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:34,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:34:39,936 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:34:41,069 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2285.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2285.61, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:34:43,112 INFO ‚úÖ LLM analysis completed in 30.00s
2025-10-17 11:34:43,112 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:34:43,113 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:34:43,114 INFO üîì LLM analysis flag cleared after 30.01s
2025-10-17 11:34:45,304 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:34:46,073 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2290.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2290.61, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:03,428 INFO ‚úÖ LLM request allowed - OK (last request 110.3s ago)
2025-10-17 11:36:03,431 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:36:03,432 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:36:03,432 INFO üîç Analysis flag set at 11:36:03
2025-10-17 11:36:03,432 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:36:03,492 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2368.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2368.03, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:09,590 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2374.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2374.13, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:19,532 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:36:20,531 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2385.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2385.07, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:24,891 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:36:25,570 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2390.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2390.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:30,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-17 11:36:33,435 INFO ‚úÖ LLM analysis completed in 30.00s
2025-10-17 11:36:33,435 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:36:33,437 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:36:33,437 INFO üîì LLM analysis flag cleared after 30.01s
2025-10-17 11:36:35,642 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:36:36,572 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2401.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2401.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:41,066 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:36:41,640 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2406.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2406.18, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:36:46,433 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:38:04,105 INFO ‚úÖ LLM request allowed - OK (last request 120.7s ago)
2025-10-17 11:38:04,107 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:38:04,108 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:38:04,108 INFO üîç Analysis flag set at 11:38:04
2025-10-17 11:38:04,108 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:38:04,865 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2489.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2489.4, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:09,868 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2494.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2494.4, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:15,643 INFO ‚úÖ LLM analysis completed in 11.53s
2025-10-17 11:38:15,644 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:38:15,644 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:38:15,645 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:38:15,645 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:38:15,645 INFO üîì LLM analysis flag cleared after 11.54s
2025-10-17 11:38:16,038 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2500.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2500.57, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:20,203 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:38:25,573 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:38:25,896 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2510.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2510.43, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:30,936 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:38:31,911 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2516.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2516.45, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:36,305 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:38:36,913 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2521.4s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2521.45, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:41,682 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:38:41,927 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2526.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2526.46, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:38:47,046 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:38:47,920 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2532.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2532.46, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:04,912 INFO ‚úÖ LLM request allowed - OK (last request 120.8s ago)
2025-10-17 11:40:04,914 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:40:04,916 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:40:04,916 INFO üîç Analysis flag set at 11:40:04
2025-10-17 11:40:04,916 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:40:05,633 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2610.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2610.17, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:16,527 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2621.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2621.06, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:18,416 INFO ‚úÖ LLM analysis completed in 13.50s
2025-10-17 11:40:18,417 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:40:18,417 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:40:18,417 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:40:18,418 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:40:18,418 INFO üîì LLM analysis flag cleared after 13.50s
2025-10-17 11:40:21,010 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:40:21,568 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2626.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2626.1, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:26,372 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:40:26,571 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2631.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2631.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:31,739 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:40:32,522 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2637.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2637.06, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:37,101 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:40:37,530 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2642.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2642.07, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:42,470 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:40:43,631 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2648.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2648.17, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:40:47,837 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:42:05,834 INFO ‚úÖ LLM request allowed - OK (last request 120.9s ago)
2025-10-17 11:42:05,836 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:42:05,837 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:42:05,837 INFO üîç Analysis flag set at 11:42:05
2025-10-17 11:42:05,837 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:42:06,169 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2730.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2730.71, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:12,171 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2736.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2736.71, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:17,183 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2741.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2741.72, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:20,343 INFO ‚úÖ LLM analysis completed in 14.51s
2025-10-17 11:42:20,344 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:42:20,344 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:42:20,344 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:42:20,345 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:42:20,345 INFO üîì LLM analysis flag cleared after 14.51s
2025-10-17 11:42:21,936 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:42:22,200 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2746.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2746.74, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:27,297 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:42:28,197 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2752.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2752.73, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:32,657 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:42:33,211 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2757.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2757.75, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:38,020 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:42:38,213 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2762.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2762.75, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:43,390 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:42:44,240 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2768.8s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2768.78, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:42:48,770 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:44:06,832 INFO ‚úÖ LLM request allowed - OK (last request 121.0s ago)
2025-10-17 11:44:06,834 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:44:06,835 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:44:06,835 INFO üîç Analysis flag set at 11:44:06
2025-10-17 11:44:06,835 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:44:06,947 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2851.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2851.48, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:12,953 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2857.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2857.49, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:17,837 INFO ‚úÖ LLM analysis completed in 11.00s
2025-10-17 11:44:17,839 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:44:17,839 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:44:17,839 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:44:17,840 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:44:17,840 INFO üîì LLM analysis flag cleared after 11.00s
2025-10-17 11:44:18,032 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2862.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2862.57, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:22,941 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:44:24,172 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2868.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2868.71, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:28,304 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:44:33,678 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:44:34,120 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2878.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2878.66, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:39,042 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:44:40,171 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2884.7s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2884.71, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:44,403 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:44:49,774 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:44:50,014 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2894.5s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2894.55, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:44:55,138 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:44:56,038 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2900.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2900.57, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:45:00,501 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:45:01,035 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2905.6s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2905.57, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:03,384 INFO ‚úÖ LLM request allowed - OK (last request 116.5s ago)
2025-10-17 11:46:03,385 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:46:03,386 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:46:03,386 INFO üîç Analysis flag set at 11:46:03
2025-10-17 11:46:03,386 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:46:04,413 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2968.9s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2968.95, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:09,473 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2974.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2974.01, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:14,483 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2979.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2979.02, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:16,060 INFO ‚úÖ LLM analysis completed in 12.67s
2025-10-17 11:46:16,062 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:46:16,062 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:46:16,062 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:46:16,063 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:46:16,063 INFO üîì LLM analysis flag cleared after 12.68s
2025-10-17 11:46:19,490 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:46:20,397 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2984.9s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2984.93, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:24,852 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:46:25,603 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2990.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 2990.14, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:30,205 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:46:35,591 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:46:36,787 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3001.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3001.32, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:40,959 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:46:46,331 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:46:46,469 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3011.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3011.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:51,689 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:46:52,460 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3017.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3017.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:46:57,057 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:46:57,647 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3022.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3022.18, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:02,432 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:47:03,478 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3028.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3028.01, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:07,796 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:47:07,799 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:47:07,800 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:47:07,800 INFO üîç Analysis flag set at 11:47:07
2025-10-17 11:47:07,800 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:47:08,507 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-17 11:47:08,508 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-17 11:47:13,499 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3038.0s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3038.04, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:19,640 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3044.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3044.18, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:20,358 INFO ‚úÖ LLM analysis completed in 12.56s
2025-10-17 11:47:20,360 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:47:20,360 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:47:20,360 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:47:20,360 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:47:20,361 INFO üîì LLM analysis flag cleared after 12.56s
2025-10-17 11:47:23,924 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:47:24,687 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3049.2s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3049.22, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:29,347 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:47:34,717 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:47:35,554 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3060.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3060.09, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:40,106 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:47:45,472 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:47:45,726 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3070.3s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3070.26, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:50,844 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:47:51,577 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3076.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3076.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:47:56,214 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:47:56,581 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3081.1s (skipping analysis)', 'last_check_time': 1760723795.464211, 'time_since_last': 3081.12, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-17 11:48:01,581 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:48:06,939 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:48:12,327 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:48:12,330 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:48:12,330 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:48:12,331 INFO üîç Analysis flag set at 11:48:12
2025-10-17 11:48:12,331 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:48:24,461 INFO ‚úÖ LLM analysis completed in 12.13s
2025-10-17 11:48:24,462 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:48:24,462 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:48:24,462 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:48:24,463 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:48:24,463 INFO üîì LLM analysis flag cleared after 12.13s
2025-10-17 11:48:28,432 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:48:33,802 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:48:39,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:48:44,541 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:48:49,904 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:48:55,270 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:49:00,630 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:49:06,003 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:49:11,371 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:49:16,735 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:49:16,737 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:49:16,738 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:49:16,738 INFO üîç Analysis flag set at 11:49:16
2025-10-17 11:49:16,738 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:49:29,386 INFO ‚úÖ LLM analysis completed in 12.65s
2025-10-17 11:49:29,387 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:49:29,388 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:49:29,388 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:49:29,388 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:49:29,388 INFO üîì LLM analysis flag cleared after 12.65s
2025-10-17 11:49:32,849 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:49:38,212 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:49:43,609 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:49:48,981 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:49:54,346 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:49:59,714 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:50:05,085 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:50:10,463 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:50:15,823 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:50:21,190 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:50:21,192 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:50:21,194 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:50:21,194 INFO üîç Analysis flag set at 11:50:21
2025-10-17 11:50:21,194 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:50:34,103 INFO ‚úÖ LLM analysis completed in 12.91s
2025-10-17 11:50:34,104 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:50:34,104 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:50:34,105 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:50:34,105 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:50:34,106 INFO üîì LLM analysis flag cleared after 12.91s
2025-10-17 11:50:37,300 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:50:42,671 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:50:48,040 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:50:53,406 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:50:58,772 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:51:04,133 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:51:09,491 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:51:14,859 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:51:20,227 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 11:51:25,597 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:51:25,600 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:51:25,600 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:51:25,601 INFO üîç Analysis flag set at 11:51:25
2025-10-17 11:51:25,601 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:51:38,104 INFO ‚úÖ LLM analysis completed in 12.50s
2025-10-17 11:51:38,106 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:51:38,106 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:51:38,106 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:51:38,107 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:51:38,107 INFO üîì LLM analysis flag cleared after 12.51s
2025-10-17 11:51:41,703 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:51:47,071 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:51:52,440 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:51:57,812 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:52:03,189 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:52:08,558 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:52:13,929 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:52:19,289 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:52:24,660 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:52:30,030 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:52:30,032 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:52:30,034 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:52:30,034 INFO üîç Analysis flag set at 11:52:30
2025-10-17 11:52:30,034 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:52:41,799 INFO ‚úÖ LLM analysis completed in 11.76s
2025-10-17 11:52:41,800 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:52:41,800 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:52:41,800 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:52:41,801 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:52:41,801 INFO üîì LLM analysis flag cleared after 11.77s
2025-10-17 11:52:46,145 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:52:51,512 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:52:56,876 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:53:02,244 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:53:07,616 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:53:13,000 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:53:18,371 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:53:23,743 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:53:29,112 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:53:34,482 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:53:34,485 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:53:34,486 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:53:34,486 INFO üîç Analysis flag set at 11:53:34
2025-10-17 11:53:34,487 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:53:46,619 INFO ‚úÖ LLM analysis completed in 12.13s
2025-10-17 11:53:46,621 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:53:46,621 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:53:46,621 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:53:46,622 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:53:46,622 INFO üîì LLM analysis flag cleared after 12.14s
2025-10-17 11:53:50,591 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:53:55,960 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:54:01,332 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:54:06,700 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:54:12,068 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:54:17,435 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:54:22,804 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:54:28,172 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:54:33,541 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:54:38,910 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:54:38,912 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:54:38,913 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:54:38,913 INFO üîç Analysis flag set at 11:54:38
2025-10-17 11:54:38,913 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:54:51,132 INFO ‚úÖ LLM analysis completed in 12.22s
2025-10-17 11:54:51,133 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:54:51,133 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:54:51,133 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:54:51,134 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:54:51,134 INFO üîì LLM analysis flag cleared after 12.22s
2025-10-17 11:54:55,020 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:55:00,390 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:55:05,756 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:55:11,127 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:55:16,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:55:21,907 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:55:27,277 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:55:32,694 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 11:55:38,056 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:55:43,422 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:55:43,425 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:55:43,426 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:55:43,426 INFO üîç Analysis flag set at 11:55:43
2025-10-17 11:55:43,426 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:55:55,852 INFO ‚úÖ LLM analysis completed in 12.43s
2025-10-17 11:55:55,853 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:55:55,853 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:55:55,853 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:55:55,854 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:55:55,854 INFO üîì LLM analysis flag cleared after 12.43s
2025-10-17 11:55:59,527 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:56:04,929 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:56:10,287 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:56:15,708 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 11:56:21,077 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 11:56:26,442 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:56:31,805 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 11:56:37,175 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:56:42,542 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:56:47,916 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 11:56:47,919 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:56:47,920 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:56:47,920 INFO üîç Analysis flag set at 11:56:47
2025-10-17 11:56:47,920 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:57:01,492 INFO ‚úÖ LLM analysis completed in 13.57s
2025-10-17 11:57:01,495 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:57:01,495 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:57:01,495 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:57:01,496 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:57:01,496 INFO üîì LLM analysis flag cleared after 13.58s
2025-10-17 11:57:04,025 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:57:09,392 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:57:14,766 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:57:20,132 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:57:25,502 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:57:30,868 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:57:36,237 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:57:41,607 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:57:46,977 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:57:52,344 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:57:52,346 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:57:52,347 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:57:52,347 INFO üîç Analysis flag set at 11:57:52
2025-10-17 11:57:52,347 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:58:04,265 INFO ‚úÖ LLM analysis completed in 11.92s
2025-10-17 11:58:04,267 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:58:04,267 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:58:04,268 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:58:04,268 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:58:04,268 INFO üîì LLM analysis flag cleared after 11.92s
2025-10-17 11:58:08,464 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:58:13,836 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:58:19,204 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 11:58:24,567 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:58:29,939 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:58:35,307 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 11:58:40,677 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:58:46,049 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:58:51,411 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 11:58:56,768 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 11:58:56,770 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 11:58:56,772 INFO ü§ñ Starting background LLM analysis...
2025-10-17 11:58:56,772 INFO üîç Analysis flag set at 11:58:56
2025-10-17 11:58:56,772 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 11:59:09,803 INFO ‚úÖ LLM analysis completed in 13.03s
2025-10-17 11:59:09,805 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 11:59:09,805 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 11:59:09,805 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 11:59:09,806 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 11:59:09,806 INFO üîì LLM analysis flag cleared after 13.03s
2025-10-17 11:59:12,887 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 11:59:18,247 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 11:59:23,613 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 11:59:28,982 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 11:59:34,352 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 11:59:39,706 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 11:59:45,077 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 11:59:50,446 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 11:59:55,817 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-17 12:00:01,188 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 12:00:01,190 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 12:00:01,191 INFO ü§ñ Starting background LLM analysis...
2025-10-17 12:00:01,192 INFO üîç Analysis flag set at 12:00:01
2025-10-17 12:00:01,192 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 12:00:13,190 INFO ‚úÖ LLM analysis completed in 12.00s
2025-10-17 12:00:13,191 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 12:00:13,191 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 12:00:13,192 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 12:00:13,192 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 12:00:13,192 INFO üîì LLM analysis flag cleared after 12.00s
2025-10-17 12:00:17,300 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 12:00:22,678 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 12:00:28,050 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 12:00:33,419 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 12:00:38,788 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 12:00:44,155 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 12:00:49,526 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 12:00:54,895 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 12:01:00,264 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 12:01:05,660 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 12:01:05,662 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 12:01:05,663 INFO ü§ñ Starting background LLM analysis...
2025-10-17 12:01:05,663 INFO üîç Analysis flag set at 12:01:05
2025-10-17 12:01:05,663 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 12:01:18,932 INFO ‚úÖ LLM analysis completed in 13.27s
2025-10-17 12:01:18,934 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 12:01:18,934 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 12:01:18,934 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 12:01:18,935 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 12:01:18,935 INFO üîì LLM analysis flag cleared after 13.27s
2025-10-17 12:01:21,774 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 12:01:27,145 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 12:01:32,514 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 12:01:37,875 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 12:01:43,242 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 12:01:48,612 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-17 12:01:53,983 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-17 12:01:59,351 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 12:02:04,726 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 12:02:10,094 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-17 12:02:10,096 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 12:02:10,098 INFO ü§ñ Starting background LLM analysis...
2025-10-17 12:02:10,099 INFO üîç Analysis flag set at 12:02:10
2025-10-17 12:02:10,099 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 12:02:23,036 INFO ‚úÖ LLM analysis completed in 12.94s
2025-10-17 12:02:23,037 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 12:02:23,037 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 12:02:23,037 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 12:02:23,038 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 12:02:23,038 INFO üîì LLM analysis flag cleared after 12.94s
2025-10-17 12:02:26,205 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 12:02:31,569 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-17 12:02:36,940 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.2s more, min interval: 60s)
2025-10-17 12:02:42,309 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-17 12:02:47,681 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-17 12:02:53,049 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-17 12:02:58,457 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 12:03:03,819 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-17 12:03:09,184 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-17 12:03:14,554 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 12:03:14,557 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 12:03:14,558 INFO ü§ñ Starting background LLM analysis...
2025-10-17 12:03:14,558 INFO üîç Analysis flag set at 12:03:14
2025-10-17 12:03:14,558 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 12:03:27,448 INFO ‚úÖ LLM analysis completed in 12.89s
2025-10-17 12:03:27,449 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 12:03:27,449 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 12:03:27,449 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 12:03:27,450 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 12:03:27,450 INFO üîì LLM analysis flag cleared after 12.89s
2025-10-17 12:03:30,679 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 12:03:36,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 12:03:41,500 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-17 12:03:46,862 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 12:03:52,239 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-17 12:03:57,613 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-17 12:04:02,984 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-17 12:04:08,355 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-17 12:04:13,724 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-17 12:04:19,090 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-17 12:04:19,093 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 803, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-17 12:04:19,094 INFO ü§ñ Starting background LLM analysis...
2025-10-17 12:04:19,094 INFO üîç Analysis flag set at 12:04:19
2025-10-17 12:04:19,094 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-17 12:04:31,449 INFO ‚úÖ LLM analysis completed in 12.35s
2025-10-17 12:04:31,450 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-17 12:04:31,450 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-17 12:04:31,450 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-17 12:04:31,451 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_RAG/TEP_control/backend/app.py", line 741, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-17 12:04:31,451 INFO üîì LLM analysis flag cleared after 12.36s
2025-10-17 12:04:35,232 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 43.9s more, min interval: 60s)
2025-10-17 12:04:40,674 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-17 12:04:46,064 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.0s more, min interval: 60s)
2025-10-17 12:04:51,418 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.7s more, min interval: 60s)
2025-10-17 12:04:56,785 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
