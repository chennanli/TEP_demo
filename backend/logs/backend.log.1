2025-10-18 20:03:09,695 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 20:18:39,740 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 20:24:52,692 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 20:29:01,611 INFO ‚úÖ LLM request allowed - OK (last request 1760844541.6s ago)
2025-10-18 20:29:01,612 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 803, in ingest_live_point
    logger.info(f"üîì LLM analysis flag cleared after {flag_duration:.2f}s")
                 ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-18 20:29:01,613 INFO ü§ñ Starting background LLM analysis...
2025-10-18 20:29:01,613 INFO üîç Analysis flag set at 20:29:01
2025-10-18 20:29:01,613 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-18 20:29:02,214 INFO ‚úÖ LLM analysis completed in 0.60s
2025-10-18 20:29:02,214 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-18 20:29:02,216 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 741, in background_llm_analysis
    except Exception as update_error:
                                     ^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-18 20:29:02,216 INFO üîì LLM analysis flag cleared after 0.60s
2025-10-18 20:29:06,006 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760844546.006043, 'time_since_last': 0.0, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:06,010 INFO explain start id=Fault-3 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-18 20:29:06,010 WARNING üö´ LLM request blocked: Too soon (wait 55.6s more, min interval: 60s)
2025-10-18 20:29:13,052 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 20:29:13,322 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.3s more, min interval: 60s)
2025-10-18 20:29:14,010 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 8.0s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 8.0, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:17,220 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.4s more, min interval: 60s)
2025-10-18 20:29:21,124 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.5s more, min interval: 60s)
2025-10-18 20:29:22,017 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 16.0s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 16.01, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:25,025 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.6s more, min interval: 60s)
2025-10-18 20:29:28,955 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.7s more, min interval: 60s)
2025-10-18 20:29:29,034 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 23.0s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 23.03, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:32,864 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.7s more, min interval: 60s)
2025-10-18 20:29:36,792 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.8s more, min interval: 60s)
2025-10-18 20:29:37,030 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 31.0s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 31.02, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:40,715 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-18 20:29:44,629 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-18 20:29:45,052 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 39.0s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 39.05, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:48,545 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.1s more, min interval: 60s)
2025-10-18 20:29:52,472 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.1s more, min interval: 60s)
2025-10-18 20:29:53,059 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 47.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 47.05, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:29:56,417 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-18 20:30:00,336 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-18 20:30:01,065 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 55.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 55.06, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:04,257 INFO ‚úÖ LLM request allowed - OK (last request 62.6s ago)
2025-10-18 20:30:04,258 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 803, in ingest_live_point
    logger.info(f"üîì LLM analysis flag cleared after {flag_duration:.2f}s")
                 ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-18 20:30:04,259 INFO ü§ñ Starting background LLM analysis...
2025-10-18 20:30:04,259 INFO üîç Analysis flag set at 20:30:04
2025-10-18 20:30:04,259 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-18 20:30:04,945 INFO ‚úÖ LLM analysis completed in 0.69s
2025-10-18 20:30:04,945 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-18 20:30:04,947 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 741, in background_llm_analysis
    except Exception as update_error:
                                     ^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-18 20:30:04,947 INFO üîì LLM analysis flag cleared after 0.69s
2025-10-18 20:30:09,082 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 63.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 63.08, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:16,029 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.2s more, min interval: 60s)
2025-10-18 20:30:16,083 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 70.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 70.08, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:19,958 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.3s more, min interval: 60s)
2025-10-18 20:30:23,886 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.4s more, min interval: 60s)
2025-10-18 20:30:24,099 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 78.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 78.09, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:27,825 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.4s more, min interval: 60s)
2025-10-18 20:30:31,757 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.5s more, min interval: 60s)
2025-10-18 20:30:32,111 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 86.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 86.1, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:35,689 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.6s more, min interval: 60s)
2025-10-18 20:30:39,625 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.6s more, min interval: 60s)
2025-10-18 20:30:40,118 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 94.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 94.11, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:43,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.7s more, min interval: 60s)
2025-10-18 20:30:47,500 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.8s more, min interval: 60s)
2025-10-18 20:30:48,127 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 102.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 102.12, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:51,443 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.8s more, min interval: 60s)
2025-10-18 20:30:55,383 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.9s more, min interval: 60s)
2025-10-18 20:30:56,137 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 110.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 110.13, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:30:59,320 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.9s more, min interval: 60s)
2025-10-18 20:31:03,262 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-18 20:31:04,142 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 118.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 118.14, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:07,201 INFO ‚úÖ LLM request allowed - OK (last request 62.9s ago)
2025-10-18 20:31:07,202 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 803, in ingest_live_point
    logger.info(f"üîì LLM analysis flag cleared after {flag_duration:.2f}s")
                 ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-18 20:31:07,202 INFO ü§ñ Starting background LLM analysis...
2025-10-18 20:31:07,202 INFO üîç Analysis flag set at 20:31:07
2025-10-18 20:31:07,202 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-18 20:31:08,658 INFO ‚úÖ LLM analysis completed in 1.46s
2025-10-18 20:31:08,658 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-18 20:31:08,660 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 741, in background_llm_analysis
    except Exception as update_error:
                                     ^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-18 20:31:08,660 INFO üîì LLM analysis flag cleared after 1.46s
2025-10-18 20:31:12,147 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 126.1s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 126.14, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:19,033 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.2s more, min interval: 60s)
2025-10-18 20:31:19,162 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 133.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 133.16, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:22,981 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.2s more, min interval: 60s)
2025-10-18 20:31:26,931 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.3s more, min interval: 60s)
2025-10-18 20:31:27,172 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 141.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 141.17, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:30,885 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.3s more, min interval: 60s)
2025-10-18 20:31:34,841 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.4s more, min interval: 60s)
2025-10-18 20:31:35,186 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 149.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 149.18, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:38,800 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.4s more, min interval: 60s)
2025-10-18 20:31:42,762 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.4s more, min interval: 60s)
2025-10-18 20:31:43,192 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 157.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 157.19, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:46,721 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-18 20:31:50,677 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-18 20:31:51,205 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 165.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 165.2, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:31:54,641 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.6s more, min interval: 60s)
2025-10-18 20:31:58,600 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.6s more, min interval: 60s)
2025-10-18 20:31:59,216 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 173.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 173.21, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:02,564 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.6s more, min interval: 60s)
2025-10-18 20:32:06,532 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-18 20:32:07,228 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 181.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 181.22, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:10,502 INFO ‚úÖ LLM request allowed - OK (last request 63.3s ago)
2025-10-18 20:32:10,503 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 803, in ingest_live_point
    logger.info(f"üîì LLM analysis flag cleared after {flag_duration:.2f}s")
                 ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-18 20:32:10,503 INFO ü§ñ Starting background LLM analysis...
2025-10-18 20:32:10,503 INFO üîç Analysis flag set at 20:32:10
2025-10-18 20:32:10,503 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-18 20:32:11,046 INFO ‚úÖ LLM analysis completed in 0.54s
2025-10-18 20:32:11,046 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-18 20:32:11,048 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 741, in background_llm_analysis
    except Exception as update_error:
                                     ^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-18 20:32:11,049 INFO üîì LLM analysis flag cleared after 0.55s
2025-10-18 20:32:15,233 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 189.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 189.23, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:22,409 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.1s more, min interval: 60s)
2025-10-18 20:32:23,242 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 197.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 197.24, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:26,377 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.1s more, min interval: 60s)
2025-10-18 20:32:30,347 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.2s more, min interval: 60s)
2025-10-18 20:32:31,248 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 205.2s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 205.24, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:34,322 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.2s more, min interval: 60s)
2025-10-18 20:32:38,291 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.2s more, min interval: 60s)
2025-10-18 20:32:39,257 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 213.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 213.25, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:42,269 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.2s more, min interval: 60s)
2025-10-18 20:32:46,251 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.3s more, min interval: 60s)
2025-10-18 20:32:47,268 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 221.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 221.26, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:50,232 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.3s more, min interval: 60s)
2025-10-18 20:32:54,216 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.3s more, min interval: 60s)
2025-10-18 20:32:54,274 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 228.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 228.27, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:32:58,200 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.3s more, min interval: 60s)
2025-10-18 20:33:02,211 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.3s more, min interval: 60s)
2025-10-18 20:33:02,270 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 236.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 236.26, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:06,196 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.3s more, min interval: 60s)
2025-10-18 20:33:10,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.3s more, min interval: 60s)
2025-10-18 20:33:10,290 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 244.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 244.28, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:14,169 INFO ‚úÖ LLM request allowed - OK (last request 63.7s ago)
2025-10-18 20:33:14,170 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 803, in ingest_live_point
    logger.info(f"üîì LLM analysis flag cleared after {flag_duration:.2f}s")
                 ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-18 20:33:14,170 INFO ü§ñ Starting background LLM analysis...
2025-10-18 20:33:14,170 INFO üîç Analysis flag set at 20:33:14
2025-10-18 20:33:14,170 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-18 20:33:14,709 INFO ‚úÖ LLM analysis completed in 0.54s
2025-10-18 20:33:14,710 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-18 20:33:14,712 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 741, in background_llm_analysis
    except Exception as update_error:
                                     ^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-18 20:33:14,712 INFO üîì LLM analysis flag cleared after 0.54s
2025-10-18 20:33:18,290 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 252.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 252.28, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:26,167 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.0s more, min interval: 60s)
2025-10-18 20:33:26,306 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 260.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 260.3, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:30,171 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.0s more, min interval: 60s)
2025-10-18 20:33:34,171 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.0s more, min interval: 60s)
2025-10-18 20:33:34,313 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 268.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 268.31, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:38,168 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.0s more, min interval: 60s)
2025-10-18 20:33:42,182 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.0s more, min interval: 60s)
2025-10-18 20:33:42,325 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 276.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 276.32, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:46,179 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.0s more, min interval: 60s)
2025-10-18 20:33:50,183 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.0s more, min interval: 60s)
2025-10-18 20:33:50,325 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 284.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 284.32, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:33:54,189 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-18 20:33:58,192 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.0s more, min interval: 60s)
2025-10-18 20:33:58,336 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 292.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 292.33, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:02,203 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.0s more, min interval: 60s)
2025-10-18 20:34:06,209 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.0s more, min interval: 60s)
2025-10-18 20:34:06,350 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 300.3s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 300.34, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:10,216 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.0s more, min interval: 60s)
2025-10-18 20:34:14,225 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-18 20:34:14,226 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 803, in ingest_live_point
    logger.info(f"üîì LLM analysis flag cleared after {flag_duration:.2f}s")
                 ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-18 20:34:14,226 INFO ü§ñ Starting background LLM analysis...
2025-10-18 20:34:14,226 INFO üîç Analysis flag set at 20:34:14
2025-10-18 20:34:14,226 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-18 20:34:14,358 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 308.4s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 308.35, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:14,678 INFO ‚úÖ LLM analysis completed in 0.45s
2025-10-18 20:34:14,679 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-18 20:34:14,682 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 741, in background_llm_analysis
    except Exception as update_error:
                                     ^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-18 20:34:14,682 INFO üîì LLM analysis flag cleared after 0.46s
2025-10-18 20:34:22,368 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 316.4s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 316.36, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:26,271 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.0s more, min interval: 60s)
2025-10-18 20:34:30,270 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.0s more, min interval: 60s)
2025-10-18 20:34:30,371 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 324.4s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 324.37, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:34,290 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.9s more, min interval: 60s)
2025-10-18 20:34:38,311 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.9s more, min interval: 60s)
2025-10-18 20:34:38,371 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 332.4s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 332.37, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:42,364 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.9s more, min interval: 60s)
2025-10-18 20:34:43,390 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 337.4s (skipping analysis)', 'last_check_time': 1760844546.006043, 'time_since_last': 337.38, 'current_anomaly_count': 0, 'previous_anomaly_count': 0}
2025-10-18 20:34:46,396 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-18 22:50:36,211 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 22:53:32,520 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 23:20:29,862 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 23:48:24,690 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-18 23:55:41,699 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 00:12:09,128 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 00:21:35,361 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 00:32:42,490 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 00:33:49,566 INFO ‚úÖ LLM request allowed - OK (last request 1760859229.6s ago)
2025-10-19 00:33:49,567 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:33:49,568 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:33:49,568 INFO üîç Analysis flag set at 00:33:49
2025-10-19 00:33:49,568 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:33:54,155 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760859234.155009, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:33:54,159 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:33:54,160 WARNING üö´ LLM request blocked: Too soon (wait 55.4s more, min interval: 60s)
2025-10-19 00:34:00,653 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:01,160 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859241.16047, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:01,164 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:01,165 WARNING üö´ LLM request blocked: Too soon (wait 48.4s more, min interval: 60s)
2025-10-19 00:34:04,352 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:08,050 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:08,167 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859248.1675782, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:08,172 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:08,172 WARNING üö´ LLM request blocked: Too soon (wait 41.4s more, min interval: 60s)
2025-10-19 00:34:11,755 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:15,457 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:16,177 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859256.1772292, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:16,180 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:16,180 WARNING üö´ LLM request blocked: Too soon (wait 33.4s more, min interval: 60s)
2025-10-19 00:34:19,162 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:22,870 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:23,186 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859263.186503, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:23,190 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:23,190 WARNING üö´ LLM request blocked: Too soon (wait 26.4s more, min interval: 60s)
2025-10-19 00:34:26,579 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:30,286 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:31,195 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859271.19507, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:31,198 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:31,198 WARNING üö´ LLM request blocked: Too soon (wait 18.4s more, min interval: 60s)
2025-10-19 00:34:33,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:37,708 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:34:38,204 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859278.203945, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:38,207 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:38,207 WARNING üö´ LLM request blocked: Too soon (wait 11.4s more, min interval: 60s)
2025-10-19 00:34:39,556 INFO ‚úÖ LLM analysis completed in 49.99s
2025-10-19 00:34:39,560 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:34:39,560 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:34:39,562 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:34:39,562 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:34:39,562 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:34:39,564 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:34:39,564 INFO üîì LLM analysis flag cleared after 50.00s
2025-10-19 00:34:41,418 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.1s more, min interval: 60s)
2025-10-19 00:34:45,136 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.4s more, min interval: 60s)
2025-10-19 00:34:45,209 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859285.209078, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:45,212 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:45,213 WARNING üö´ LLM request blocked: Too soon (wait 4.4s more, min interval: 60s)
2025-10-19 00:34:48,852 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-19 00:34:52,570 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-19 00:34:52,571 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:34:52,571 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:34:52,571 INFO üîç Analysis flag set at 00:34:52
2025-10-19 00:34:52,571 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:34:53,220 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859293.220271, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:34:53,224 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:34:53,224 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-19 00:35:00,226 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859300.2263858, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:00,230 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:00,231 WARNING üö´ LLM request blocked: Too soon (wait 52.3s more, min interval: 60s)
2025-10-19 00:35:03,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:07,459 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:08,236 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859308.236415, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:08,240 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:08,240 WARNING üö´ LLM request blocked: Too soon (wait 44.3s more, min interval: 60s)
2025-10-19 00:35:11,183 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:14,909 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:15,244 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859315.243969, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:15,248 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:15,248 WARNING üö´ LLM request blocked: Too soon (wait 37.3s more, min interval: 60s)
2025-10-19 00:35:18,639 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:22,362 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:23,255 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859323.2552729, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:23,258 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:23,258 WARNING üö´ LLM request blocked: Too soon (wait 29.3s more, min interval: 60s)
2025-10-19 00:35:26,092 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:29,824 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:30,260 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859330.2604249, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:30,264 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:30,264 WARNING üö´ LLM request blocked: Too soon (wait 22.3s more, min interval: 60s)
2025-10-19 00:35:33,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:37,294 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:35:38,289 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859338.289239, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:38,299 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:38,299 WARNING üö´ LLM request blocked: Too soon (wait 14.3s more, min interval: 60s)
2025-10-19 00:35:39,036 INFO ‚úÖ LLM analysis completed in 46.46s
2025-10-19 00:35:39,038 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:35:39,038 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:35:39,040 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:35:39,040 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:35:39,040 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:35:39,042 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:35:39,042 INFO üîì LLM analysis flag cleared after 46.47s
2025-10-19 00:35:41,030 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.5s more, min interval: 60s)
2025-10-19 00:35:44,766 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.8s more, min interval: 60s)
2025-10-19 00:35:45,297 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859345.2976909, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:45,307 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:45,307 WARNING üö´ LLM request blocked: Too soon (wait 7.3s more, min interval: 60s)
2025-10-19 00:35:48,501 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.1s more, min interval: 60s)
2025-10-19 00:35:52,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.3s more, min interval: 60s)
2025-10-19 00:35:52,301 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859352.3011441, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:35:52,311 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:35:52,311 WARNING üö´ LLM request blocked: Too soon (wait 0.3s more, min interval: 60s)
2025-10-19 00:35:55,989 INFO ‚úÖ LLM request allowed - OK (last request 63.4s ago)
2025-10-19 00:35:55,990 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:35:55,991 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:35:55,991 INFO üîç Analysis flag set at 00:35:55
2025-10-19 00:35:55,991 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:36:00,311 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859360.311361, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:00,323 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:00,323 WARNING üö´ LLM request blocked: Too soon (wait 55.7s more, min interval: 60s)
2025-10-19 00:36:07,218 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:07,316 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859367.3161669, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:07,328 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:07,328 WARNING üö´ LLM request blocked: Too soon (wait 48.7s more, min interval: 60s)
2025-10-19 00:36:10,963 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:14,711 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:15,330 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859375.330549, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:15,341 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:15,341 WARNING üö´ LLM request blocked: Too soon (wait 40.6s more, min interval: 60s)
2025-10-19 00:36:18,461 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:22,212 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:22,335 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859382.335594, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:22,346 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:22,346 WARNING üö´ LLM request blocked: Too soon (wait 33.6s more, min interval: 60s)
2025-10-19 00:36:25,967 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:29,720 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:30,348 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859390.348403, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:30,358 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:30,359 WARNING üö´ LLM request blocked: Too soon (wait 25.6s more, min interval: 60s)
2025-10-19 00:36:33,480 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:37,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:37,353 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859397.353812, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:37,364 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:37,364 WARNING üö´ LLM request blocked: Too soon (wait 18.6s more, min interval: 60s)
2025-10-19 00:36:40,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:44,752 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:45,363 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859405.362877, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:45,373 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:45,373 WARNING üö´ LLM request blocked: Too soon (wait 10.6s more, min interval: 60s)
2025-10-19 00:36:48,511 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:52,274 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:36:52,373 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859412.372989, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:36:52,383 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:36:52,383 WARNING üö´ LLM request blocked: Too soon (wait 3.6s more, min interval: 60s)
2025-10-19 00:36:55,573 INFO ‚úÖ LLM analysis completed in 59.58s
2025-10-19 00:36:55,575 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:36:55,575 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:36:55,575 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:36:55,577 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:36:55,577 INFO üîì LLM analysis flag cleared after 59.59s
2025-10-19 00:36:56,038 INFO ‚úÖ LLM request allowed - OK (last request 60.0s ago)
2025-10-19 00:36:56,039 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:36:56,039 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:36:56,039 INFO üîç Analysis flag set at 00:36:56
2025-10-19 00:36:56,039 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:37:00,387 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859420.387054, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:00,396 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:00,397 WARNING üö´ LLM request blocked: Too soon (wait 55.6s more, min interval: 60s)
2025-10-19 00:37:07,349 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:08,396 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859428.39612, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:08,407 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:08,407 WARNING üö´ LLM request blocked: Too soon (wait 47.6s more, min interval: 60s)
2025-10-19 00:37:11,117 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:14,890 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:15,404 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859435.404211, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:15,414 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:15,414 WARNING üö´ LLM request blocked: Too soon (wait 40.6s more, min interval: 60s)
2025-10-19 00:37:18,669 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:22,444 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:23,416 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859443.416026, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:23,426 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:23,426 WARNING üö´ LLM request blocked: Too soon (wait 32.6s more, min interval: 60s)
2025-10-19 00:37:26,219 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:29,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:37:30,425 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859450.425367, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:30,435 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:30,435 WARNING üö´ LLM request blocked: Too soon (wait 25.6s more, min interval: 60s)
2025-10-19 00:37:30,855 INFO ‚úÖ LLM analysis completed in 34.82s
2025-10-19 00:37:30,857 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:37:30,857 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:37:30,857 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:37:30,858 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:37:30,858 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:37:30,859 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:37:30,859 INFO üîì LLM analysis flag cleared after 34.82s
2025-10-19 00:37:33,775 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-19 00:37:37,552 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.5s more, min interval: 60s)
2025-10-19 00:37:38,428 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859458.428442, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:38,437 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:38,437 WARNING üö´ LLM request blocked: Too soon (wait 17.6s more, min interval: 60s)
2025-10-19 00:37:41,329 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.7s more, min interval: 60s)
2025-10-19 00:37:45,110 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.9s more, min interval: 60s)
2025-10-19 00:37:45,439 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859465.4395661, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:45,449 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:45,449 WARNING üö´ LLM request blocked: Too soon (wait 10.6s more, min interval: 60s)
2025-10-19 00:37:48,897 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.1s more, min interval: 60s)
2025-10-19 00:37:52,675 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-19 00:37:53,444 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859473.444515, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:37:53,454 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:37:53,455 WARNING üö´ LLM request blocked: Too soon (wait 2.6s more, min interval: 60s)
2025-10-19 00:37:56,463 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 00:37:56,464 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:37:56,465 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:37:56,465 INFO üîç Analysis flag set at 00:37:56
2025-10-19 00:37:56,465 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:38:00,456 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859480.456067, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:00,467 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:00,467 WARNING üö´ LLM request blocked: Too soon (wait 56.0s more, min interval: 60s)
2025-10-19 00:38:07,836 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:08,466 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859488.466125, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:08,476 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:08,476 WARNING üö´ LLM request blocked: Too soon (wait 48.0s more, min interval: 60s)
2025-10-19 00:38:11,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:15,420 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:15,468 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859495.468683, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:15,479 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:15,479 WARNING üö´ LLM request blocked: Too soon (wait 41.0s more, min interval: 60s)
2025-10-19 00:38:19,216 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:23,013 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:23,483 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859503.4834502, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:23,493 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:23,493 WARNING üö´ LLM request blocked: Too soon (wait 33.0s more, min interval: 60s)
2025-10-19 00:38:26,811 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:30,612 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:31,490 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859511.490776, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:31,501 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:31,501 WARNING üö´ LLM request blocked: Too soon (wait 25.0s more, min interval: 60s)
2025-10-19 00:38:34,422 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:38,219 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:38,500 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859518.500009, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:38,510 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:38,510 WARNING üö´ LLM request blocked: Too soon (wait 18.0s more, min interval: 60s)
2025-10-19 00:38:42,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:45,824 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:46,512 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859526.512374, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:46,522 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:46,522 WARNING üö´ LLM request blocked: Too soon (wait 9.9s more, min interval: 60s)
2025-10-19 00:38:49,631 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:53,437 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:38:53,512 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859533.5125031, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:38:53,522 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:38:53,522 WARNING üö´ LLM request blocked: Too soon (wait 2.9s more, min interval: 60s)
2025-10-19 00:38:56,369 INFO ‚úÖ LLM analysis completed in 59.90s
2025-10-19 00:38:56,370 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:38:56,371 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:38:56,371 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:38:56,373 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:38:56,373 INFO üîì LLM analysis flag cleared after 59.91s
2025-10-19 00:38:57,248 INFO ‚úÖ LLM request allowed - OK (last request 60.8s ago)
2025-10-19 00:38:57,248 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:38:57,249 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:38:57,249 INFO üîç Analysis flag set at 00:38:57
2025-10-19 00:38:57,249 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:39:01,530 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859541.53037, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:01,540 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:01,540 WARNING üö´ LLM request blocked: Too soon (wait 55.7s more, min interval: 60s)
2025-10-19 00:39:08,682 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:09,537 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859549.537614, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:09,546 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:09,546 WARNING üö´ LLM request blocked: Too soon (wait 47.7s more, min interval: 60s)
2025-10-19 00:39:12,498 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:16,315 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:16,547 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859556.5478559, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:16,557 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:16,557 WARNING üö´ LLM request blocked: Too soon (wait 40.7s more, min interval: 60s)
2025-10-19 00:39:20,135 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:23,956 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:24,560 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859564.5607119, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:24,570 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:24,570 WARNING üö´ LLM request blocked: Too soon (wait 32.7s more, min interval: 60s)
2025-10-19 00:39:27,776 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:31,599 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:32,558 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859572.5582662, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:32,567 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:32,567 WARNING üö´ LLM request blocked: Too soon (wait 24.7s more, min interval: 60s)
2025-10-19 00:39:35,422 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:39:38,246 INFO ‚úÖ LLM analysis completed in 41.00s
2025-10-19 00:39:38,248 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:39:38,248 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:39:38,249 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:39:38,249 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:39:38,249 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:39:38,251 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:39:38,251 INFO üîì LLM analysis flag cleared after 41.00s
2025-10-19 00:39:39,243 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.0s more, min interval: 60s)
2025-10-19 00:39:39,574 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859579.573901, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:39,584 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:39,584 WARNING üö´ LLM request blocked: Too soon (wait 17.7s more, min interval: 60s)
2025-10-19 00:39:43,070 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.2s more, min interval: 60s)
2025-10-19 00:39:46,896 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.4s more, min interval: 60s)
2025-10-19 00:39:47,568 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859587.568764, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:47,579 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:47,579 WARNING üö´ LLM request blocked: Too soon (wait 9.7s more, min interval: 60s)
2025-10-19 00:39:50,727 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.5s more, min interval: 60s)
2025-10-19 00:39:54,559 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-19 00:39:55,591 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859595.591349, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:39:55,602 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:39:55,602 WARNING üö´ LLM request blocked: Too soon (wait 1.6s more, min interval: 60s)
2025-10-19 00:39:58,393 INFO ‚úÖ LLM request allowed - OK (last request 61.1s ago)
2025-10-19 00:39:58,393 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:39:58,394 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:39:58,394 INFO üîç Analysis flag set at 00:39:58
2025-10-19 00:39:58,394 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:40:02,586 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859602.5868359, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:02,595 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:02,596 WARNING üö´ LLM request blocked: Too soon (wait 55.8s more, min interval: 60s)
2025-10-19 00:40:09,894 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:10,602 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859610.602144, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:10,610 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:10,610 WARNING üö´ LLM request blocked: Too soon (wait 47.8s more, min interval: 60s)
2025-10-19 00:40:13,728 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:17,565 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:17,610 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859617.610351, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:17,620 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:17,620 WARNING üö´ LLM request blocked: Too soon (wait 40.8s more, min interval: 60s)
2025-10-19 00:40:21,407 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:25,244 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:25,625 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859625.625012, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:25,634 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:25,634 WARNING üö´ LLM request blocked: Too soon (wait 32.8s more, min interval: 60s)
2025-10-19 00:40:29,085 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:32,928 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:33,631 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859633.6311538, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:33,641 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:33,642 WARNING üö´ LLM request blocked: Too soon (wait 24.8s more, min interval: 60s)
2025-10-19 00:40:36,775 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:40,622 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:41,641 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859641.6416588, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:41,651 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:41,651 WARNING üö´ LLM request blocked: Too soon (wait 16.7s more, min interval: 60s)
2025-10-19 00:40:44,469 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:48,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:48,648 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859648.647984, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:48,658 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:48,658 WARNING üö´ LLM request blocked: Too soon (wait 9.7s more, min interval: 60s)
2025-10-19 00:40:52,169 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:56,023 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:40:56,657 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859656.6572611, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:40:56,667 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:40:56,667 WARNING üö´ LLM request blocked: Too soon (wait 1.7s more, min interval: 60s)
2025-10-19 00:40:58,425 INFO ‚úÖ LLM analysis completed in 60.03s
2025-10-19 00:40:58,427 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:40:58,428 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:40:58,428 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:40:58,430 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:40:58,430 INFO üîì LLM analysis flag cleared after 60.04s
2025-10-19 00:40:59,880 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-19 00:40:59,881 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:40:59,881 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:40:59,881 INFO üîç Analysis flag set at 00:40:59
2025-10-19 00:40:59,881 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:41:04,667 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859664.6671722, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:04,677 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:04,677 WARNING üö´ LLM request blocked: Too soon (wait 55.2s more, min interval: 60s)
2025-10-19 00:41:11,452 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:11,675 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859671.675037, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:11,686 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:11,686 WARNING üö´ LLM request blocked: Too soon (wait 48.2s more, min interval: 60s)
2025-10-19 00:41:15,310 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:19,173 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:19,676 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859679.675814, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:19,684 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:19,684 WARNING üö´ LLM request blocked: Too soon (wait 40.2s more, min interval: 60s)
2025-10-19 00:41:23,033 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:26,900 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:27,693 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859687.693138, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:27,701 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:27,701 WARNING üö´ LLM request blocked: Too soon (wait 32.2s more, min interval: 60s)
2025-10-19 00:41:30,762 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:34,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:34,699 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859694.6994, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:34,709 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:34,709 WARNING üö´ LLM request blocked: Too soon (wait 25.2s more, min interval: 60s)
2025-10-19 00:41:38,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:42,371 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:42,703 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859702.703358, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:42,712 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:42,712 WARNING üö´ LLM request blocked: Too soon (wait 17.2s more, min interval: 60s)
2025-10-19 00:41:46,242 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:50,120 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:50,720 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859710.720572, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:50,730 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:50,730 WARNING üö´ LLM request blocked: Too soon (wait 9.2s more, min interval: 60s)
2025-10-19 00:41:53,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:57,867 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:41:58,731 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859718.730925, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:41:58,741 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:41:58,741 WARNING üö´ LLM request blocked: Too soon (wait 1.1s more, min interval: 60s)
2025-10-19 00:41:59,012 INFO ‚úÖ LLM analysis completed in 59.13s
2025-10-19 00:41:59,014 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:41:59,015 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:41:59,016 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:41:59,016 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:41:59,016 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:41:59,018 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:41:59,018 INFO üîì LLM analysis flag cleared after 59.14s
2025-10-19 00:42:01,745 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-19 00:42:01,746 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:42:01,746 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:42:01,746 INFO üîç Analysis flag set at 00:42:01
2025-10-19 00:42:01,746 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:42:05,738 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859725.738355, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:05,748 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:05,748 WARNING üö´ LLM request blocked: Too soon (wait 56.0s more, min interval: 60s)
2025-10-19 00:42:13,388 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:13,750 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859733.74994, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:13,759 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:13,759 WARNING üö´ LLM request blocked: Too soon (wait 48.0s more, min interval: 60s)
2025-10-19 00:42:17,276 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:21,161 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:21,756 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859741.756164, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:21,764 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:21,764 WARNING üö´ LLM request blocked: Too soon (wait 40.0s more, min interval: 60s)
2025-10-19 00:42:25,045 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:28,933 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:29,767 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859749.767494, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:29,777 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:29,777 WARNING üö´ LLM request blocked: Too soon (wait 32.0s more, min interval: 60s)
2025-10-19 00:42:32,816 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:36,708 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:36,774 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859756.774648, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:36,785 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:36,785 WARNING üö´ LLM request blocked: Too soon (wait 25.0s more, min interval: 60s)
2025-10-19 00:42:40,601 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:44,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:44,785 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859764.785402, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:44,795 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:44,795 WARNING üö´ LLM request blocked: Too soon (wait 17.0s more, min interval: 60s)
2025-10-19 00:42:48,390 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:52,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:42:52,791 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859772.791606, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:42:52,801 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:42:52,801 WARNING üö´ LLM request blocked: Too soon (wait 8.9s more, min interval: 60s)
2025-10-19 00:42:56,178 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:00,065 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:00,805 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859780.804846, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:00,814 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:00,814 WARNING üö´ LLM request blocked: Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 00:43:01,097 INFO ‚úÖ LLM analysis completed in 59.35s
2025-10-19 00:43:01,099 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:43:01,099 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:43:01,099 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:43:01,101 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:43:01,101 INFO üîì LLM analysis flag cleared after 59.35s
2025-10-19 00:43:03,966 INFO ‚úÖ LLM request allowed - OK (last request 62.2s ago)
2025-10-19 00:43:03,967 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:43:03,967 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:43:03,967 INFO üîç Analysis flag set at 00:43:03
2025-10-19 00:43:03,967 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:43:08,797 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859788.797122, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:08,804 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:08,805 WARNING üö´ LLM request blocked: Too soon (wait 55.2s more, min interval: 60s)
2025-10-19 00:43:15,679 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:15,807 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859795.80783, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:15,817 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:15,817 WARNING üö´ LLM request blocked: Too soon (wait 48.2s more, min interval: 60s)
2025-10-19 00:43:19,581 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:23,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:23,832 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859803.8320901, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:23,841 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:23,842 WARNING üö´ LLM request blocked: Too soon (wait 40.1s more, min interval: 60s)
2025-10-19 00:43:27,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:31,309 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:31,842 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859811.842491, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:31,852 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:31,852 WARNING üö´ LLM request blocked: Too soon (wait 32.1s more, min interval: 60s)
2025-10-19 00:43:35,220 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:39,126 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:39,856 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859819.856846, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:39,867 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:39,867 WARNING üö´ LLM request blocked: Too soon (wait 24.1s more, min interval: 60s)
2025-10-19 00:43:43,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:46,967 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:47,863 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859827.8629498, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:47,873 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:47,873 WARNING üö´ LLM request blocked: Too soon (wait 16.1s more, min interval: 60s)
2025-10-19 00:43:50,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:54,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:43:54,867 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859834.8671942, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:43:54,877 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:43:54,877 WARNING üö´ LLM request blocked: Too soon (wait 9.1s more, min interval: 60s)
2025-10-19 00:43:54,958 INFO ‚úÖ LLM analysis completed in 50.99s
2025-10-19 00:43:54,959 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:43:54,959 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:43:54,959 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:43:54,959 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:43:54,959 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:43:54,960 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:43:54,960 INFO üîì LLM analysis flag cleared after 50.99s
2025-10-19 00:43:58,740 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-19 00:44:02,664 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-19 00:44:02,876 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859842.876587, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:02,888 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:02,888 WARNING üö´ LLM request blocked: Too soon (wait 1.1s more, min interval: 60s)
2025-10-19 00:44:06,592 INFO ‚úÖ LLM request allowed - OK (last request 62.6s ago)
2025-10-19 00:44:06,593 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:44:06,593 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:44:06,593 INFO üîç Analysis flag set at 00:44:06
2025-10-19 00:44:06,593 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:44:10,893 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859850.893074, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:10,903 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:10,903 WARNING üö´ LLM request blocked: Too soon (wait 55.7s more, min interval: 60s)
2025-10-19 00:44:18,375 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:18,907 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859858.907113, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:18,916 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:18,916 WARNING üö´ LLM request blocked: Too soon (wait 47.7s more, min interval: 60s)
2025-10-19 00:44:22,321 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:26,253 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:26,914 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859866.914237, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:26,922 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:26,923 WARNING üö´ LLM request blocked: Too soon (wait 39.7s more, min interval: 60s)
2025-10-19 00:44:30,186 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:34,121 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:34,920 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859874.920746, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:34,931 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:34,932 WARNING üö´ LLM request blocked: Too soon (wait 31.7s more, min interval: 60s)
2025-10-19 00:44:38,055 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:41,996 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:42,936 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859882.936446, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:42,946 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:42,947 WARNING üö´ LLM request blocked: Too soon (wait 23.6s more, min interval: 60s)
2025-10-19 00:44:45,935 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:49,872 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:49,943 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859889.943128, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:49,952 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:49,952 WARNING üö´ LLM request blocked: Too soon (wait 16.6s more, min interval: 60s)
2025-10-19 00:44:53,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:57,753 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:44:57,958 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859897.9585128, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:44:57,968 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:44:57,968 WARNING üö´ LLM request blocked: Too soon (wait 8.6s more, min interval: 60s)
2025-10-19 00:44:59,577 INFO ‚úÖ LLM analysis completed in 52.98s
2025-10-19 00:44:59,580 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:44:59,580 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:44:59,582 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:44:59,582 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:44:59,582 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:44:59,584 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:44:59,584 INFO üîì LLM analysis flag cleared after 52.99s
2025-10-19 00:45:01,696 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.9s more, min interval: 60s)
2025-10-19 00:45:05,651 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 00:45:05,966 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859905.966826, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:05,977 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:05,977 WARNING üö´ LLM request blocked: Too soon (wait 0.6s more, min interval: 60s)
2025-10-19 00:45:09,599 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-19 00:45:09,600 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:45:09,600 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:45:09,600 INFO üîç Analysis flag set at 00:45:09
2025-10-19 00:45:09,600 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:45:13,978 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859913.9787111, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:13,989 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:13,989 WARNING üö´ LLM request blocked: Too soon (wait 55.6s more, min interval: 60s)
2025-10-19 00:45:21,447 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:21,992 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859921.9926422, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:22,002 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:22,002 WARNING üö´ LLM request blocked: Too soon (wait 47.6s more, min interval: 60s)
2025-10-19 00:45:25,403 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:29,354 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:29,999 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859929.999315, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:30,010 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:30,010 WARNING üö´ LLM request blocked: Too soon (wait 39.6s more, min interval: 60s)
2025-10-19 00:45:33,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:37,270 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:38,005 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859938.005121, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:38,016 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:38,016 WARNING üö´ LLM request blocked: Too soon (wait 31.6s more, min interval: 60s)
2025-10-19 00:45:41,226 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:45,186 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:46,023 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859946.023246, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:46,031 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:46,032 WARNING üö´ LLM request blocked: Too soon (wait 23.6s more, min interval: 60s)
2025-10-19 00:45:49,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:45:52,849 INFO ‚úÖ LLM analysis completed in 43.25s
2025-10-19 00:45:52,849 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:45:52,849 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:45:52,850 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:45:52,850 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:45:52,850 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:45:52,850 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:45:52,850 INFO üîì LLM analysis flag cleared after 43.25s
2025-10-19 00:45:53,102 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-19 00:45:54,034 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859954.0339289, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:45:54,044 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:45:54,044 WARNING üö´ LLM request blocked: Too soon (wait 15.6s more, min interval: 60s)
2025-10-19 00:45:57,065 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.5s more, min interval: 60s)
2025-10-19 00:46:01,033 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.6s more, min interval: 60s)
2025-10-19 00:46:02,041 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859962.040849, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:02,051 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:02,051 WARNING üö´ LLM request blocked: Too soon (wait 7.5s more, min interval: 60s)
2025-10-19 00:46:05,013 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.6s more, min interval: 60s)
2025-10-19 00:46:09,001 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.6s more, min interval: 60s)
2025-10-19 00:46:09,032 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859969.032445, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:09,043 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:09,043 WARNING üö´ LLM request blocked: Too soon (wait 0.6s more, min interval: 60s)
2025-10-19 00:46:12,970 INFO ‚úÖ LLM request allowed - OK (last request 63.4s ago)
2025-10-19 00:46:12,971 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:46:12,972 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:46:12,972 INFO üîç Analysis flag set at 00:46:12
2025-10-19 00:46:12,972 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:46:17,054 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859977.054772, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:17,065 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:17,065 WARNING üö´ LLM request blocked: Too soon (wait 55.9s more, min interval: 60s)
2025-10-19 00:46:24,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:25,064 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859985.06476, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:25,074 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:25,074 WARNING üö´ LLM request blocked: Too soon (wait 47.9s more, min interval: 60s)
2025-10-19 00:46:28,865 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:32,853 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:33,076 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760859993.075701, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:33,085 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:33,085 WARNING üö´ LLM request blocked: Too soon (wait 39.9s more, min interval: 60s)
2025-10-19 00:46:36,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:40,829 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:41,079 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860001.079193, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:41,090 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:41,090 WARNING üö´ LLM request blocked: Too soon (wait 31.9s more, min interval: 60s)
2025-10-19 00:46:44,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:48,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:49,102 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860009.102464, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:49,114 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:49,115 WARNING üö´ LLM request blocked: Too soon (wait 23.9s more, min interval: 60s)
2025-10-19 00:46:52,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:56,758 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:46:57,105 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860017.105328, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:46:57,115 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:46:57,115 WARNING üö´ LLM request blocked: Too soon (wait 15.9s more, min interval: 60s)
2025-10-19 00:47:00,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:47:03,651 INFO ‚úÖ LLM analysis completed in 50.68s
2025-10-19 00:47:03,652 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 00:47:03,653 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 00:47:03,654 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:47:03,654 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:47:03,654 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:47:03,655 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:47:03,655 INFO üîì LLM analysis flag cleared after 50.68s
2025-10-19 00:47:04,732 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-19 00:47:05,116 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860025.116362, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:05,125 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:05,125 WARNING üö´ LLM request blocked: Too soon (wait 7.8s more, min interval: 60s)
2025-10-19 00:47:08,714 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.3s more, min interval: 60s)
2025-10-19 00:47:12,707 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.3s more, min interval: 60s)
2025-10-19 00:47:13,122 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860033.121919, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:13,131 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:13,131 INFO ‚úÖ LLM request allowed: OK (last request 60.2s ago)
2025-10-19 00:47:13,131 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 00:47:13,133 INFO feature comparison prepared
2025-10-19 00:47:16,697 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.4s more, min interval: 60s)
2025-10-19 00:47:20,680 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.5s more, min interval: 60s)
2025-10-19 00:47:21,114 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860041.114132, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:21,118 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:21,118 WARNING üö´ LLM request blocked: Too soon (wait 52.0s more, min interval: 60s)
2025-10-19 00:47:24,673 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.5s more, min interval: 60s)
2025-10-19 00:47:28,668 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-19 00:47:29,144 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860049.144767, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:29,155 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:29,155 WARNING üö´ LLM request blocked: Too soon (wait 44.0s more, min interval: 60s)
2025-10-19 00:47:32,666 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.5s more, min interval: 60s)
2025-10-19 00:47:36,661 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.5s more, min interval: 60s)
2025-10-19 00:47:37,155 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860057.154866, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:37,165 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:37,165 WARNING üö´ LLM request blocked: Too soon (wait 36.0s more, min interval: 60s)
2025-10-19 00:47:40,662 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.5s more, min interval: 60s)
2025-10-19 00:47:44,660 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.5s more, min interval: 60s)
2025-10-19 00:47:45,159 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860065.1588962, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:45,167 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:45,167 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-19 00:47:48,662 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.5s more, min interval: 60s)
2025-10-19 00:47:52,670 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-19 00:47:53,174 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860073.173843, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:47:53,182 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:47:53,182 WARNING üö´ LLM request blocked: Too soon (wait 19.9s more, min interval: 60s)
2025-10-19 00:47:56,677 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-19 00:48:00,680 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.5s more, min interval: 60s)
2025-10-19 00:48:01,183 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860081.1836958, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:01,193 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:01,193 WARNING üö´ LLM request blocked: Too soon (wait 11.9s more, min interval: 60s)
2025-10-19 00:48:04,681 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.4s more, min interval: 60s)
2025-10-19 00:48:08,693 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.4s more, min interval: 60s)
2025-10-19 00:48:09,196 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860089.195864, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:09,205 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:09,206 WARNING üö´ LLM request blocked: Too soon (wait 3.9s more, min interval: 60s)
2025-10-19 00:48:12,705 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.4s more, min interval: 60s)
2025-10-19 00:48:12,852 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 00:48:12,852 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 00:48:12,852 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 00:48:12,852 INFO üìä gemini - status: error, has_analysis: True
2025-10-19 00:48:12,853 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 00:48:12,854 INFO ‚úÖ Saved analysis to history (id: 1760860092853)
2025-10-19 00:48:12,854 INFO multi-llm analysis completed id=Fault-2
2025-10-19 00:48:16,716 INFO ‚úÖ LLM request allowed - OK (last request 63.6s ago)
2025-10-19 00:48:16,717 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:48:16,718 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:48:16,718 INFO üîç Analysis flag set at 00:48:16
2025-10-19 00:48:16,718 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:48:17,208 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860097.2081852, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:17,219 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:17,219 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-19 00:48:25,200 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860105.2006872, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:25,203 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:25,203 WARNING üö´ LLM request blocked: Too soon (wait 51.5s more, min interval: 60s)
2025-10-19 00:48:28,774 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:32,793 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:33,204 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860113.203903, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:33,207 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:33,207 WARNING üö´ LLM request blocked: Too soon (wait 43.5s more, min interval: 60s)
2025-10-19 00:48:36,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:40,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:41,213 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860121.213769, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:41,216 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:41,216 WARNING üö´ LLM request blocked: Too soon (wait 35.5s more, min interval: 60s)
2025-10-19 00:48:44,859 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:48,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:49,227 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860129.2271051, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:49,231 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:49,231 WARNING üö´ LLM request blocked: Too soon (wait 27.5s more, min interval: 60s)
2025-10-19 00:48:52,905 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:56,933 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:48:57,237 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860137.237546, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:48:57,241 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:48:57,242 WARNING üö´ LLM request blocked: Too soon (wait 19.5s more, min interval: 60s)
2025-10-19 00:49:00,718 INFO ‚úÖ LLM analysis completed in 44.00s
2025-10-19 00:49:00,719 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:49:00,719 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:49:00,719 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:49:00,719 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:49:00,719 INFO üîì LLM analysis flag cleared after 44.00s
2025-10-19 00:49:00,964 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.8s more, min interval: 60s)
2025-10-19 00:49:04,994 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 00:49:05,244 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860145.24437, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:05,250 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:05,250 WARNING üö´ LLM request blocked: Too soon (wait 11.5s more, min interval: 60s)
2025-10-19 00:49:09,022 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.7s more, min interval: 60s)
2025-10-19 00:49:13,052 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.7s more, min interval: 60s)
2025-10-19 00:49:13,259 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860153.258867, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:13,263 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:13,264 WARNING üö´ LLM request blocked: Too soon (wait 3.5s more, min interval: 60s)
2025-10-19 00:49:17,090 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 00:49:17,091 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:49:17,091 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:49:17,091 INFO üîç Analysis flag set at 00:49:17
2025-10-19 00:49:17,091 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:49:21,262 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860161.262641, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:21,266 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:21,267 WARNING üö´ LLM request blocked: Too soon (wait 55.8s more, min interval: 60s)
2025-10-19 00:49:29,204 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:29,261 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860169.2617059, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:29,264 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:29,264 WARNING üö´ LLM request blocked: Too soon (wait 47.8s more, min interval: 60s)
2025-10-19 00:49:33,248 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:37,289 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:38,282 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860178.282013, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:38,286 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:38,287 WARNING üö´ LLM request blocked: Too soon (wait 38.8s more, min interval: 60s)
2025-10-19 00:49:41,326 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:45,367 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:46,291 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860186.291022, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:46,295 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:46,295 WARNING üö´ LLM request blocked: Too soon (wait 30.8s more, min interval: 60s)
2025-10-19 00:49:49,410 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:53,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:49:54,302 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860194.302458, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:49:54,307 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:49:54,307 WARNING üö´ LLM request blocked: Too soon (wait 22.8s more, min interval: 60s)
2025-10-19 00:49:57,500 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:01,546 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:02,310 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860202.3103302, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:02,314 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:02,314 WARNING üö´ LLM request blocked: Too soon (wait 14.8s more, min interval: 60s)
2025-10-19 00:50:05,598 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:09,654 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:10,319 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860210.3194911, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:10,322 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:10,322 WARNING üö´ LLM request blocked: Too soon (wait 6.8s more, min interval: 60s)
2025-10-19 00:50:13,704 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:16,812 INFO ‚úÖ LLM analysis completed in 59.72s
2025-10-19 00:50:16,812 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:50:16,815 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:50:16,815 INFO üîì LLM analysis flag cleared after 59.72s
2025-10-19 00:50:17,757 INFO ‚úÖ LLM request allowed - OK (last request 60.7s ago)
2025-10-19 00:50:17,758 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:50:17,758 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:50:17,758 INFO üîç Analysis flag set at 00:50:17
2025-10-19 00:50:17,758 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:50:18,331 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860218.33158, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:18,336 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:18,336 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-19 00:50:26,338 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860226.338827, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:26,343 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:26,343 WARNING üö´ LLM request blocked: Too soon (wait 51.4s more, min interval: 60s)
2025-10-19 00:50:29,923 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:33,984 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:34,350 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860234.350621, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:34,354 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:34,354 WARNING üö´ LLM request blocked: Too soon (wait 43.4s more, min interval: 60s)
2025-10-19 00:50:38,041 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:42,104 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:42,365 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860242.364798, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:42,368 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:42,368 WARNING üö´ LLM request blocked: Too soon (wait 35.4s more, min interval: 60s)
2025-10-19 00:50:46,177 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:50,242 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:50,376 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860250.3761752, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:50,381 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:50,381 WARNING üö´ LLM request blocked: Too soon (wait 27.4s more, min interval: 60s)
2025-10-19 00:50:54,309 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:58,377 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:50:59,386 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860259.386438, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:50:59,390 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:50:59,390 WARNING üö´ LLM request blocked: Too soon (wait 18.4s more, min interval: 60s)
2025-10-19 00:51:02,442 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:06,512 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:07,396 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860267.3959382, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:51:07,400 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:51:07,400 WARNING üö´ LLM request blocked: Too soon (wait 10.4s more, min interval: 60s)
2025-10-19 00:51:10,589 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:14,665 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:17,643 INFO ‚úÖ LLM analysis completed in 59.88s
2025-10-19 00:51:17,643 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:51:17,644 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:51:17,644 INFO üîì LLM analysis flag cleared after 59.89s
2025-10-19 00:51:18,744 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-19 00:51:18,745 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:51:18,746 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:51:18,746 INFO üîç Analysis flag set at 00:51:18
2025-10-19 00:51:18,746 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:51:27,475 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A and C feed load, Component A to Reactor, Component D to Reactor, Component F in Product, Reactor Feed Rate; Resolved: A and C Feed, Component D in Product, Component G in Purge, Component H in Purge, E Feed, E feed load', 'last_check_time': 1760860287.4748642, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:51:27,478 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:51:27,478 WARNING üö´ LLM request blocked: Too soon (wait 51.3s more, min interval: 60s)
2025-10-19 00:51:30,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:35,054 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:39,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:43,235 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:47,332 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:51,425 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:55,524 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:51:59,613 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:03,688 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:07,784 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:11,898 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:12,682 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component G in Product, Reactor Level, Recycle Flow; Resolved: A Feed, A and C feed load, Component D to Reactor, Reactor Feed Rate', 'last_check_time': 1760860332.68249, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:52:12,688 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:52:12,688 WARNING üö´ LLM request blocked: Too soon (wait 6.1s more, min interval: 60s)
2025-10-19 00:52:15,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:18,074 INFO ‚úÖ LLM analysis completed in 59.33s
2025-10-19 00:52:18,074 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:52:18,076 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:52:18,076 INFO üîì LLM analysis flag cleared after 59.33s
2025-10-19 00:52:20,089 INFO ‚úÖ LLM request allowed - OK (last request 61.3s ago)
2025-10-19 00:52:20,090 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:52:20,090 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:52:20,090 INFO üîç Analysis flag set at 00:52:20
2025-10-19 00:52:20,090 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:52:32,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:36,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:40,601 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:44,708 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:44,875 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860364.875116, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:52:44,881 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:52:44,881 WARNING üö´ LLM request blocked: Too soon (wait 35.2s more, min interval: 60s)
2025-10-19 00:52:48,797 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:52,927 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:52:57,034 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:01,152 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:05,281 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:09,394 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:13,517 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:16,617 INFO ‚úÖ LLM analysis completed in 56.53s
2025-10-19 00:53:16,618 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:53:16,619 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:53:16,619 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:53:16,621 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:53:16,621 INFO üîì LLM analysis flag cleared after 56.53s
2025-10-19 00:53:17,575 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860397.574993, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:53:17,581 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:53:17,581 WARNING üö´ LLM request blocked: Too soon (wait 2.5s more, min interval: 60s)
2025-10-19 00:53:17,648 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-19 00:53:21,768 INFO ‚úÖ LLM request allowed - OK (last request 61.7s ago)
2025-10-19 00:53:21,768 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:53:21,769 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:53:21,769 INFO üîç Analysis flag set at 00:53:21
2025-10-19 00:53:21,769 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:53:34,139 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:38,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:42,410 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:46,533 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:50,658 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:50,978 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860430.978178, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:53:50,989 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:53:50,989 WARNING üö´ LLM request blocked: Too soon (wait 30.8s more, min interval: 60s)
2025-10-19 00:53:54,791 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:53:58,921 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:03,074 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:07,211 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:11,339 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:15,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:19,599 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:21,441 INFO ‚úÖ LLM analysis completed in 59.67s
2025-10-19 00:54:21,441 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:54:21,442 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:54:21,443 INFO üîì LLM analysis flag cleared after 59.67s
2025-10-19 00:54:23,742 INFO ‚úÖ LLM request allowed - OK (last request 62.0s ago)
2025-10-19 00:54:23,743 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:54:23,743 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:54:23,743 INFO üîç Analysis flag set at 00:54:23
2025-10-19 00:54:23,743 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:54:24,018 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860464.018373, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:54:24,028 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:54:24,028 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-19 00:54:36,175 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:40,326 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:44,473 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:48,624 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:52,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:56,925 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:54:57,037 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860497.037775, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:54:57,044 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:54:57,045 WARNING üö´ LLM request blocked: Too soon (wait 26.7s more, min interval: 60s)
2025-10-19 00:55:00,960 INFO ‚úÖ LLM analysis completed in 37.22s
2025-10-19 00:55:00,960 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:55:00,960 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:55:00,960 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:55:00,960 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:55:00,960 INFO üîì LLM analysis flag cleared after 37.22s
2025-10-19 00:55:01,080 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.7s more, min interval: 60s)
2025-10-19 00:55:05,239 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.5s more, min interval: 60s)
2025-10-19 00:55:09,392 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.4s more, min interval: 60s)
2025-10-19 00:55:13,574 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.2s more, min interval: 60s)
2025-10-19 00:55:17,761 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-19 00:55:21,926 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.8s more, min interval: 60s)
2025-10-19 00:55:26,091 INFO ‚úÖ LLM request allowed - OK (last request 62.3s ago)
2025-10-19 00:55:26,092 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:55:26,092 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:55:26,092 INFO üîç Analysis flag set at 00:55:26
2025-10-19 00:55:26,092 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:55:27,099 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860527.099468, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:55:27,106 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:55:27,106 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-19 00:55:38,598 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:55:42,774 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:55:46,966 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:55:51,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:55:55,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:55:59,493 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:00,239 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860560.239748, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:56:00,278 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:56:00,278 WARNING üö´ LLM request blocked: Too soon (wait 25.8s more, min interval: 60s)
2025-10-19 00:56:03,645 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:07,823 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:12,012 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:16,183 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:20,361 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:24,554 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:25,854 INFO ‚úÖ LLM analysis completed in 59.76s
2025-10-19 00:56:25,854 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:56:25,856 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:56:25,856 INFO üîì LLM analysis flag cleared after 59.76s
2025-10-19 00:56:28,760 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 00:56:28,761 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:56:28,761 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:56:28,761 INFO üîç Analysis flag set at 00:56:28
2025-10-19 00:56:28,761 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:56:33,247 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860593.246828, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:56:33,278 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:56:33,279 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-19 00:56:41,331 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:45,523 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:49,711 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:53,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:56:58,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:57:02,335 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:57:03,255 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860623.255129, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:57:03,270 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:57:03,271 WARNING üö´ LLM request blocked: Too soon (wait 25.5s more, min interval: 60s)
2025-10-19 00:57:06,538 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:57:09,445 INFO ‚úÖ LLM analysis completed in 40.68s
2025-10-19 00:57:09,447 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:57:09,447 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:57:09,447 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:57:09,449 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:57:09,449 INFO üîì LLM analysis flag cleared after 40.69s
2025-10-19 00:57:10,735 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.0s more, min interval: 60s)
2025-10-19 00:57:14,940 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.8s more, min interval: 60s)
2025-10-19 00:57:19,151 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.6s more, min interval: 60s)
2025-10-19 00:57:23,385 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-19 00:57:27,590 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.2s more, min interval: 60s)
2025-10-19 00:57:31,791 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-19 00:57:31,792 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:57:31,792 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:57:31,792 INFO üîç Analysis flag set at 00:57:31
2025-10-19 00:57:31,792 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:57:36,279 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860656.2795808, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:57:36,290 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:57:36,290 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-19 00:57:44,417 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:57:48,622 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:57:52,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:57:57,039 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:01,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:05,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:09,673 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:13,891 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:18,110 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:22,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:26,014 INFO ‚úÖ LLM analysis completed in 54.22s
2025-10-19 00:58:26,014 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 00:58:26,014 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 00:58:26,014 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:58:26,015 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:58:26,015 INFO üîì LLM analysis flag cleared after 54.22s
2025-10-19 00:58:26,550 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-19 00:58:27,740 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860707.740005, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:58:27,751 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:58:27,751 WARNING üö´ LLM request blocked: Too soon (wait 4.0s more, min interval: 60s)
2025-10-19 00:58:30,772 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 00:58:34,996 INFO ‚úÖ LLM request allowed - OK (last request 63.2s ago)
2025-10-19 00:58:34,996 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:58:34,997 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:58:34,997 INFO üîç Analysis flag set at 00:58:34
2025-10-19 00:58:34,997 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:58:47,687 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:51,919 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:58:56,150 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:00,386 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:01,386 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860741.386026, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:59:01,397 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:59:01,397 WARNING üö´ LLM request blocked: Too soon (wait 33.6s more, min interval: 60s)
2025-10-19 00:59:04,611 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:08,850 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:13,086 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:17,320 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:21,560 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:25,807 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:30,050 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:34,314 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:34,415 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860774.415089, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 00:59:34,426 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 00:59:34,426 WARNING üö´ LLM request blocked: Too soon (wait 0.6s more, min interval: 60s)
2025-10-19 00:59:34,599 INFO ‚úÖ LLM analysis completed in 59.60s
2025-10-19 00:59:34,599 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 00:59:34,600 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 00:59:34,600 INFO üîì LLM analysis flag cleared after 59.60s
2025-10-19 00:59:38,560 INFO ‚úÖ LLM request allowed - OK (last request 63.6s ago)
2025-10-19 00:59:38,561 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 00:59:38,562 INFO ü§ñ Starting background LLM analysis...
2025-10-19 00:59:38,562 INFO üîç Analysis flag set at 00:59:38
2025-10-19 00:59:38,562 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 00:59:51,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:55,554 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 00:59:59,802 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:04,051 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:04,454 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860804.453878, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:00:04,464 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:00:04,464 WARNING üö´ LLM request blocked: Too soon (wait 34.1s more, min interval: 60s)
2025-10-19 01:00:08,305 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:12,555 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:16,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:21,069 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:25,330 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:29,592 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:33,882 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:34,464 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860834.464166, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:00:34,470 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:00:34,470 WARNING üö´ LLM request blocked: Too soon (wait 4.1s more, min interval: 60s)
2025-10-19 01:00:37,912 INFO ‚úÖ LLM analysis completed in 59.35s
2025-10-19 01:00:37,912 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:00:37,913 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:00:37,913 INFO üîì LLM analysis flag cleared after 59.35s
2025-10-19 01:00:38,149 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.4s more, min interval: 60s)
2025-10-19 01:00:42,434 INFO ‚úÖ LLM request allowed - OK (last request 63.9s ago)
2025-10-19 01:00:42,435 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:00:42,435 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:00:42,435 INFO üîç Analysis flag set at 01:00:42
2025-10-19 01:00:42,435 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:00:55,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:00:59,531 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:03,803 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:04,514 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860864.514478, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:01:04,521 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:01:04,521 WARNING üö´ LLM request blocked: Too soon (wait 37.9s more, min interval: 60s)
2025-10-19 01:01:08,079 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:12,369 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:16,645 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:20,939 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:25,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:29,516 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:33,821 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:01:34,545 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860894.5448582, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:01:34,552 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:01:34,552 WARNING üö´ LLM request blocked: Too soon (wait 7.9s more, min interval: 60s)
2025-10-19 01:01:35,250 INFO ‚úÖ LLM analysis completed in 52.81s
2025-10-19 01:01:35,251 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:01:35,251 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:01:35,252 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:01:35,253 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:01:35,253 INFO üîì LLM analysis flag cleared after 52.82s
2025-10-19 01:01:38,108 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.3s more, min interval: 60s)
2025-10-19 01:01:42,403 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.0s more, min interval: 60s)
2025-10-19 01:01:46,700 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 01:01:46,701 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:01:46,701 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:01:46,701 INFO üîç Analysis flag set at 01:01:46
2025-10-19 01:01:46,701 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:01:59,598 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:03,896 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:04,590 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860924.5902321, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:02:04,595 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:02:04,596 WARNING üö´ LLM request blocked: Too soon (wait 42.1s more, min interval: 60s)
2025-10-19 01:02:08,189 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:12,483 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:16,795 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:21,104 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:25,426 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:29,718 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:34,020 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:34,627 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860954.6277199, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:02:34,635 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:02:34,635 WARNING üö´ LLM request blocked: Too soon (wait 12.1s more, min interval: 60s)
2025-10-19 01:02:38,331 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:02:40,786 INFO ‚úÖ LLM analysis completed in 54.08s
2025-10-19 01:02:40,787 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:02:40,788 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:02:40,788 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:02:40,789 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:02:40,789 INFO üîì LLM analysis flag cleared after 54.09s
2025-10-19 01:02:42,636 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.1s more, min interval: 60s)
2025-10-19 01:02:46,943 INFO ‚úÖ LLM request allowed - OK (last request 60.2s ago)
2025-10-19 01:02:46,944 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:02:46,944 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:02:46,944 INFO üîç Analysis flag set at 01:02:46
2025-10-19 01:02:46,944 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:02:59,875 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:04,193 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:04,664 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760860984.664383, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:03:04,673 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:03:04,673 WARNING üö´ LLM request blocked: Too soon (wait 42.3s more, min interval: 60s)
2025-10-19 01:03:08,515 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:12,836 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:17,164 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:21,487 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:25,811 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:30,126 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:34,453 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:03:34,706 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861014.7065852, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:03:34,715 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:03:34,715 WARNING üö´ LLM request blocked: Too soon (wait 12.2s more, min interval: 60s)
2025-10-19 01:03:37,417 INFO ‚úÖ LLM analysis completed in 50.47s
2025-10-19 01:03:37,420 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:03:37,420 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:03:37,420 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:03:37,422 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:03:37,422 INFO üîì LLM analysis flag cleared after 50.48s
2025-10-19 01:03:38,783 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-19 01:03:43,120 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.8s more, min interval: 60s)
2025-10-19 01:03:47,447 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-19 01:03:47,448 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:03:47,449 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:03:47,449 INFO üîç Analysis flag set at 01:03:47
2025-10-19 01:03:47,449 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:04:00,458 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:04,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:05,741 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861045.7412639, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:04:05,751 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:04:05,751 WARNING üö´ LLM request blocked: Too soon (wait 41.7s more, min interval: 60s)
2025-10-19 01:04:09,138 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:13,482 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:17,816 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:22,154 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:26,497 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:30,836 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:35,184 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:04:35,784 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861075.784147, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:04:35,792 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:04:35,792 WARNING üö´ LLM request blocked: Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 01:04:39,142 INFO ‚úÖ LLM analysis completed in 51.69s
2025-10-19 01:04:39,142 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:04:39,142 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:04:39,142 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:04:39,143 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:04:39,143 INFO üîì LLM analysis flag cleared after 51.69s
2025-10-19 01:04:39,531 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-19 01:04:43,884 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.6s more, min interval: 60s)
2025-10-19 01:04:48,230 INFO ‚úÖ LLM request allowed - OK (last request 60.8s ago)
2025-10-19 01:04:48,231 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:04:48,231 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:04:48,232 INFO üîç Analysis flag set at 01:04:48
2025-10-19 01:04:48,232 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:05:01,287 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:05,639 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:05,818 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861105.8185542, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:05:05,827 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:05:05,827 WARNING üö´ LLM request blocked: Too soon (wait 42.4s more, min interval: 60s)
2025-10-19 01:05:09,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:14,352 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:18,714 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:23,076 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:27,438 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:31,800 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:36,166 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:36,859 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861136.859732, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:05:36,868 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:05:36,868 WARNING üö´ LLM request blocked: Too soon (wait 11.4s more, min interval: 60s)
2025-10-19 01:05:40,531 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:44,893 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:05:47,845 INFO ‚úÖ LLM analysis completed in 59.61s
2025-10-19 01:05:47,846 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:05:47,848 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:05:47,848 INFO üîì LLM analysis flag cleared after 59.62s
2025-10-19 01:05:49,265 INFO ‚úÖ LLM request allowed - OK (last request 61.0s ago)
2025-10-19 01:05:49,266 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:05:49,267 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:05:49,267 INFO üîç Analysis flag set at 01:05:49
2025-10-19 01:05:49,267 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:06:02,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:06,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:06,895 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861166.8949518, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:06:06,903 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:06:06,903 WARNING üö´ LLM request blocked: Too soon (wait 42.4s more, min interval: 60s)
2025-10-19 01:06:11,132 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:15,507 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:19,886 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:24,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:28,644 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:33,029 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:37,413 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:37,938 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861197.9384692, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:06:37,946 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:06:37,946 WARNING üö´ LLM request blocked: Too soon (wait 11.3s more, min interval: 60s)
2025-10-19 01:06:41,799 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:46,185 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:06:48,603 INFO ‚úÖ LLM analysis completed in 59.34s
2025-10-19 01:06:48,603 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:06:48,606 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:06:48,606 INFO üîì LLM analysis flag cleared after 59.34s
2025-10-19 01:06:50,577 INFO ‚úÖ LLM request allowed - OK (last request 61.3s ago)
2025-10-19 01:06:50,578 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:06:50,578 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:06:50,578 INFO üîç Analysis flag set at 01:06:50
2025-10-19 01:06:50,578 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:07:03,754 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:08,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:08,978 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861228.978249, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:07:08,983 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:07:08,984 WARNING üö´ LLM request blocked: Too soon (wait 41.6s more, min interval: 60s)
2025-10-19 01:07:12,541 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:16,938 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:21,335 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:25,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:30,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:34,541 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:38,943 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:39,008 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861259.008192, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:07:39,014 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:07:39,014 WARNING üö´ LLM request blocked: Too soon (wait 11.6s more, min interval: 60s)
2025-10-19 01:07:43,355 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:47,757 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:07:49,942 INFO ‚úÖ LLM analysis completed in 59.36s
2025-10-19 01:07:49,942 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:07:49,944 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:07:49,945 INFO üîì LLM analysis flag cleared after 59.37s
2025-10-19 01:07:52,166 INFO ‚úÖ LLM request allowed - OK (last request 61.6s ago)
2025-10-19 01:07:52,167 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:07:52,167 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:07:52,167 INFO üîç Analysis flag set at 01:07:52
2025-10-19 01:07:52,167 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:08:05,401 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:09,811 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:10,056 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861290.055933, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:08:10,061 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:08:10,061 WARNING üö´ LLM request blocked: Too soon (wait 42.1s more, min interval: 60s)
2025-10-19 01:08:14,214 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:18,631 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:23,047 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:27,472 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:31,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:36,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:40,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:08:41,095 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861321.095455, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:08:41,101 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:08:41,101 WARNING üö´ LLM request blocked: Too soon (wait 11.1s more, min interval: 60s)
2025-10-19 01:08:42,059 INFO ‚úÖ LLM analysis completed in 49.89s
2025-10-19 01:08:42,062 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:08:42,062 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:08:42,062 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:08:42,064 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:08:42,065 INFO üîì LLM analysis flag cleared after 49.90s
2025-10-19 01:08:45,157 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-19 01:08:49,584 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.6s more, min interval: 60s)
2025-10-19 01:08:54,009 INFO ‚úÖ LLM request allowed - OK (last request 61.8s ago)
2025-10-19 01:08:54,009 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:08:54,010 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:08:54,010 INFO üîç Analysis flag set at 01:08:54
2025-10-19 01:08:54,010 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:09:07,300 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:11,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:12,146 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861352.1460721, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:09:12,155 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:09:12,155 WARNING üö´ LLM request blocked: Too soon (wait 41.9s more, min interval: 60s)
2025-10-19 01:09:16,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:20,602 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:25,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:29,476 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:33,917 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:38,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:42,804 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:43,186 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861383.186086, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:09:43,195 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:09:43,196 WARNING üö´ LLM request blocked: Too soon (wait 10.8s more, min interval: 60s)
2025-10-19 01:09:47,251 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:51,698 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:09:53,690 INFO ‚úÖ LLM analysis completed in 59.68s
2025-10-19 01:09:53,690 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:09:53,693 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:09:53,693 INFO üîì LLM analysis flag cleared after 59.68s
2025-10-19 01:09:56,142 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-19 01:09:56,143 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:09:56,143 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:09:56,143 INFO üîç Analysis flag set at 01:09:56
2025-10-19 01:09:56,143 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:10:09,494 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:13,951 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:14,235 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861414.235435, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:10:14,238 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:10:14,238 WARNING üö´ LLM request blocked: Too soon (wait 41.9s more, min interval: 60s)
2025-10-19 01:10:18,397 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:22,847 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:27,313 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:31,782 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:36,245 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:40,713 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:45,181 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:45,288 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861445.288788, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:10:45,299 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:10:45,299 WARNING üö´ LLM request blocked: Too soon (wait 10.8s more, min interval: 60s)
2025-10-19 01:10:49,650 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:54,116 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:10:55,594 INFO ‚úÖ LLM analysis completed in 59.45s
2025-10-19 01:10:55,595 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:10:55,596 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:10:55,597 INFO üîì LLM analysis flag cleared after 59.45s
2025-10-19 01:10:58,614 INFO ‚úÖ LLM request allowed - OK (last request 62.5s ago)
2025-10-19 01:10:58,614 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:10:58,615 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:10:58,615 INFO üîç Analysis flag set at 01:10:58
2025-10-19 01:10:58,615 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:11:12,038 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:16,511 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:17,346 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861477.346496, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:11:17,351 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:11:17,352 WARNING üö´ LLM request blocked: Too soon (wait 41.3s more, min interval: 60s)
2025-10-19 01:11:20,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:25,471 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:29,952 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:34,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:38,923 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:43,401 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:47,886 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:48,411 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861508.4109828, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:11:48,417 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:11:48,417 WARNING üö´ LLM request blocked: Too soon (wait 10.2s more, min interval: 60s)
2025-10-19 01:11:52,377 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:56,864 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:11:57,941 INFO ‚úÖ LLM analysis completed in 59.33s
2025-10-19 01:11:57,941 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:11:57,943 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:11:57,943 INFO üîì LLM analysis flag cleared after 59.33s
2025-10-19 01:12:01,356 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 01:12:01,358 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:12:01,358 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:12:01,358 INFO üîç Analysis flag set at 01:12:01
2025-10-19 01:12:01,358 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:12:14,841 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:19,332 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:19,466 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861539.466754, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:12:19,473 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:12:19,473 WARNING üö´ LLM request blocked: Too soon (wait 41.9s more, min interval: 60s)
2025-10-19 01:12:23,820 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:28,339 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:32,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:37,329 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:41,829 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:46,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:50,829 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:51,532 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861571.532196, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:12:51,538 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:12:51,539 WARNING üö´ LLM request blocked: Too soon (wait 9.8s more, min interval: 60s)
2025-10-19 01:12:55,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:12:58,159 INFO ‚úÖ LLM analysis completed in 56.80s
2025-10-19 01:12:58,161 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:12:58,162 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:12:58,162 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:12:58,164 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:12:58,164 INFO üîì LLM analysis flag cleared after 56.81s
2025-10-19 01:12:59,843 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.5s more, min interval: 60s)
2025-10-19 01:13:04,344 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-19 01:13:04,344 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:13:04,345 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:13:04,345 INFO üîç Analysis flag set at 01:13:04
2025-10-19 01:13:04,345 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:13:17,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:22,399 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:22,596 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861602.595863, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:13:22,601 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:13:22,601 WARNING üö´ LLM request blocked: Too soon (wait 41.7s more, min interval: 60s)
2025-10-19 01:13:26,914 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:31,419 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:35,933 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:40,453 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:44,964 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:49,482 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:54,015 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:13:54,664 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861634.664425, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:13:54,673 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:13:54,673 WARNING üö´ LLM request blocked: Too soon (wait 9.7s more, min interval: 60s)
2025-10-19 01:13:54,909 INFO ‚úÖ LLM analysis completed in 50.56s
2025-10-19 01:13:54,910 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:13:54,910 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:13:54,911 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:13:54,912 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:13:54,912 INFO üîì LLM analysis flag cleared after 50.57s
2025-10-19 01:13:58,536 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.8s more, min interval: 60s)
2025-10-19 01:14:03,060 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-19 01:14:07,602 INFO ‚úÖ LLM request allowed - OK (last request 63.3s ago)
2025-10-19 01:14:07,603 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:14:07,603 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:14:07,603 INFO üîç Analysis flag set at 01:14:07
2025-10-19 01:14:07,603 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:14:21,202 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:14:25,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:14:26,699 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760861666.699289, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:14:26,709 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:14:26,709 WARNING üö´ LLM request blocked: Too soon (wait 40.9s more, min interval: 60s)
2025-10-19 01:14:30,274 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:21:21,305 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 01:22:16,908 INFO ‚úÖ LLM request allowed - OK (last request 1760862136.9s ago)
2025-10-19 01:22:16,909 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:22:16,910 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:22:16,910 INFO üîç Analysis flag set at 01:22:16
2025-10-19 01:22:16,910 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:22:20,830 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760862140.830108, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:22:20,834 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:22:20,834 WARNING üö´ LLM request blocked: Too soon (wait 56.1s more, min interval: 60s)
2025-10-19 01:22:27,919 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:31,589 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:35,264 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:38,933 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:42,609 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:46,291 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:49,969 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:50,857 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862170.856831, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:22:50,861 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:22:50,861 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-19 01:22:53,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:22:57,333 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:01,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:04,705 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:08,389 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:12,078 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:15,763 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:19,455 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:23,147 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:23:23,889 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862203.8890681, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:23:23,893 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:23:23,893 INFO ‚úÖ LLM request allowed: OK (last request 67.0s ago)
2025-10-19 01:23:23,893 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 01:23:23,896 INFO feature comparison prepared
2025-10-19 01:23:25,763 INFO ‚úÖ LLM analysis completed in 68.85s
2025-10-19 01:23:25,764 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:23:25,764 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:23:25,765 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:23:25,765 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:23:25,765 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:23:25,767 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:23:25,767 INFO üîì LLM analysis flag cleared after 68.86s
2025-10-19 01:23:26,840 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 57.1s more, min interval: 60s)
2025-10-19 01:23:30,537 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 53.4s more, min interval: 60s)
2025-10-19 01:23:34,233 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.7s more, min interval: 60s)
2025-10-19 01:23:37,927 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 46.0s more, min interval: 60s)
2025-10-19 01:23:41,629 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.3s more, min interval: 60s)
2025-10-19 01:23:45,333 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.6s more, min interval: 60s)
2025-10-19 01:23:49,037 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.9s more, min interval: 60s)
2025-10-19 01:23:52,743 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.2s more, min interval: 60s)
2025-10-19 01:23:56,466 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.4s more, min interval: 60s)
2025-10-19 01:23:56,946 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862236.946103, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:23:56,949 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:23:56,950 WARNING üö´ LLM request blocked: Too soon (wait 26.9s more, min interval: 60s)
2025-10-19 01:24:00,196 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.7s more, min interval: 60s)
2025-10-19 01:24:03,920 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-19 01:24:07,650 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.2s more, min interval: 60s)
2025-10-19 01:24:11,381 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.5s more, min interval: 60s)
2025-10-19 01:24:12,058 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 01:24:12,059 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 01:24:12,059 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 01:24:12,059 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 01:24:12,060 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 01:24:12,061 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 01:24:12,062 INFO ‚úÖ Saved analysis to history (id: 1760862252061)
2025-10-19 01:24:12,062 INFO multi-llm analysis completed id=Fault-2
2025-10-19 01:24:15,115 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.8s more, min interval: 60s)
2025-10-19 01:24:18,851 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.0s more, min interval: 60s)
2025-10-19 01:24:22,584 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-19 01:24:26,318 INFO ‚úÖ LLM request allowed - OK (last request 62.4s ago)
2025-10-19 01:24:26,319 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:24:26,320 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:24:26,320 INFO üîç Analysis flag set at 01:24:26
2025-10-19 01:24:26,320 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:24:26,984 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862266.984144, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:24:26,989 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:24:26,989 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-19 01:24:37,529 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:24:41,273 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:24:45,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:24:48,775 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:24:52,519 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:24:56,270 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:24:57,018 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862297.018552, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:24:57,021 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:24:57,022 WARNING üö´ LLM request blocked: Too soon (wait 29.3s more, min interval: 60s)
2025-10-19 01:25:00,027 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:03,778 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:07,532 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:11,288 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:15,047 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:18,802 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:22,564 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:24,565 INFO ‚úÖ LLM analysis completed in 58.25s
2025-10-19 01:25:24,568 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:25:24,569 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:25:24,570 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:25:24,570 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:25:24,570 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:25:24,572 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:25:24,572 INFO üîì LLM analysis flag cleared after 58.25s
2025-10-19 01:25:26,326 INFO ‚úÖ LLM request allowed - OK (last request 60.0s ago)
2025-10-19 01:25:26,326 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:25:26,327 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:25:26,327 INFO üîç Analysis flag set at 01:25:26
2025-10-19 01:25:26,327 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:25:37,614 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:41,384 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:45,159 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:48,940 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:52,712 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:25:56,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:00,261 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:04,041 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:07,819 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:11,599 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:13,452 INFO ‚úÖ LLM analysis completed in 47.13s
2025-10-19 01:26:13,453 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:26:13,453 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:26:13,453 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:26:13,453 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:26:13,453 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:26:13,454 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:26:13,454 INFO üîì LLM analysis flag cleared after 47.13s
2025-10-19 01:26:15,382 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.9s more, min interval: 60s)
2025-10-19 01:26:19,167 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.2s more, min interval: 60s)
2025-10-19 01:26:22,956 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-19 01:26:26,733 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 01:26:26,734 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:26:26,735 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:26:26,735 INFO üîç Analysis flag set at 01:26:26
2025-10-19 01:26:26,735 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:26:32,669 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862392.669348, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:26:32,673 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:26:32,673 WARNING üö´ LLM request blocked: Too soon (wait 54.1s more, min interval: 60s)
2025-10-19 01:26:38,089 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:41,881 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:45,669 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:49,455 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:53,252 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:26:57,048 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:00,843 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:04,643 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:05,123 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862425.123362, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:27:05,132 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:27:05,132 WARNING üö´ LLM request blocked: Too soon (wait 21.6s more, min interval: 60s)
2025-10-19 01:27:08,444 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:12,246 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:16,045 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:19,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:23,651 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:27,454 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:28,650 INFO ‚úÖ LLM analysis completed in 61.92s
2025-10-19 01:27:28,652 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:27:28,652 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:27:28,653 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:27:28,653 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:27:28,653 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:27:28,655 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:27:28,655 INFO üîì LLM analysis flag cleared after 61.92s
2025-10-19 01:27:31,262 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 01:27:31,262 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:27:31,263 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:27:31,263 INFO üîç Analysis flag set at 01:27:31
2025-10-19 01:27:31,263 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:27:35,168 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862455.1680262, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:27:35,176 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:27:35,177 WARNING üö´ LLM request blocked: Too soon (wait 56.1s more, min interval: 60s)
2025-10-19 01:27:42,689 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:46,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:50,320 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:54,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:27:57,955 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:01,776 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:05,603 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:06,208 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862486.208107, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:28:06,217 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:28:06,217 WARNING üö´ LLM request blocked: Too soon (wait 25.0s more, min interval: 60s)
2025-10-19 01:28:09,427 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:13,253 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:17,080 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:20,906 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:22,159 INFO ‚úÖ LLM analysis completed in 50.90s
2025-10-19 01:28:22,161 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:28:22,161 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:28:22,162 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:28:22,162 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:28:22,162 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:28:22,164 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:28:22,164 INFO üîì LLM analysis flag cleared after 50.90s
2025-10-19 01:28:24,732 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.5s more, min interval: 60s)
2025-10-19 01:28:28,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-19 01:28:32,381 INFO ‚úÖ LLM request allowed - OK (last request 61.1s ago)
2025-10-19 01:28:32,381 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:28:32,382 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:28:32,382 INFO üîç Analysis flag set at 01:28:32
2025-10-19 01:28:32,382 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:28:37,247 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862517.247679, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:28:37,256 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:28:37,256 WARNING üö´ LLM request blocked: Too soon (wait 55.1s more, min interval: 60s)
2025-10-19 01:28:43,892 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:47,727 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:51,567 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:55,409 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:28:59,253 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:03,082 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:06,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:10,777 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:14,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:15,111 INFO ‚úÖ LLM analysis completed in 42.73s
2025-10-19 01:29:15,112 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:29:15,112 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:29:15,112 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:29:15,112 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:29:15,113 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:29:15,114 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:29:15,114 INFO üîì LLM analysis flag cleared after 42.73s
2025-10-19 01:29:15,241 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component A to Reactor, Component B in Purge, Component C to Reactor, Component D in Purge, Component D to Reactor, Product Sep Underflow; Resolved: Component B to Reactor, Component F in Purge, Component F to Reactor, Component G in Purge, E Feed, E feed load', 'last_check_time': 1760862555.2412758, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:29:15,245 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:29:15,245 WARNING üö´ LLM request blocked: Too soon (wait 17.1s more, min interval: 60s)
2025-10-19 01:29:18,473 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.9s more, min interval: 60s)
2025-10-19 01:29:22,317 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.1s more, min interval: 60s)
2025-10-19 01:29:26,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-19 01:29:30,025 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-19 01:29:33,881 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-19 01:29:33,882 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:29:33,883 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:29:33,883 INFO üîç Analysis flag set at 01:29:33
2025-10-19 01:29:33,883 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:29:45,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:46,295 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862586.29517, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:29:46,306 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:29:46,306 WARNING üö´ LLM request blocked: Too soon (wait 47.6s more, min interval: 60s)
2025-10-19 01:29:49,313 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:53,164 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:29:57,024 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:00,892 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:04,757 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:08,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:12,493 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:16,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:17,337 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862617.337271, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:30:17,348 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:30:17,348 WARNING üö´ LLM request blocked: Too soon (wait 16.5s more, min interval: 60s)
2025-10-19 01:30:20,230 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:24,109 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:27,982 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:31,867 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:35,748 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:39,637 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:43,520 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:47,409 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:48,376 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862648.37645, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:30:48,386 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:30:48,386 INFO ‚úÖ LLM request allowed: OK (last request 74.5s ago)
2025-10-19 01:30:48,386 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 01:30:48,389 INFO feature comparison prepared
2025-10-19 01:30:51,294 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:55,185 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:30:55,676 INFO ‚úÖ LLM analysis completed in 81.79s
2025-10-19 01:30:55,678 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:30:55,678 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:30:55,679 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:30:55,679 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:30:55,679 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:30:55,681 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:30:55,681 INFO üîì LLM analysis flag cleared after 81.80s
2025-10-19 01:30:59,073 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.3s more, min interval: 60s)
2025-10-19 01:31:02,959 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.4s more, min interval: 60s)
2025-10-19 01:31:06,847 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.5s more, min interval: 60s)
2025-10-19 01:31:10,732 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.7s more, min interval: 60s)
2025-10-19 01:31:14,624 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.8s more, min interval: 60s)
2025-10-19 01:31:18,519 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.9s more, min interval: 60s)
2025-10-19 01:31:19,397 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862679.397441, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:31:19,400 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:31:19,400 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 01:31:22,412 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.0s more, min interval: 60s)
2025-10-19 01:31:26,308 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.1s more, min interval: 60s)
2025-10-19 01:31:30,181 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.2s more, min interval: 60s)
2025-10-19 01:31:34,078 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.3s more, min interval: 60s)
2025-10-19 01:31:37,978 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.4s more, min interval: 60s)
2025-10-19 01:31:41,876 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.5s more, min interval: 60s)
2025-10-19 01:31:45,775 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.6s more, min interval: 60s)
2025-10-19 01:31:49,676 INFO ‚úÖ LLM request allowed - OK (last request 61.3s ago)
2025-10-19 01:31:49,677 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:31:49,677 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:31:49,677 INFO üîç Analysis flag set at 01:31:49
2025-10-19 01:31:49,677 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:31:50,442 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862710.442086, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:31:50,453 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:31:50,453 WARNING üö´ LLM request blocked: Too soon (wait 59.2s more, min interval: 60s)
2025-10-19 01:31:59,043 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 01:31:59,044 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 01:31:59,044 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 01:31:59,044 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 01:31:59,045 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 01:31:59,046 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 01:31:59,047 INFO ‚úÖ Saved analysis to history (id: 1760862719046)
2025-10-19 01:31:59,047 INFO multi-llm analysis completed id=Fault-1
2025-10-19 01:32:01,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:05,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:09,219 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:13,132 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:17,044 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:20,958 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:21,491 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862741.491061, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:32:21,500 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:32:21,500 WARNING üö´ LLM request blocked: Too soon (wait 28.2s more, min interval: 60s)
2025-10-19 01:32:24,874 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:28,798 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:32:32,519 INFO ‚úÖ LLM analysis completed in 42.84s
2025-10-19 01:32:32,520 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:32:32,520 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:32:32,520 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:32:32,520 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:32:32,520 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:32:32,520 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:32:32,521 INFO üîì LLM analysis flag cleared after 42.84s
2025-10-19 01:32:32,727 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-19 01:32:36,648 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.0s more, min interval: 60s)
2025-10-19 01:32:40,571 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.1s more, min interval: 60s)
2025-10-19 01:32:44,487 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-19 01:32:48,409 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.3s more, min interval: 60s)
2025-10-19 01:32:52,330 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 01:32:52,331 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:32:52,331 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:32:52,331 INFO üîç Analysis flag set at 01:32:52
2025-10-19 01:32:52,331 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:32:52,525 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862772.525463, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:32:52,535 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:32:52,535 WARNING üö´ LLM request blocked: Too soon (wait 59.8s more, min interval: 60s)
2025-10-19 01:33:04,122 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:08,056 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:11,986 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:15,917 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:19,852 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:23,776 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:24,562 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862804.561812, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:33:24,572 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:33:24,572 WARNING üö´ LLM request blocked: Too soon (wait 27.8s more, min interval: 60s)
2025-10-19 01:33:27,717 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:31,651 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:35,590 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:39,541 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:43,483 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:47,428 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:33:48,891 INFO ‚úÖ LLM analysis completed in 56.56s
2025-10-19 01:33:48,893 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:33:48,893 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:33:48,894 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:33:48,894 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:33:48,894 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:33:48,896 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:33:48,896 INFO üîì LLM analysis flag cleared after 56.56s
2025-10-19 01:33:51,377 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 01:33:55,325 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-19 01:33:55,326 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:33:55,327 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:33:55,327 INFO üîç Analysis flag set at 01:33:55
2025-10-19 01:33:55,327 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:33:55,600 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862835.599873, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:33:55,608 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:33:55,609 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-19 01:34:07,180 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:11,131 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:15,078 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:19,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:23,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:26,965 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:27,644 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862867.644164, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:34:27,653 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:34:27,653 WARNING üö´ LLM request blocked: Too soon (wait 27.7s more, min interval: 60s)
2025-10-19 01:34:30,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:34,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:38,856 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:42,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:46,778 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:50,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:34:52,223 INFO ‚úÖ LLM analysis completed in 56.90s
2025-10-19 01:34:52,226 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:34:52,226 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:34:52,227 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:34:52,227 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:34:52,228 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:34:52,230 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:34:52,230 INFO üîì LLM analysis flag cleared after 56.90s
2025-10-19 01:34:54,715 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.6s more, min interval: 60s)
2025-10-19 01:34:58,689 INFO ‚úÖ LLM request allowed - OK (last request 63.4s ago)
2025-10-19 01:34:58,689 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:34:58,690 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:34:58,690 INFO üîç Analysis flag set at 01:34:58
2025-10-19 01:34:58,690 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:34:59,689 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862899.689663, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:34:59,699 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:34:59,700 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-19 01:35:10,614 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:14,593 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:18,574 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:22,555 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:26,535 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:30,521 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:30,728 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862930.728312, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:35:30,740 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:35:30,740 WARNING üö´ LLM request blocked: Too soon (wait 27.9s more, min interval: 60s)
2025-10-19 01:35:34,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:38,491 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:42,473 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:46,463 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:35:49,861 INFO ‚úÖ LLM analysis completed in 51.17s
2025-10-19 01:35:49,863 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:35:49,863 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:35:49,865 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:35:49,865 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:35:49,865 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:35:49,867 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:35:49,867 INFO üîì LLM analysis flag cleared after 51.18s
2025-10-19 01:35:50,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-19 01:35:54,451 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-19 01:35:58,446 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-19 01:36:02,436 INFO ‚úÖ LLM request allowed - OK (last request 63.7s ago)
2025-10-19 01:36:02,437 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:36:02,437 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:36:02,438 INFO üîç Analysis flag set at 01:36:02
2025-10-19 01:36:02,438 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:36:02,766 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862962.766198, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:36:02,777 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:36:02,777 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-19 01:36:14,437 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:18,441 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:22,446 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:26,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:30,454 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:34,463 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:34,803 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760862994.8034072, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:36:34,812 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:36:34,812 WARNING üö´ LLM request blocked: Too soon (wait 27.6s more, min interval: 60s)
2025-10-19 01:36:38,469 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:42,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:46,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:50,508 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:36:53,859 INFO ‚úÖ LLM analysis completed in 51.42s
2025-10-19 01:36:53,861 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:36:53,862 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:36:53,863 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:36:53,863 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:36:53,863 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:36:53,865 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:36:53,866 INFO üîì LLM analysis flag cleared after 51.43s
2025-10-19 01:36:54,524 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-19 01:36:58,539 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.9s more, min interval: 60s)
2025-10-19 01:37:02,547 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-19 01:37:02,548 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:37:02,548 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:37:02,548 INFO üîç Analysis flag set at 01:37:02
2025-10-19 01:37:02,549 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:37:06,850 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863026.850121, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:37:06,859 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:37:06,859 WARNING üö´ LLM request blocked: Too soon (wait 55.7s more, min interval: 60s)
2025-10-19 01:37:14,611 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:18,638 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:22,665 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:26,693 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:30,718 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:34,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:38,776 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:38,889 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863058.888982, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:37:38,898 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:37:38,898 WARNING üö´ LLM request blocked: Too soon (wait 23.7s more, min interval: 60s)
2025-10-19 01:37:42,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:46,843 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:37:49,978 INFO ‚úÖ LLM analysis completed in 47.43s
2025-10-19 01:37:49,982 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:37:49,982 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:37:49,983 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:37:49,984 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:37:49,984 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:37:49,986 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:37:49,987 INFO üîì LLM analysis flag cleared after 47.44s
2025-10-19 01:37:50,877 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 01:37:54,910 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.6s more, min interval: 60s)
2025-10-19 01:37:58,943 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.6s more, min interval: 60s)
2025-10-19 01:38:02,980 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 01:38:02,980 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:38:02,981 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:38:02,981 INFO üîç Analysis flag set at 01:38:02
2025-10-19 01:38:02,981 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:38:11,937 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863091.937164, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:38:11,945 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:38:11,945 WARNING üö´ LLM request blocked: Too soon (wait 51.0s more, min interval: 60s)
2025-10-19 01:38:15,119 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:19,161 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:23,206 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:27,251 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:31,297 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:35,345 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:39,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:43,457 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:43,983 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863123.983478, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:38:43,991 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:38:43,992 WARNING üö´ LLM request blocked: Too soon (wait 19.0s more, min interval: 60s)
2025-10-19 01:38:47,517 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:51,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:55,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:38:59,684 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:03,747 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:07,814 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:11,874 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:14,353 INFO ‚úÖ LLM analysis completed in 71.37s
2025-10-19 01:39:14,354 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:39:14,354 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:39:14,355 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:39:14,355 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:39:14,356 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:39:14,357 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:39:14,357 INFO üîì LLM analysis flag cleared after 71.38s
2025-10-19 01:39:15,931 INFO ‚úÖ LLM request allowed - OK (last request 73.0s ago)
2025-10-19 01:39:15,932 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:39:15,932 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:39:15,932 INFO üîç Analysis flag set at 01:39:15
2025-10-19 01:39:15,932 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:39:16,043 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863156.043922, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:39:16,053 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:39:16,053 WARNING üö´ LLM request blocked: Too soon (wait 59.9s more, min interval: 60s)
2025-10-19 01:39:28,140 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:32,213 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:36,287 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:40,353 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:44,423 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:48,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:49,103 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863189.103269, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:39:49,112 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:39:49,112 WARNING üö´ LLM request blocked: Too soon (wait 26.8s more, min interval: 60s)
2025-10-19 01:39:52,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:39:56,653 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:00,327 INFO ‚úÖ LLM analysis completed in 44.40s
2025-10-19 01:40:00,328 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:40:00,328 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:40:00,328 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:40:00,328 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:40:00,328 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:40:00,329 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:40:00,329 INFO üîì LLM analysis flag cleared after 44.40s
2025-10-19 01:40:00,733 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.2s more, min interval: 60s)
2025-10-19 01:40:04,812 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.1s more, min interval: 60s)
2025-10-19 01:40:08,889 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-19 01:40:12,977 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.0s more, min interval: 60s)
2025-10-19 01:40:17,055 INFO ‚úÖ LLM request allowed - OK (last request 61.1s ago)
2025-10-19 01:40:17,056 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:40:17,056 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:40:17,056 INFO üîç Analysis flag set at 01:40:17
2025-10-19 01:40:17,056 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:40:22,142 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863222.141932, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:40:22,151 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:40:22,151 WARNING üö´ LLM request blocked: Too soon (wait 54.9s more, min interval: 60s)
2025-10-19 01:40:29,318 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:33,407 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:37,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:41,588 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:45,683 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:46,483 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component F to Reactor, Component H in Purge, Product Sep Level, Reactor Feed Rate, Separator liquid load; Resolved: Component A to Reactor, Component C to Reactor, Component D in Purge, Component D to Reactor, Product Sep Underflow', 'last_check_time': 1760863246.483445, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:40:46,491 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:40:46,491 WARNING üö´ LLM request blocked: Too soon (wait 30.6s more, min interval: 60s)
2025-10-19 01:40:49,781 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:53,896 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:40:57,987 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:41:02,084 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:41:06,188 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:41:10,291 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:41:14,396 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:41:18,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:41:18,773 INFO ‚úÖ LLM analysis completed in 61.72s
2025-10-19 01:41:18,776 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:41:18,776 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:41:18,778 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:41:18,778 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:41:18,778 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:41:18,780 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:41:18,780 INFO üîì LLM analysis flag cleared after 61.72s
2025-10-19 01:41:19,528 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863279.528415, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:41:19,536 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:41:19,537 INFO ‚úÖ LLM request allowed: OK (last request 62.5s ago)
2025-10-19 01:41:19,537 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 01:41:19,539 INFO feature comparison prepared
2025-10-19 01:41:22,600 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.9s more, min interval: 60s)
2025-10-19 01:41:26,706 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.8s more, min interval: 60s)
2025-10-19 01:41:30,814 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.7s more, min interval: 60s)
2025-10-19 01:41:34,920 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.6s more, min interval: 60s)
2025-10-19 01:41:39,025 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.5s more, min interval: 60s)
2025-10-19 01:41:43,131 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.4s more, min interval: 60s)
2025-10-19 01:41:47,236 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.3s more, min interval: 60s)
2025-10-19 01:41:51,345 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.2s more, min interval: 60s)
2025-10-19 01:41:51,526 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863311.526561, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:41:51,531 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:41:51,532 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-19 01:41:55,458 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.1s more, min interval: 60s)
2025-10-19 01:41:59,571 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-19 01:42:03,689 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.8s more, min interval: 60s)
2025-10-19 01:42:07,806 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 01:42:11,928 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.6s more, min interval: 60s)
2025-10-19 01:42:15,457 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 01:42:15,457 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 01:42:15,458 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 01:42:15,458 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 01:42:15,459 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 01:42:15,459 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 01:42:15,459 INFO ‚úÖ Saved analysis to history (id: 1760863335459)
2025-10-19 01:42:15,459 INFO multi-llm analysis completed id=Fault-1
2025-10-19 01:42:16,053 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.5s more, min interval: 60s)
2025-10-19 01:42:20,178 INFO ‚úÖ LLM request allowed - OK (last request 60.6s ago)
2025-10-19 01:42:20,179 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:42:20,180 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:42:20,180 INFO üîç Analysis flag set at 01:42:20
2025-10-19 01:42:20,180 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:42:24,575 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863344.5758169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:42:24,586 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:42:24,587 WARNING üö´ LLM request blocked: Too soon (wait 55.6s more, min interval: 60s)
2025-10-19 01:42:32,571 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:36,702 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:40,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:44,967 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:49,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:53,258 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:57,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:42:57,612 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863377.612119, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:42:57,622 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:42:57,622 WARNING üö´ LLM request blocked: Too soon (wait 22.6s more, min interval: 60s)
2025-10-19 01:43:01,543 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:05,684 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:08,608 INFO ‚úÖ LLM analysis completed in 48.43s
2025-10-19 01:43:08,611 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:43:08,612 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:43:08,613 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:43:08,613 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:43:08,613 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:43:08,615 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:43:08,615 INFO üîì LLM analysis flag cleared after 48.44s
2025-10-19 01:43:09,827 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.4s more, min interval: 60s)
2025-10-19 01:43:13,978 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-19 01:43:18,122 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-19 01:43:22,265 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-19 01:43:22,266 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:43:22,267 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:43:22,267 INFO üîç Analysis flag set at 01:43:22
2025-10-19 01:43:22,267 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:43:30,646 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863410.646094, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:43:30,657 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:43:30,658 WARNING üö´ LLM request blocked: Too soon (wait 51.6s more, min interval: 60s)
2025-10-19 01:43:34,715 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:38,861 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:43,016 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:47,177 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:51,334 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:55,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:43:59,648 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:00,682 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863440.682593, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:44:00,691 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:44:00,692 WARNING üö´ LLM request blocked: Too soon (wait 21.6s more, min interval: 60s)
2025-10-19 01:44:03,807 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:07,964 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:12,141 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:16,310 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:20,475 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:24,639 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:28,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:32,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:33,725 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863473.7255092, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:44:33,734 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:44:33,734 INFO ‚úÖ LLM request allowed: OK (last request 71.5s ago)
2025-10-19 01:44:33,734 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 01:44:33,737 INFO feature comparison prepared
2025-10-19 01:44:37,157 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:41,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:45,510 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:49,685 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:53,861 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:44:58,041 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:45:00,050 INFO ‚úÖ LLM analysis completed in 97.78s
2025-10-19 01:45:00,053 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:45:00,053 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:45:00,054 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:45:00,054 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:45:00,054 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:45:00,056 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:45:00,056 INFO üîì LLM analysis flag cleared after 97.79s
2025-10-19 01:45:02,225 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.5s more, min interval: 60s)
2025-10-19 01:45:06,403 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.3s more, min interval: 60s)
2025-10-19 01:45:06,744 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863506.744556, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:45:06,749 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:45:06,750 WARNING üö´ LLM request blocked: Too soon (wait 27.0s more, min interval: 60s)
2025-10-19 01:45:10,589 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.1s more, min interval: 60s)
2025-10-19 01:45:14,773 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.0s more, min interval: 60s)
2025-10-19 01:45:18,959 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.8s more, min interval: 60s)
2025-10-19 01:45:23,144 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.6s more, min interval: 60s)
2025-10-19 01:45:27,333 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-19 01:45:31,519 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.2s more, min interval: 60s)
2025-10-19 01:45:35,713 INFO ‚úÖ LLM request allowed - OK (last request 62.0s ago)
2025-10-19 01:45:35,714 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:45:35,715 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:45:35,715 INFO üîç Analysis flag set at 01:45:35
2025-10-19 01:45:35,715 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:45:40,804 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863540.804516, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:45:40,815 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:45:40,815 WARNING üö´ LLM request blocked: Too soon (wait 54.9s more, min interval: 60s)
2025-10-19 01:45:42,915 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 01:45:42,916 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 01:45:42,916 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 01:45:42,916 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 01:45:42,917 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 01:45:42,918 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 01:45:42,919 INFO ‚úÖ Saved analysis to history (id: 1760863542918)
2025-10-19 01:45:42,919 INFO multi-llm analysis completed id=Fault-1
2025-10-19 01:45:48,293 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:45:52,504 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:45:56,702 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:00,906 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:05,106 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:09,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:13,518 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:13,838 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863573.838374, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:46:13,848 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:46:13,848 WARNING üö´ LLM request blocked: Too soon (wait 21.9s more, min interval: 60s)
2025-10-19 01:46:17,722 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:21,930 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:22,954 INFO ‚úÖ LLM analysis completed in 47.24s
2025-10-19 01:46:22,956 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:46:22,956 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:46:22,957 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:46:22,957 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:46:22,957 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:46:22,959 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:46:22,959 INFO üîì LLM analysis flag cleared after 47.24s
2025-10-19 01:46:26,141 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.6s more, min interval: 60s)
2025-10-19 01:46:30,347 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.4s more, min interval: 60s)
2025-10-19 01:46:34,561 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.2s more, min interval: 60s)
2025-10-19 01:46:38,773 INFO ‚úÖ LLM request allowed - OK (last request 63.1s ago)
2025-10-19 01:46:38,773 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:46:38,774 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:46:38,774 INFO üîç Analysis flag set at 01:46:38
2025-10-19 01:46:38,774 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:46:43,878 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863603.8780138, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:46:43,887 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:46:43,887 WARNING üö´ LLM request blocked: Too soon (wait 54.9s more, min interval: 60s)
2025-10-19 01:46:51,414 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:55,633 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:46:59,848 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:04,067 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:08,288 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:12,513 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:16,736 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:16,916 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863636.9159591, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:47:16,925 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:47:16,925 WARNING üö´ LLM request blocked: Too soon (wait 21.8s more, min interval: 60s)
2025-10-19 01:47:20,965 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:25,190 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:29,421 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:33,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:37,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:42,119 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:47:42,725 INFO ‚úÖ LLM analysis completed in 63.95s
2025-10-19 01:47:42,727 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:47:42,728 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:47:42,729 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:47:42,729 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:47:42,729 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:47:42,731 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:47:42,731 INFO üîì LLM analysis flag cleared after 63.96s
2025-10-19 01:47:46,352 INFO ‚úÖ LLM request allowed - OK (last request 67.6s ago)
2025-10-19 01:47:46,353 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:47:46,353 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:47:46,353 INFO üîç Analysis flag set at 01:47:46
2025-10-19 01:47:46,353 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:47:46,951 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863666.9508748, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:47:46,960 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:47:46,960 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-19 01:47:59,063 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:03,300 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:07,539 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:11,784 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:16,032 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:16,986 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863696.986206, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:48:16,996 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:48:16,996 WARNING üö´ LLM request blocked: Too soon (wait 29.4s more, min interval: 60s)
2025-10-19 01:48:20,279 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:24,531 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:28,787 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:33,040 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:37,292 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:41,548 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:45,817 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:50,071 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:51,058 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863731.058741, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:48:51,069 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:48:51,069 INFO ‚úÖ LLM request allowed: OK (last request 64.7s ago)
2025-10-19 01:48:51,069 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 01:48:51,070 INFO feature comparison prepared
2025-10-19 01:48:54,332 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:48:58,594 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:49:02,203 INFO ‚úÖ LLM analysis completed in 75.85s
2025-10-19 01:49:02,204 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:49:02,205 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:49:02,205 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:49:02,206 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:49:02,206 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:49:02,207 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:49:02,207 INFO üîì LLM analysis flag cleared after 75.85s
2025-10-19 01:49:02,856 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.2s more, min interval: 60s)
2025-10-19 01:49:07,118 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.0s more, min interval: 60s)
2025-10-19 01:49:11,383 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 39.7s more, min interval: 60s)
2025-10-19 01:49:15,653 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 35.4s more, min interval: 60s)
2025-10-19 01:49:19,925 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 31.1s more, min interval: 60s)
2025-10-19 01:49:24,189 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.9s more, min interval: 60s)
2025-10-19 01:49:25,105 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863765.105773, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:49:25,109 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:49:25,109 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-19 01:49:28,465 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.6s more, min interval: 60s)
2025-10-19 01:49:32,739 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.3s more, min interval: 60s)
2025-10-19 01:49:37,013 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.1s more, min interval: 60s)
2025-10-19 01:49:41,287 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.8s more, min interval: 60s)
2025-10-19 01:49:45,565 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.5s more, min interval: 60s)
2025-10-19 01:49:49,847 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.2s more, min interval: 60s)
2025-10-19 01:49:54,128 INFO ‚úÖ LLM request allowed - OK (last request 63.1s ago)
2025-10-19 01:49:54,128 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:49:54,129 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:49:54,129 INFO üîç Analysis flag set at 01:49:54
2025-10-19 01:49:54,129 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:49:56,255 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 01:49:56,255 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 01:49:56,255 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 01:49:56,255 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 01:49:56,256 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 01:49:56,257 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 01:49:56,258 INFO ‚úÖ Saved analysis to history (id: 1760863796257)
2025-10-19 01:49:56,258 INFO multi-llm analysis completed id=Fault-1
2025-10-19 01:49:59,191 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863799.1910348, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:49:59,201 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:49:59,201 WARNING üö´ LLM request blocked: Too soon (wait 54.9s more, min interval: 60s)
2025-10-19 01:50:06,975 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:11,261 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:15,554 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:19,839 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:24,121 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:28,412 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:29,237 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863829.237233, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:50:29,249 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:50:29,249 WARNING üö´ LLM request blocked: Too soon (wait 24.9s more, min interval: 60s)
2025-10-19 01:50:32,707 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:36,999 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:41,294 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:50:44,084 INFO ‚úÖ LLM analysis completed in 49.95s
2025-10-19 01:50:44,084 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:50:44,084 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:50:44,085 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:50:44,085 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:50:44,085 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:50:44,086 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:50:44,086 INFO üîì LLM analysis flag cleared after 49.96s
2025-10-19 01:50:45,590 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.5s more, min interval: 60s)
2025-10-19 01:50:49,888 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-19 01:50:54,183 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-19 01:50:54,184 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:50:54,185 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:50:54,185 INFO üîç Analysis flag set at 01:50:54
2025-10-19 01:50:54,185 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:50:59,304 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863859.304329, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:50:59,315 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:50:59,315 WARNING üö´ LLM request blocked: Too soon (wait 54.9s more, min interval: 60s)
2025-10-19 01:51:07,093 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:11,396 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:15,697 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:20,005 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:24,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:28,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:29,360 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863889.360123, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:51:29,371 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:51:29,371 WARNING üö´ LLM request blocked: Too soon (wait 24.8s more, min interval: 60s)
2025-10-19 01:51:32,934 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:37,246 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:41,565 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:51:43,674 INFO ‚úÖ LLM analysis completed in 49.49s
2025-10-19 01:51:43,676 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:51:43,676 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:51:43,676 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:51:43,676 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:51:43,676 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:51:43,677 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:51:43,677 INFO üîì LLM analysis flag cleared after 49.49s
2025-10-19 01:51:45,910 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.3s more, min interval: 60s)
2025-10-19 01:51:50,226 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.0s more, min interval: 60s)
2025-10-19 01:51:54,542 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 01:51:54,543 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:51:54,543 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:51:54,543 INFO üîç Analysis flag set at 01:51:54
2025-10-19 01:51:54,543 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:51:59,418 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863919.418705, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:51:59,427 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:51:59,428 WARNING üö´ LLM request blocked: Too soon (wait 55.1s more, min interval: 60s)
2025-10-19 01:52:07,509 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:11,839 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:16,182 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:20,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:24,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:29,170 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:29,471 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863949.471383, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:52:29,481 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:52:29,481 WARNING üö´ LLM request blocked: Too soon (wait 25.1s more, min interval: 60s)
2025-10-19 01:52:33,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:37,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:42,176 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:46,510 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:50,858 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:52:51,159 INFO ‚úÖ LLM analysis completed in 56.62s
2025-10-19 01:52:51,161 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 01:52:51,161 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 01:52:51,162 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 01:52:51,162 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 01:52:51,162 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 01:52:51,164 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 01:52:51,164 INFO üîì LLM analysis flag cleared after 56.62s
2025-10-19 01:52:55,203 INFO ‚úÖ LLM request allowed - OK (last request 60.7s ago)
2025-10-19 01:52:55,204 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 01:52:55,204 INFO ü§ñ Starting background LLM analysis...
2025-10-19 01:52:55,204 INFO üîç Analysis flag set at 01:52:55
2025-10-19 01:52:55,204 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 01:53:00,508 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760863980.50831, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:53:00,517 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:53:00,517 WARNING üö´ LLM request blocked: Too soon (wait 54.7s more, min interval: 60s)
2025-10-19 01:53:08,211 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:12,557 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:16,902 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:21,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:25,597 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:29,950 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:30,662 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760864010.662712, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:53:30,890 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:53:30,890 WARNING üö´ LLM request blocked: Too soon (wait 24.3s more, min interval: 60s)
2025-10-19 01:53:34,286 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:38,645 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:42,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:47,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:51,699 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:53:56,061 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:54:00,418 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:54:00,721 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760864040.721735, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 01:54:00,784 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 01:54:00,784 INFO ‚úÖ LLM request allowed: OK (last request 65.6s ago)
2025-10-19 01:54:00,784 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 01:54:00,789 INFO feature comparison prepared
2025-10-19 01:54:04,775 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:54:09,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:54:13,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:54:17,845 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 01:54:22,204 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:10:40,068 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:10:40,208 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865040.208425, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:10:40,244 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:10:40,244 INFO ‚úÖ LLM request allowed: OK (last request 999.5s ago)
2025-10-19 02:10:40,244 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 02:10:40,248 INFO feature comparison prepared
2025-10-19 02:10:44,442 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:10:48,817 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:10:53,299 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:10:57,672 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:02,050 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:06,425 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:10,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:11,376 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865071.376707, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:11:11,398 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:11:11,398 WARNING üö´ LLM request blocked: Too soon (wait 28.8s more, min interval: 60s)
2025-10-19 02:11:15,188 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:19,570 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:23,958 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:28,344 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:32,732 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:37,128 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:41,518 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:42,529 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865102.528831, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:11:42,598 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:11:42,598 INFO ‚úÖ LLM request allowed: OK (last request 62.4s ago)
2025-10-19 02:11:42,598 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 02:11:42,600 INFO feature comparison prepared
2025-10-19 02:11:45,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:50,302 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:54,697 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:11:59,093 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:12:03,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:12:07,887 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:12:08,815 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 02:12:08,815 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:12:08,817 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:12:08,817 INFO üîì LLM analysis flag cleared after 1153.61s
2025-10-19 02:12:12,287 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.3s more, min interval: 60s)
2025-10-19 02:12:12,500 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 02:12:12,501 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 02:12:12,501 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 02:12:12,501 INFO üìä anthropic - status: error, has_analysis: True
2025-10-19 02:12:12,502 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 02:12:12,503 INFO ‚úÖ Saved analysis to history (id: 1760865132502)
2025-10-19 02:12:12,503 INFO multi-llm analysis completed id=Fault-1
2025-10-19 02:12:16,688 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.9s more, min interval: 60s)
2025-10-19 02:12:17,600 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865137.60015, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:12:17,671 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:12:17,672 WARNING üö´ LLM request blocked: Too soon (wait 24.9s more, min interval: 60s)
2025-10-19 02:12:21,095 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.5s more, min interval: 60s)
2025-10-19 02:12:25,497 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-19 02:12:29,905 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.7s more, min interval: 60s)
2025-10-19 02:12:34,315 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.3s more, min interval: 60s)
2025-10-19 02:12:35,241 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 02:12:35,242 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 02:12:35,242 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 02:12:35,242 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 02:12:35,243 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 02:12:35,244 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 02:12:35,245 INFO ‚úÖ Saved analysis to history (id: 1760865155245)
2025-10-19 02:12:35,245 INFO multi-llm analysis completed id=Fault-1
2025-10-19 02:12:38,724 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.9s more, min interval: 60s)
2025-10-19 02:12:43,132 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-19 02:12:43,133 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:12:43,133 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:12:43,133 INFO üîç Analysis flag set at 02:12:43
2025-10-19 02:12:43,133 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:12:48,654 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865168.654562, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:12:48,718 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:12:48,718 WARNING üö´ LLM request blocked: Too soon (wait 54.4s more, min interval: 60s)
2025-10-19 02:12:56,369 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:00,073 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 02:13:00,073 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 02:13:00,073 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 02:13:00,073 INFO üìä anthropic - status: error, has_analysis: True
2025-10-19 02:13:00,073 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 02:13:00,073 INFO ‚úÖ Saved analysis to history (id: 1760865180073)
2025-10-19 02:13:00,073 INFO multi-llm analysis completed id=Fault-1
2025-10-19 02:13:00,784 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:05,199 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:09,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:14,032 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:18,455 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:18,722 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865198.72172, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:13:18,788 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:13:18,789 WARNING üö´ LLM request blocked: Too soon (wait 24.3s more, min interval: 60s)
2025-10-19 02:13:22,878 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:27,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:13:28,787 INFO ‚úÖ LLM analysis completed in 45.65s
2025-10-19 02:13:28,789 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:13:28,789 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:13:28,790 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:13:28,790 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:13:28,790 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:13:28,793 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:13:28,793 INFO üîì LLM analysis flag cleared after 45.66s
2025-10-19 02:13:31,730 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.4s more, min interval: 60s)
2025-10-19 02:13:36,155 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-19 02:13:40,585 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.5s more, min interval: 60s)
2025-10-19 02:13:45,005 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-19 02:13:45,005 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:13:45,006 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:13:45,006 INFO üîç Analysis flag set at 02:13:45
2025-10-19 02:13:45,006 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:13:49,758 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865229.757972, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:13:49,822 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:13:49,823 WARNING üö´ LLM request blocked: Too soon (wait 55.2s more, min interval: 60s)
2025-10-19 02:13:58,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:02,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:07,171 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:11,610 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:16,047 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:20,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:20,833 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865260.833354, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:14:20,895 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:14:20,896 WARNING üö´ LLM request blocked: Too soon (wait 24.1s more, min interval: 60s)
2025-10-19 02:14:24,931 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:29,372 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:33,806 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:38,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:42,689 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:47,139 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:51,590 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:14:51,905 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865291.9048388, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:14:51,968 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:14:51,968 INFO ‚úÖ LLM request allowed: OK (last request 67.0s ago)
2025-10-19 02:14:51,969 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 02:14:51,974 INFO feature comparison prepared
2025-10-19 02:14:56,044 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:15:00,495 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:15:04,946 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:15:06,097 INFO ‚úÖ LLM analysis completed in 81.09s
2025-10-19 02:15:06,099 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:15:06,100 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:15:06,100 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:15:06,101 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:15:06,101 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:15:06,103 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:15:06,103 INFO üîì LLM analysis flag cleared after 81.10s
2025-10-19 02:15:09,400 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.6s more, min interval: 60s)
2025-10-19 02:15:13,858 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.1s more, min interval: 60s)
2025-10-19 02:15:18,315 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.7s more, min interval: 60s)
2025-10-19 02:15:22,778 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.2s more, min interval: 60s)
2025-10-19 02:15:22,890 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865322.889945, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:15:22,913 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:15:22,913 WARNING üö´ LLM request blocked: Too soon (wait 29.1s more, min interval: 60s)
2025-10-19 02:15:27,241 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.7s more, min interval: 60s)
2025-10-19 02:15:31,689 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.3s more, min interval: 60s)
2025-10-19 02:15:36,159 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.8s more, min interval: 60s)
2025-10-19 02:15:40,624 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.3s more, min interval: 60s)
2025-10-19 02:15:45,094 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.9s more, min interval: 60s)
2025-10-19 02:15:49,553 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-19 02:15:54,023 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-19 02:15:54,023 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:15:54,024 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:15:54,024 INFO üîç Analysis flag set at 02:15:54
2025-10-19 02:15:54,024 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:15:55,012 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865355.012455, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:15:55,079 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:15:55,079 WARNING üö´ LLM request blocked: Too soon (wait 58.9s more, min interval: 60s)
2025-10-19 02:15:57,578 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 02:15:57,578 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 02:15:57,578 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 02:15:57,578 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 02:15:57,580 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 02:15:57,581 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 02:15:57,582 INFO ‚úÖ Saved analysis to history (id: 1760865357581)
2025-10-19 02:15:57,582 INFO multi-llm analysis completed id=Fault-1
2025-10-19 02:16:07,454 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:11,929 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:16,404 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:20,885 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:25,377 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:26,082 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865386.082347, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:16:26,134 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:16:26,135 WARNING üö´ LLM request blocked: Too soon (wait 27.9s more, min interval: 60s)
2025-10-19 02:16:29,856 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:34,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:38,817 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:43,297 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:47,782 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:52,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:56,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:16:56,971 INFO ‚úÖ LLM analysis completed in 62.95s
2025-10-19 02:16:56,973 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:16:56,974 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:16:56,975 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:16:56,975 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:16:56,975 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:16:56,977 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:16:56,977 INFO üîì LLM analysis flag cleared after 62.95s
2025-10-19 02:16:57,154 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760865417.154098, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:16:57,208 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:16:57,208 INFO ‚úÖ LLM request allowed: OK (last request 63.2s ago)
2025-10-19 02:16:57,209 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 02:16:57,212 INFO feature comparison prepared
2025-10-19 02:17:01,248 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.0s more, min interval: 60s)
2025-10-19 02:17:05,739 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 51.5s more, min interval: 60s)
2025-10-19 02:17:10,233 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 47.0s more, min interval: 60s)
2025-10-19 02:17:14,720 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.5s more, min interval: 60s)
2025-10-19 02:17:19,245 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.0s more, min interval: 60s)
2025-10-19 02:17:23,742 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.5s more, min interval: 60s)
2025-10-19 02:17:28,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 02:17:32,743 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.5s more, min interval: 60s)
2025-10-19 02:17:37,257 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.0s more, min interval: 60s)
2025-10-19 02:17:41,755 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.5s more, min interval: 60s)
2025-10-19 02:17:46,258 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.0s more, min interval: 60s)
2025-10-19 02:17:50,765 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-19 02:17:55,275 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.9s more, min interval: 60s)
2025-10-19 02:17:59,786 INFO ‚úÖ LLM request allowed - OK (last request 62.6s ago)
2025-10-19 02:17:59,787 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:17:59,787 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:17:59,787 INFO üîç Analysis flag set at 02:17:59
2025-10-19 02:17:59,787 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:18:13,331 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:17,847 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:22,388 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:26,903 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:27,186 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 02:18:27,186 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 02:18:27,186 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 02:18:27,186 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 02:18:27,187 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 02:18:27,188 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 02:18:27,189 INFO ‚úÖ Saved analysis to history (id: 1760865507188)
2025-10-19 02:18:27,189 INFO multi-llm analysis completed id=Fault-1
2025-10-19 02:18:31,423 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:35,947 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:40,470 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:44,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:49,517 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:54,041 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:58,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:18:59,548 INFO ‚úÖ LLM analysis completed in 59.76s
2025-10-19 02:18:59,550 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:18:59,550 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:18:59,550 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:18:59,550 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:18:59,551 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:18:59,552 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:18:59,553 INFO üîì LLM analysis flag cleared after 59.77s
2025-10-19 02:19:03,097 INFO ‚úÖ LLM request allowed - OK (last request 63.3s ago)
2025-10-19 02:19:03,097 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:19:03,098 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:19:03,098 INFO üîç Analysis flag set at 02:19:03
2025-10-19 02:19:03,098 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:19:16,687 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:21,222 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:25,762 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:30,300 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:34,837 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:39,376 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:43,917 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:48,458 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:53,001 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:19:57,544 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:02,096 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:02,729 INFO ‚úÖ LLM analysis completed in 59.63s
2025-10-19 02:20:02,731 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:20:02,732 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:20:02,732 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:20:02,733 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:20:02,733 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:20:02,735 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:20:02,735 INFO üîì LLM analysis flag cleared after 59.64s
2025-10-19 02:20:06,647 INFO ‚úÖ LLM request allowed - OK (last request 63.5s ago)
2025-10-19 02:20:06,648 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:20:06,649 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:20:06,649 INFO üîç Analysis flag set at 02:20:06
2025-10-19 02:20:06,649 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:20:20,297 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:24,853 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:29,409 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:33,963 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:38,520 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:43,078 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:47,642 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:52,260 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:56,826 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:20:59,868 INFO ‚úÖ LLM analysis completed in 53.22s
2025-10-19 02:20:59,870 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:20:59,870 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:20:59,871 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:20:59,871 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:20:59,871 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:20:59,873 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:20:59,873 INFO üîì LLM analysis flag cleared after 53.22s
2025-10-19 02:21:01,397 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.3s more, min interval: 60s)
2025-10-19 02:21:05,965 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-19 02:21:10,534 INFO ‚úÖ LLM request allowed - OK (last request 63.9s ago)
2025-10-19 02:21:10,534 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:21:10,535 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:21:10,535 INFO üîç Analysis flag set at 02:21:10
2025-10-19 02:21:10,535 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:21:24,252 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:28,851 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:33,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:38,002 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:42,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:47,163 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:51,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:21:56,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:00,908 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:05,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:10,074 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:14,662 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:19,250 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:23,842 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:27,016 INFO ‚úÖ LLM analysis completed in 76.48s
2025-10-19 02:22:27,018 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:22:27,018 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:22:27,019 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:22:27,019 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:22:27,019 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:22:27,021 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:22:27,021 INFO üîì LLM analysis flag cleared after 76.49s
2025-10-19 02:22:28,437 INFO ‚úÖ LLM request allowed - OK (last request 77.9s ago)
2025-10-19 02:22:28,438 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:22:28,438 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:22:28,438 INFO üîç Analysis flag set at 02:22:28
2025-10-19 02:22:28,438 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:22:42,261 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:46,858 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:51,455 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:22:56,053 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:23:00,656 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:23:05,254 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:23:07,462 INFO ‚úÖ LLM analysis completed in 39.02s
2025-10-19 02:23:07,464 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:23:07,465 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:23:07,466 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:23:07,466 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:23:07,467 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:23:07,468 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:23:07,469 INFO üîì LLM analysis flag cleared after 39.03s
2025-10-19 02:23:09,859 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.6s more, min interval: 60s)
2025-10-19 02:23:14,466 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.0s more, min interval: 60s)
2025-10-19 02:23:19,079 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.4s more, min interval: 60s)
2025-10-19 02:23:23,689 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.7s more, min interval: 60s)
2025-10-19 02:23:28,304 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.1s more, min interval: 60s)
2025-10-19 02:23:32,916 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 02:23:32,917 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:23:32,917 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:23:32,917 INFO üîç Analysis flag set at 02:23:32
2025-10-19 02:23:32,917 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:23:46,767 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:23:51,385 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:23:56,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:00,632 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:05,255 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:09,882 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:14,508 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:19,157 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:23,785 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:28,415 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:33,041 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:34,093 INFO ‚úÖ LLM analysis completed in 61.18s
2025-10-19 02:24:34,095 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:24:34,096 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:24:34,096 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:24:34,097 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:24:34,097 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:24:34,099 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:24:34,099 INFO üîì LLM analysis flag cleared after 61.18s
2025-10-19 02:24:37,679 INFO ‚úÖ LLM request allowed - OK (last request 64.8s ago)
2025-10-19 02:24:37,680 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:24:37,681 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:24:37,681 INFO üîç Analysis flag set at 02:24:37
2025-10-19 02:24:37,681 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:24:51,577 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:24:56,210 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:00,849 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:05,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:10,127 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:14,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:19,414 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:24,064 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:28,716 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:33,368 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:38,008 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:42,645 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:25:44,750 INFO ‚úÖ LLM analysis completed in 67.07s
2025-10-19 02:25:44,752 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:25:44,752 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:25:44,753 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:25:44,753 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:25:44,753 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:25:44,755 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:25:44,755 INFO üîì LLM analysis flag cleared after 67.07s
2025-10-19 02:25:47,306 INFO ‚úÖ LLM request allowed - OK (last request 69.6s ago)
2025-10-19 02:25:47,307 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:25:47,307 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:25:47,307 INFO üîç Analysis flag set at 02:25:47
2025-10-19 02:25:47,307 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:26:01,275 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:05,937 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:10,594 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:15,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:19,913 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:24,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:29,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:33,913 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:26:37,896 INFO ‚úÖ LLM analysis completed in 50.59s
2025-10-19 02:26:37,896 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:26:37,896 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:26:37,896 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:26:37,896 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:26:37,896 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:26:37,897 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:26:37,897 INFO üîì LLM analysis flag cleared after 50.59s
2025-10-19 02:26:38,585 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.7s more, min interval: 60s)
2025-10-19 02:26:43,260 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.0s more, min interval: 60s)
2025-10-19 02:26:47,934 INFO ‚úÖ LLM request allowed - OK (last request 60.6s ago)
2025-10-19 02:26:47,935 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:26:47,935 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:26:47,935 INFO üîç Analysis flag set at 02:26:47
2025-10-19 02:26:47,935 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:27:01,951 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:06,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:11,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:15,983 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:20,659 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:25,343 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:30,028 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:34,718 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:39,409 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:44,097 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:27:44,149 INFO ‚úÖ LLM analysis completed in 56.21s
2025-10-19 02:27:44,149 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:27:44,149 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:27:44,150 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:27:44,150 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:27:44,150 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:27:44,150 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:27:44,150 INFO üîì LLM analysis flag cleared after 56.21s
2025-10-19 02:27:48,789 INFO ‚úÖ LLM request allowed - OK (last request 60.9s ago)
2025-10-19 02:27:48,790 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:27:48,790 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:27:48,790 INFO üîç Analysis flag set at 02:27:48
2025-10-19 02:27:48,790 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:28:02,891 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:07,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:12,278 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:16,973 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:21,677 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:26,378 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:31,078 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:35,786 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:40,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:45,198 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:49,910 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:54,663 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:28:59,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:00,033 INFO ‚úÖ LLM analysis completed in 71.24s
2025-10-19 02:29:00,036 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:29:00,036 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:29:00,038 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:29:00,038 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:29:00,038 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:29:00,040 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:29:00,040 INFO üîì LLM analysis flag cleared after 71.25s
2025-10-19 02:29:04,096 INFO ‚úÖ LLM request allowed - OK (last request 75.3s ago)
2025-10-19 02:29:04,097 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:29:04,097 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:29:04,097 INFO üîç Analysis flag set at 02:29:04
2025-10-19 02:29:04,097 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:29:18,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:22,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:27,695 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:32,417 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:37,148 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:41,873 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:46,635 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:29:49,083 INFO ‚úÖ LLM analysis completed in 44.99s
2025-10-19 02:29:49,085 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:29:49,085 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:29:49,086 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:29:49,086 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:29:49,086 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:29:49,088 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:29:49,088 INFO üîì LLM analysis flag cleared after 44.99s
2025-10-19 02:29:51,364 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.7s more, min interval: 60s)
2025-10-19 02:29:56,095 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.0s more, min interval: 60s)
2025-10-19 02:30:00,823 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.3s more, min interval: 60s)
2025-10-19 02:30:05,552 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-19 02:30:05,552 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:30:05,553 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:30:05,553 INFO üîç Analysis flag set at 02:30:05
2025-10-19 02:30:05,553 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:30:19,757 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:24,495 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:29,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:33,970 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:38,710 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:43,452 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:48,197 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:52,945 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:30:53,803 INFO ‚úÖ LLM analysis completed in 48.25s
2025-10-19 02:30:53,805 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:30:53,805 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:30:53,806 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:30:53,806 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:30:53,806 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:30:53,808 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:30:53,808 INFO üîì LLM analysis flag cleared after 48.26s
2025-10-19 02:30:57,696 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-19 02:31:02,474 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.1s more, min interval: 60s)
2025-10-19 02:31:07,227 INFO ‚úÖ LLM request allowed - OK (last request 61.7s ago)
2025-10-19 02:31:07,228 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:31:07,229 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:31:07,229 INFO üîç Analysis flag set at 02:31:07
2025-10-19 02:31:07,229 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:31:21,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:26,248 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:31,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:35,765 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:40,528 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:45,293 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:50,057 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:54,819 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:31:59,577 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:00,214 INFO ‚úÖ LLM analysis completed in 52.99s
2025-10-19 02:32:00,216 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:32:00,216 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:32:00,217 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:32:00,217 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:32:00,218 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:32:00,219 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:32:00,219 INFO üîì LLM analysis flag cleared after 52.99s
2025-10-19 02:32:04,348 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.9s more, min interval: 60s)
2025-10-19 02:32:09,117 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-19 02:32:09,118 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:32:09,118 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:32:09,118 INFO üîç Analysis flag set at 02:32:09
2025-10-19 02:32:09,118 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:32:23,428 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:28,205 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:32,981 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:37,766 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:42,546 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:47,316 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:52,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:32:55,658 INFO ‚úÖ LLM analysis completed in 46.54s
2025-10-19 02:32:55,660 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:32:55,660 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:32:55,661 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:32:55,661 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:32:55,661 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:32:55,662 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:32:55,662 INFO üîì LLM analysis flag cleared after 46.54s
2025-10-19 02:32:56,886 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.2s more, min interval: 60s)
2025-10-19 02:33:01,672 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.4s more, min interval: 60s)
2025-10-19 02:33:06,460 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-19 02:33:11,247 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-19 02:33:11,248 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:33:11,248 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:33:11,248 INFO üîç Analysis flag set at 02:33:11
2025-10-19 02:33:11,248 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:33:25,619 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:30,414 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:35,210 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:40,008 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:44,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:49,606 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:54,410 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:33:59,209 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:04,017 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:08,826 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:13,636 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:18,445 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:23,250 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:26,389 INFO ‚úÖ LLM analysis completed in 75.14s
2025-10-19 02:34:26,391 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:34:26,391 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:34:26,392 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:34:26,392 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:34:26,392 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:34:26,394 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:34:26,394 INFO üîì LLM analysis flag cleared after 75.15s
2025-10-19 02:34:28,063 INFO ‚úÖ LLM request allowed - OK (last request 76.8s ago)
2025-10-19 02:34:28,063 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:34:28,064 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:34:28,064 INFO üîç Analysis flag set at 02:34:28
2025-10-19 02:34:28,064 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:34:42,508 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:47,329 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:52,146 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:34:56,967 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:01,789 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:06,613 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:11,436 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:16,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:21,087 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:25,915 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:27,320 INFO ‚úÖ LLM analysis completed in 59.26s
2025-10-19 02:35:27,323 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:35:27,323 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:35:27,324 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:35:27,324 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:35:27,324 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:35:27,326 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:35:27,326 INFO üîì LLM analysis flag cleared after 59.26s
2025-10-19 02:35:30,746 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 02:35:30,747 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:35:30,748 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:35:30,748 INFO üîç Analysis flag set at 02:35:30
2025-10-19 02:35:30,748 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:35:45,317 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:50,158 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:54,991 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:35:59,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:04,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:09,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:14,334 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:19,173 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:24,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:28,885 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:33,732 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:38,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:43,431 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:48,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:53,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:36:54,974 INFO ‚úÖ LLM analysis completed in 84.23s
2025-10-19 02:36:54,976 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:36:54,976 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:36:54,977 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:36:54,978 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:36:54,978 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:36:54,980 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:36:54,980 INFO üîì LLM analysis flag cleared after 84.23s
2025-10-19 02:36:57,988 INFO ‚úÖ LLM request allowed - OK (last request 87.2s ago)
2025-10-19 02:36:57,989 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:36:57,989 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:36:57,989 INFO üîç Analysis flag set at 02:36:57
2025-10-19 02:36:57,989 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:37:09,081 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760866629.0816169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:37:09,193 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:37:09,193 WARNING üö´ LLM request blocked: Too soon (wait 48.8s more, min interval: 60s)
2025-10-19 02:37:12,565 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:17,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:22,286 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:27,147 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:32,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:36,881 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:41,734 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:46,603 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:51,470 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:37:56,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:01,211 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:06,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:10,957 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:15,831 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:18,227 INFO ‚úÖ LLM analysis completed in 80.24s
2025-10-19 02:38:18,229 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:38:18,229 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:38:18,230 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:38:18,231 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:38:18,231 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:38:18,233 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:38:18,233 INFO üîì LLM analysis flag cleared after 80.24s
2025-10-19 02:38:20,714 INFO ‚úÖ LLM request allowed - OK (last request 82.7s ago)
2025-10-19 02:38:20,714 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:38:20,715 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:38:20,715 INFO üîç Analysis flag set at 02:38:20
2025-10-19 02:38:20,715 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:38:35,351 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:40,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:45,101 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:49,983 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:54,866 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:38:59,755 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:04,642 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:09,539 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:14,434 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:19,326 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:20,333 INFO ‚úÖ LLM analysis completed in 59.62s
2025-10-19 02:39:20,334 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:39:20,334 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:39:20,334 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:39:20,334 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:39:20,334 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:39:20,335 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:39:20,335 INFO üîì LLM analysis flag cleared after 59.62s
2025-10-19 02:39:24,221 INFO ‚úÖ LLM request allowed - OK (last request 63.5s ago)
2025-10-19 02:39:24,222 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:39:24,222 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:39:24,222 INFO üîç Analysis flag set at 02:39:24
2025-10-19 02:39:24,222 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:39:38,919 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:43,823 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:48,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:53,637 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:39:58,545 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:40:03,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:40:05,543 INFO ‚úÖ LLM analysis completed in 41.32s
2025-10-19 02:40:05,545 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:40:05,545 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:40:05,546 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:40:05,546 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:40:05,546 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:40:05,548 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:40:05,548 INFO üîì LLM analysis flag cleared after 41.33s
2025-10-19 02:40:08,363 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.9s more, min interval: 60s)
2025-10-19 02:40:13,270 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.0s more, min interval: 60s)
2025-10-19 02:40:18,181 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-19 02:40:23,090 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.1s more, min interval: 60s)
2025-10-19 02:40:28,007 INFO ‚úÖ LLM request allowed - OK (last request 63.8s ago)
2025-10-19 02:40:28,008 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:40:28,008 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:40:28,008 INFO üîç Analysis flag set at 02:40:28
2025-10-19 02:40:28,008 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:40:42,819 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:40:47,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:40:52,651 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:40:57,572 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:02,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:07,416 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:12,345 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:17,272 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:22,205 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:27,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:29,924 INFO ‚úÖ LLM analysis completed in 61.92s
2025-10-19 02:41:29,926 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:41:29,926 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:41:29,927 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:41:29,927 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:41:29,927 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:41:29,929 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:41:29,929 INFO üîì LLM analysis flag cleared after 61.92s
2025-10-19 02:41:32,052 INFO ‚úÖ LLM request allowed - OK (last request 64.0s ago)
2025-10-19 02:41:32,053 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:41:32,053 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:41:32,053 INFO üîç Analysis flag set at 02:41:32
2025-10-19 02:41:32,053 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:41:46,847 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:51,781 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:41:56,716 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:01,658 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:06,600 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:11,543 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:16,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:21,439 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:21,944 INFO ‚úÖ LLM analysis completed in 49.89s
2025-10-19 02:42:21,946 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:42:21,947 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:42:21,947 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:42:21,947 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:42:21,948 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:42:21,949 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:42:21,950 INFO üîì LLM analysis flag cleared after 49.90s
2025-10-19 02:42:26,389 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.7s more, min interval: 60s)
2025-10-19 02:42:31,341 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-19 02:42:36,292 INFO ‚úÖ LLM request allowed - OK (last request 64.2s ago)
2025-10-19 02:42:36,293 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:42:36,294 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:42:36,294 INFO üîç Analysis flag set at 02:42:36
2025-10-19 02:42:36,294 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:42:51,154 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:42:56,108 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:01,063 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:06,016 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:10,969 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:15,931 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:20,891 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:25,855 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:30,820 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:35,784 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:43:37,002 INFO ‚úÖ LLM analysis completed in 60.71s
2025-10-19 02:43:37,004 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:43:37,004 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:43:37,004 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:43:37,004 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:43:37,005 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:43:37,005 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:43:37,006 INFO üîì LLM analysis flag cleared after 60.71s
2025-10-19 02:43:40,754 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 02:43:40,755 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:43:40,756 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:43:40,756 INFO üîç Analysis flag set at 02:43:40
2025-10-19 02:43:40,756 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:43:55,661 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:00,635 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:05,605 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:10,586 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:15,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:20,546 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:25,530 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:30,514 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:35,503 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:40,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:45,470 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:50,453 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:44:55,442 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:00,443 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:01,370 INFO ‚úÖ LLM analysis completed in 80.61s
2025-10-19 02:45:01,371 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:45:01,371 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:45:01,371 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:45:01,371 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:45:01,372 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:45:01,373 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:45:01,373 INFO üîì LLM analysis flag cleared after 80.62s
2025-10-19 02:45:05,432 INFO ‚úÖ LLM request allowed - OK (last request 84.7s ago)
2025-10-19 02:45:05,433 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:45:05,433 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:45:05,433 INFO üîç Analysis flag set at 02:45:05
2025-10-19 02:45:05,433 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:45:20,427 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:25,425 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:30,425 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:35,471 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:40,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:45,476 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:50,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:45:55,487 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:00,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:02,210 INFO ‚úÖ LLM analysis completed in 56.78s
2025-10-19 02:46:02,211 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:46:02,211 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:46:02,211 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:46:02,211 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:46:02,211 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:46:02,212 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:46:02,212 INFO üîì LLM analysis flag cleared after 56.78s
2025-10-19 02:46:05,511 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-19 02:46:05,512 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:46:05,512 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:46:05,512 INFO üîç Analysis flag set at 02:46:05
2025-10-19 02:46:05,512 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:46:20,540 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:25,553 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:30,569 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:35,584 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:40,603 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:45,622 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:50,640 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:46:55,654 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:00,672 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:05,692 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:10,722 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:15,754 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:17,519 INFO ‚úÖ LLM analysis completed in 72.01s
2025-10-19 02:47:17,519 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:47:17,520 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:47:17,520 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:47:17,520 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:47:17,520 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:47:17,521 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:47:17,521 INFO üîì LLM analysis flag cleared after 72.01s
2025-10-19 02:47:20,780 INFO ‚úÖ LLM request allowed - OK (last request 75.3s ago)
2025-10-19 02:47:20,781 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:47:20,782 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:47:20,782 INFO üîç Analysis flag set at 02:47:20
2025-10-19 02:47:20,782 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:47:35,893 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:40,917 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:45,981 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:51,012 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:47:56,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:01,081 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:06,118 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:10,822 INFO ‚úÖ LLM analysis completed in 50.04s
2025-10-19 02:48:10,822 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:48:10,822 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:48:10,822 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:48:10,822 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:48:10,822 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:48:10,823 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:48:10,823 INFO üîì LLM analysis flag cleared after 50.04s
2025-10-19 02:48:11,160 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.6s more, min interval: 60s)
2025-10-19 02:48:16,198 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.6s more, min interval: 60s)
2025-10-19 02:48:21,245 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-19 02:48:21,246 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:48:21,247 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:48:21,247 INFO üîç Analysis flag set at 02:48:21
2025-10-19 02:48:21,247 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:48:36,385 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:41,433 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:46,491 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:51,547 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:48:56,603 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:01,664 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:06,724 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:07,866 INFO ‚úÖ LLM analysis completed in 46.62s
2025-10-19 02:49:07,868 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:49:07,868 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:49:07,869 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:49:07,870 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:49:07,870 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:49:07,872 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:49:07,872 INFO üîì LLM analysis flag cleared after 46.63s
2025-10-19 02:49:11,813 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.4s more, min interval: 60s)
2025-10-19 02:49:16,878 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.4s more, min interval: 60s)
2025-10-19 02:49:21,989 INFO ‚úÖ LLM request allowed - OK (last request 60.7s ago)
2025-10-19 02:49:21,990 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:49:21,990 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:49:21,990 INFO üîç Analysis flag set at 02:49:21
2025-10-19 02:49:21,990 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:49:37,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:42,255 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:47,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:52,399 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:49:57,493 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:50:02,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:50:06,232 INFO ‚úÖ LLM analysis completed in 44.24s
2025-10-19 02:50:06,232 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:50:06,233 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:50:06,233 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:50:06,233 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:50:06,233 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:50:06,233 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:50:06,233 INFO üîì LLM analysis flag cleared after 44.24s
2025-10-19 02:50:07,639 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.4s more, min interval: 60s)
2025-10-19 02:50:12,719 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.3s more, min interval: 60s)
2025-10-19 02:50:17,802 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-19 02:50:22,877 INFO ‚úÖ LLM request allowed - OK (last request 60.9s ago)
2025-10-19 02:50:22,878 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:50:22,878 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:50:22,878 INFO üîç Analysis flag set at 02:50:22
2025-10-19 02:50:22,878 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:50:38,176 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:50:43,261 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:50:48,370 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:50:53,460 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:50:58,552 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:03,637 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:08,734 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:11,260 INFO ‚úÖ LLM analysis completed in 48.38s
2025-10-19 02:51:11,261 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:51:11,262 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:51:11,262 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:51:11,262 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:51:11,262 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:51:11,264 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:51:11,264 INFO üîì LLM analysis flag cleared after 48.39s
2025-10-19 02:51:13,834 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.0s more, min interval: 60s)
2025-10-19 02:51:18,937 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.9s more, min interval: 60s)
2025-10-19 02:51:24,035 INFO ‚úÖ LLM request allowed - OK (last request 61.2s ago)
2025-10-19 02:51:24,036 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:51:24,037 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:51:24,037 INFO üîç Analysis flag set at 02:51:24
2025-10-19 02:51:24,037 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:51:39,390 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:44,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:49,600 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:54,712 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:51:59,821 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:04,933 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:10,047 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:15,166 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:20,281 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:20,894 INFO ‚úÖ LLM analysis completed in 56.86s
2025-10-19 02:52:20,896 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:52:20,896 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:52:20,897 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:52:20,897 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:52:20,898 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:52:20,899 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:52:20,899 INFO üîì LLM analysis flag cleared after 56.86s
2025-10-19 02:52:25,395 INFO ‚úÖ LLM request allowed - OK (last request 61.4s ago)
2025-10-19 02:52:25,396 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:52:25,397 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:52:25,397 INFO üîç Analysis flag set at 02:52:25
2025-10-19 02:52:25,397 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:52:40,750 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:45,876 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:51,002 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:52:56,130 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:01,259 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:06,393 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:11,525 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:16,658 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:21,789 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:26,924 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:32,062 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:37,201 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:42,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:47,482 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:53:52,425 INFO ‚úÖ LLM analysis completed in 87.03s
2025-10-19 02:53:52,426 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:53:52,426 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:53:52,426 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:53:52,426 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:53:52,426 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:53:52,426 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:53:52,426 INFO üîì LLM analysis flag cleared after 87.03s
2025-10-19 02:53:52,623 INFO ‚úÖ LLM request allowed - OK (last request 87.2s ago)
2025-10-19 02:53:52,624 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:53:52,624 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:53:52,624 INFO üîç Analysis flag set at 02:53:52
2025-10-19 02:53:52,624 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:54:08,052 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:13,196 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:18,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:23,490 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:28,644 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:33,822 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:38,966 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:44,118 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:49,270 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:54,446 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:54:59,604 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:04,765 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:09,927 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:15,092 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:15,821 INFO ‚úÖ LLM analysis completed in 83.20s
2025-10-19 02:55:15,822 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:55:15,823 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:55:15,823 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:55:15,823 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:55:15,824 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:55:15,825 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:55:15,825 INFO üîì LLM analysis flag cleared after 83.20s
2025-10-19 02:55:20,254 INFO ‚úÖ LLM request allowed - OK (last request 87.6s ago)
2025-10-19 02:55:20,254 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:55:20,255 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:55:20,255 INFO üîç Analysis flag set at 02:55:20
2025-10-19 02:55:20,255 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:55:35,826 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:40,981 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:46,153 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:51,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:55:56,503 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:01,682 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:06,862 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:12,036 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:17,221 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:18,774 INFO ‚úÖ LLM analysis completed in 58.52s
2025-10-19 02:56:18,775 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:56:18,775 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:56:18,776 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:56:18,776 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:56:18,776 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:56:18,777 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:56:18,777 INFO üîì LLM analysis flag cleared after 58.52s
2025-10-19 02:56:22,403 INFO ‚úÖ LLM request allowed - OK (last request 62.1s ago)
2025-10-19 02:56:22,403 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:56:22,404 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:56:22,404 INFO üîç Analysis flag set at 02:56:22
2025-10-19 02:56:22,404 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:56:37,961 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:43,142 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:48,331 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:53,520 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:56:58,709 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:03,896 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:09,079 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:14,274 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:19,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:24,077 INFO ‚úÖ LLM analysis completed in 61.67s
2025-10-19 02:57:24,077 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:57:24,077 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:57:24,077 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:57:24,077 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:57:24,077 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:57:24,078 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:57:24,078 INFO üîì LLM analysis flag cleared after 61.67s
2025-10-19 02:57:24,665 INFO ‚úÖ LLM request allowed - OK (last request 62.3s ago)
2025-10-19 02:57:24,666 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:57:24,666 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:57:24,666 INFO üîç Analysis flag set at 02:57:24
2025-10-19 02:57:24,666 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:57:40,271 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:45,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:50,688 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:57:55,899 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:58:01,112 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:58:06,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:58:10,563 INFO ‚úÖ LLM analysis completed in 45.90s
2025-10-19 02:58:10,563 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:58:10,563 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:58:10,563 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:58:10,563 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:58:10,564 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:58:10,564 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:58:10,564 INFO üîì LLM analysis flag cleared after 45.90s
2025-10-19 02:58:11,541 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.1s more, min interval: 60s)
2025-10-19 02:58:16,759 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-19 02:58:21,978 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-19 02:58:27,197 INFO ‚úÖ LLM request allowed - OK (last request 62.5s ago)
2025-10-19 02:58:27,197 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:58:27,198 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:58:27,198 INFO üîç Analysis flag set at 02:58:27
2025-10-19 02:58:27,198 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:58:42,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:58:48,106 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:58:53,332 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:58:54,660 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760867934.6603992, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 02:58:54,736 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 02:58:54,736 WARNING üö´ LLM request blocked: Too soon (wait 32.5s more, min interval: 60s)
2025-10-19 02:58:58,558 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:59:03,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:59:09,010 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:59:14,237 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:59:16,104 INFO ‚úÖ LLM analysis completed in 48.91s
2025-10-19 02:59:16,106 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 02:59:16,107 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 02:59:16,108 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 02:59:16,108 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 02:59:16,108 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 02:59:16,110 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 02:59:16,110 INFO üîì LLM analysis flag cleared after 48.91s
2025-10-19 02:59:19,465 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.7s more, min interval: 60s)
2025-10-19 02:59:24,697 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.5s more, min interval: 60s)
2025-10-19 02:59:29,925 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 02:59:29,926 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 02:59:29,926 INFO ü§ñ Starting background LLM analysis...
2025-10-19 02:59:29,926 INFO üîç Analysis flag set at 02:59:29
2025-10-19 02:59:29,926 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 02:59:45,614 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:59:50,852 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 02:59:56,093 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:01,335 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:06,582 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:11,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:17,074 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:21,943 INFO ‚úÖ LLM analysis completed in 52.02s
2025-10-19 03:00:21,943 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:00:21,943 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:00:21,943 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:00:21,943 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:00:21,943 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:00:21,944 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:00:21,944 INFO üîì LLM analysis flag cleared after 52.02s
2025-10-19 03:00:22,322 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.6s more, min interval: 60s)
2025-10-19 03:00:27,568 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-19 03:00:32,821 INFO ‚úÖ LLM request allowed - OK (last request 62.9s ago)
2025-10-19 03:00:32,821 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:00:32,822 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:00:32,822 INFO üîç Analysis flag set at 03:00:32
2025-10-19 03:00:32,822 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:00:48,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:53,872 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:00:59,130 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:04,369 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:09,630 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:14,890 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:20,153 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:25,416 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:27,583 INFO ‚úÖ LLM analysis completed in 54.76s
2025-10-19 03:01:27,585 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:01:27,585 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:01:27,586 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:01:27,586 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:01:27,586 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:01:27,588 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:01:27,588 INFO üîì LLM analysis flag cleared after 54.77s
2025-10-19 03:01:30,686 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-19 03:01:35,953 INFO ‚úÖ LLM request allowed - OK (last request 63.1s ago)
2025-10-19 03:01:35,954 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:01:35,954 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:01:35,954 INFO üîç Analysis flag set at 03:01:35
2025-10-19 03:01:35,954 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:01:51,750 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:01:57,023 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:02,322 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:07,599 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:12,879 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:18,156 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:23,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:28,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:34,003 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:39,286 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:02:42,028 INFO ‚úÖ LLM analysis completed in 66.07s
2025-10-19 03:02:42,030 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:02:42,030 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:02:42,031 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:02:42,031 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:02:42,031 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:02:42,033 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:02:42,033 INFO üîì LLM analysis flag cleared after 66.08s
2025-10-19 03:02:44,567 INFO ‚úÖ LLM request allowed - OK (last request 68.6s ago)
2025-10-19 03:02:44,567 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:02:44,568 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:02:44,568 INFO üîç Analysis flag set at 03:02:44
2025-10-19 03:02:44,568 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:03:00,430 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:05,724 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:11,016 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:16,310 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:21,606 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:26,899 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:32,194 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:37,498 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:42,797 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:48,096 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:53,389 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:03:55,246 INFO ‚úÖ LLM analysis completed in 70.68s
2025-10-19 03:03:55,248 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:03:55,248 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:03:55,249 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:03:55,249 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:03:55,249 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:03:55,250 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:03:55,251 INFO üîì LLM analysis flag cleared after 70.68s
2025-10-19 03:03:58,696 INFO ‚úÖ LLM request allowed - OK (last request 74.1s ago)
2025-10-19 03:03:58,697 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:03:58,697 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:03:58,697 INFO üîç Analysis flag set at 03:03:58
2025-10-19 03:03:58,697 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:04:14,666 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:19,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:25,284 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:30,598 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:35,915 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:41,229 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:46,548 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:51,867 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:04:55,153 INFO ‚úÖ LLM analysis completed in 56.46s
2025-10-19 03:04:55,155 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:04:55,155 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:04:55,156 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:04:55,157 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:04:55,157 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:04:55,158 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:04:55,159 INFO üîì LLM analysis flag cleared after 56.46s
2025-10-19 03:04:57,179 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.5s more, min interval: 60s)
2025-10-19 03:05:02,507 INFO ‚úÖ LLM request allowed - OK (last request 63.8s ago)
2025-10-19 03:05:02,508 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:05:02,508 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:05:02,508 INFO üîç Analysis flag set at 03:05:02
2025-10-19 03:05:02,508 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:05:18,503 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:23,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:29,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:34,500 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:39,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:45,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:50,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:05:55,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:01,166 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:06,504 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:11,848 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:17,202 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:22,545 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:23,220 INFO ‚úÖ LLM analysis completed in 80.71s
2025-10-19 03:06:23,222 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:06:23,222 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:06:23,223 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:06:23,223 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:06:23,224 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:06:23,226 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:06:23,226 INFO üîì LLM analysis flag cleared after 80.72s
2025-10-19 03:06:27,892 INFO ‚úÖ LLM request allowed - OK (last request 85.4s ago)
2025-10-19 03:06:27,892 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:06:27,893 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:06:27,893 INFO üîç Analysis flag set at 03:06:27
2025-10-19 03:06:27,893 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:06:43,945 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:49,330 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:06:54,680 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:00,034 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:05,393 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:10,749 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:16,099 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:21,471 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:26,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:30,798 INFO ‚úÖ LLM analysis completed in 62.91s
2025-10-19 03:07:30,799 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:07:30,799 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:07:30,799 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:07:30,799 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:07:30,799 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:07:30,799 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:07:30,799 INFO üîì LLM analysis flag cleared after 62.91s
2025-10-19 03:07:32,197 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 03:07:32,198 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:07:32,198 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:07:32,198 INFO üîç Analysis flag set at 03:07:32
2025-10-19 03:07:32,198 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:07:48,313 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:53,677 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:07:59,048 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:04,412 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:09,775 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:15,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:20,510 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:25,881 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:30,908 INFO ‚úÖ LLM analysis completed in 58.71s
2025-10-19 03:08:30,909 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:08:30,909 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:08:30,909 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:08:30,909 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:08:30,909 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:08:30,909 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:08:30,909 INFO üîì LLM analysis flag cleared after 58.71s
2025-10-19 03:08:31,251 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 03:08:36,620 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 03:08:36,621 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:08:36,621 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:08:36,621 INFO üîç Analysis flag set at 03:08:36
2025-10-19 03:08:36,621 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:08:52,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:08:58,090 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:03,454 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:08,823 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:14,190 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:19,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:24,969 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:30,337 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:35,706 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:41,070 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:46,436 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:51,805 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:09:57,172 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:02,540 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:07,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:13,280 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:18,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:24,022 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:29,386 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:10:33,279 INFO ‚úÖ LLM analysis completed in 116.66s
2025-10-19 03:10:33,279 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 03:10:33,279 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 03:10:33,279 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 03:10:33,279 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 03:10:33,279 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 03:10:33,279 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 03:10:33,279 INFO üîì LLM analysis flag cleared after 116.66s
2025-10-19 03:10:34,753 INFO ‚úÖ LLM request allowed - OK (last request 118.1s ago)
2025-10-19 03:10:34,754 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 03:10:34,754 INFO ü§ñ Starting background LLM analysis...
2025-10-19 03:10:34,754 INFO üîç Analysis flag set at 03:10:34
2025-10-19 03:10:34,754 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 03:27:24,781 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:27:30,173 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:27:35,544 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:27:40,958 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:27:46,329 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:27:51,700 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:27:57,059 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:28:02,427 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:06,533 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:11,898 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:17,264 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:22,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:27,979 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:33,330 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:38,683 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:44,040 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:49,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:45:54,776 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:04,258 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:09,618 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:14,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:20,329 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:25,698 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:31,058 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:36,422 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 03:54:41,783 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:10:28,860 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:10:34,262 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:10:39,628 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:10:44,991 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:10:50,351 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:10:52,841 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 04:10:52,841 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 04:10:52,843 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 04:10:52,844 INFO üîì LLM analysis flag cleared after 3618.09s
2025-10-19 04:10:55,714 INFO ‚úÖ LLM request allowed - OK (last request 3621.0s ago)
2025-10-19 04:10:55,715 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 04:10:55,715 INFO ü§ñ Starting background LLM analysis...
2025-10-19 04:10:55,715 INFO üîç Analysis flag set at 04:10:55
2025-10-19 04:10:55,715 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 04:11:11,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:26:38,818 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:26:44,183 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:26:49,552 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:26:54,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:27:00,277 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:27:05,636 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:27:10,996 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:27:16,359 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:27:21,721 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:44:53,745 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:44:59,113 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:04,482 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:09,845 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:15,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:20,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:25,987 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:31,344 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:36,712 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:42,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:47,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:45:52,867 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:04,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:10,116 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:15,477 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:20,827 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:26,187 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:31,551 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:36,915 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:42,279 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 04:55:47,639 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:13:12,958 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 05:13:12,959 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 05:13:12,961 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 05:13:12,961 INFO üîì LLM analysis flag cleared after 3737.25s
2025-10-19 05:13:15,655 INFO ‚úÖ LLM request allowed - OK (last request 3739.9s ago)
2025-10-19 05:13:15,655 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 05:13:15,656 INFO ü§ñ Starting background LLM analysis...
2025-10-19 05:13:15,656 INFO üîç Analysis flag set at 05:13:15
2025-10-19 05:13:15,656 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 05:13:31,760 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:13:37,113 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:13:42,475 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:13:47,830 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:13:53,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:13:58,560 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:29:49,866 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:29:55,210 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:30:00,578 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:30:05,950 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:30:11,310 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:30:16,672 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:30:22,018 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:30:27,378 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:05,826 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:11,225 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:16,590 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:21,952 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:27,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:32,685 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:38,037 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:43,394 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:48,757 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:54,116 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:48:59,475 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:49:04,833 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:03,015 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:08,385 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:13,749 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:19,150 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:24,516 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:27,222 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 05:56:27,222 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 05:56:27,224 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 05:56:27,224 INFO üîì LLM analysis flag cleared after 2591.57s
2025-10-19 05:56:29,885 INFO ‚úÖ LLM request allowed - OK (last request 2594.2s ago)
2025-10-19 05:56:29,886 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 05:56:29,886 INFO ü§ñ Starting background LLM analysis...
2025-10-19 05:56:29,886 INFO üîç Analysis flag set at 05:56:29
2025-10-19 05:56:29,886 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 05:56:46,002 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:51,356 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 05:56:56,726 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:00,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:06,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:11,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:17,144 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:22,508 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:27,870 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:33,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:38,589 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:43,951 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:49,306 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:13:54,668 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:00,026 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:05,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:10,745 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:16,102 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:21,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:26,825 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:32,187 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:37,541 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:42,906 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:14:43,219 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760879683.2191, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 06:14:43,280 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 06:14:43,280 INFO ‚úÖ LLM request allowed: OK (last request 1093.4s ago)
2025-10-19 06:14:43,280 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 06:14:43,282 INFO feature comparison prepared
2025-10-19 06:14:48,265 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:30:35,251 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:30:40,614 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:30:45,977 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:30:51,357 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:30:56,744 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:02,114 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:07,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:10,392 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 06:31:10,393 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 06:31:10,394 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 06:31:10,394 INFO üîì LLM analysis flag cleared after 2080.51s
2025-10-19 06:31:12,838 INFO ‚úÖ LLM request allowed - OK (last request 989.6s ago)
2025-10-19 06:31:12,839 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 06:31:12,839 INFO ü§ñ Starting background LLM analysis...
2025-10-19 06:31:12,839 INFO üîç Analysis flag set at 06:31:12
2025-10-19 06:31:12,839 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 06:31:28,915 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:34,270 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:39,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:44,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:50,358 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:31:55,734 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:32:01,096 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:32:03,801 INFO ‚úÖ LLM analysis completed in 50.96s
2025-10-19 06:32:03,803 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 06:32:03,803 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 06:32:03,804 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 06:32:03,804 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 06:32:03,804 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 06:32:03,806 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 06:32:03,806 INFO üîì LLM analysis flag cleared after 50.97s
2025-10-19 06:32:06,460 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-19 06:32:11,818 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 06:32:17,180 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 06:32:17,181 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 06:32:17,181 INFO ü§ñ Starting background LLM analysis...
2025-10-19 06:32:17,181 INFO üîç Analysis flag set at 06:32:17
2025-10-19 06:32:17,181 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 06:32:33,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:32:38,622 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:32:43,984 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:32:49,348 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:32:54,701 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:00,065 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:05,419 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:10,778 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:16,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:21,497 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:25,112 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 06:33:25,112 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 06:33:25,112 INFO üìä gemini - status: error, has_analysis: True
2025-10-19 06:33:25,112 INFO üìä anthropic - status: error, has_analysis: True
2025-10-19 06:33:25,113 INFO ‚úÖ Saved analysis to history (id: 1760880805112)
2025-10-19 06:33:25,113 INFO multi-llm analysis completed id=Fault-1
2025-10-19 06:33:26,859 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:32,218 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:33,301 INFO ‚úÖ LLM analysis completed in 76.12s
2025-10-19 06:33:33,302 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 06:33:33,303 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 06:33:33,303 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 06:33:33,303 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 06:33:33,304 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 06:33:33,305 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 06:33:33,306 INFO üîì LLM analysis flag cleared after 76.12s
2025-10-19 06:33:37,582 INFO ‚úÖ LLM request allowed - OK (last request 80.4s ago)
2025-10-19 06:33:37,583 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 06:33:37,583 INFO ü§ñ Starting background LLM analysis...
2025-10-19 06:33:37,583 INFO üîç Analysis flag set at 06:33:37
2025-10-19 06:33:37,583 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 06:33:53,651 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:33:59,015 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:34:04,392 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:34:09,754 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:34:15,113 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:49:40,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:49:45,947 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:49:51,305 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:49:56,666 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:02,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:07,381 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:12,740 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:18,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:23,468 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:28,830 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:34,187 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:50:39,561 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:04,407 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:09,770 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:15,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:20,529 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:25,893 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:31,251 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:36,607 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:41,971 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:47,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:52,689 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:57:58,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:58:03,405 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:58:08,760 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:58:14,122 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 06:58:17,043 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 06:58:17,044 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 06:58:17,046 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 06:58:17,047 INFO üîì LLM analysis flag cleared after 1479.46s
2025-10-19 06:58:19,487 INFO ‚úÖ LLM request allowed - OK (last request 1481.9s ago)
2025-10-19 06:58:19,487 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 06:58:19,488 INFO ü§ñ Starting background LLM analysis...
2025-10-19 06:58:19,488 INFO üîç Analysis flag set at 06:58:19
2025-10-19 06:58:19,488 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:14:53,320 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:14:58,681 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:04,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:09,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:14,765 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:20,127 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:25,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:30,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:36,210 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:41,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:46,931 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:52,292 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:15:57,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:03,014 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:08,372 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:13,733 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:19,092 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:24,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:29,818 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:35,179 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:40,528 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:45,887 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:51,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:16:56,608 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:01,968 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:07,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:12,683 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:18,038 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:23,394 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:28,752 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:34,120 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:17:37,242 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 07:17:37,243 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:17:37,245 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:17:37,245 INFO üîì LLM analysis flag cleared after 1157.76s
2025-10-19 07:17:39,481 INFO ‚úÖ LLM request allowed - OK (last request 1160.0s ago)
2025-10-19 07:17:39,481 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:17:39,482 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:17:39,482 INFO üîç Analysis flag set at 07:17:39
2025-10-19 07:17:39,482 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:17:55,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:00,917 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:06,280 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:11,635 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:16,999 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:22,355 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:27,709 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:18:29,898 INFO ‚úÖ LLM analysis completed in 50.42s
2025-10-19 07:18:29,900 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:18:29,901 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:18:29,901 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:18:29,901 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:18:29,901 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:18:29,903 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:18:29,903 INFO üîì LLM analysis flag cleared after 50.42s
2025-10-19 07:18:33,062 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-19 07:18:38,419 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.1s more, min interval: 60s)
2025-10-19 07:18:43,779 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 07:18:43,779 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:18:43,780 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:18:43,780 INFO üîç Analysis flag set at 07:18:43
2025-10-19 07:18:43,780 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:18:59,859 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:05,229 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:10,591 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:15,943 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:21,297 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:26,649 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:32,010 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:37,367 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:42,717 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:48,066 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:19:51,725 INFO ‚úÖ LLM analysis completed in 67.95s
2025-10-19 07:19:51,726 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:19:51,726 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:19:51,726 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:19:51,726 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:19:51,726 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:19:51,727 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:19:51,727 INFO üîì LLM analysis flag cleared after 67.95s
2025-10-19 07:19:53,422 INFO ‚úÖ LLM request allowed - OK (last request 69.6s ago)
2025-10-19 07:19:53,423 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:19:53,423 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:19:53,423 INFO üîç Analysis flag set at 07:19:53
2025-10-19 07:19:53,423 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:20:09,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:14,851 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:20,208 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:25,563 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:30,925 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:36,278 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:41,641 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:46,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:52,350 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:20:54,423 INFO ‚úÖ LLM analysis completed in 61.00s
2025-10-19 07:20:54,425 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:20:54,425 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:20:54,426 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:20:54,426 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:20:54,426 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:20:54,427 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:20:54,428 INFO üîì LLM analysis flag cleared after 61.00s
2025-10-19 07:20:57,708 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 07:20:57,708 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:20:57,709 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:20:57,709 INFO üîç Analysis flag set at 07:20:57
2025-10-19 07:20:57,709 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:21:13,779 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:19,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:24,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:29,848 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:35,204 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:40,557 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:45,914 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:51,272 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:21:56,634 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:01,996 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:07,356 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:10,303 INFO ‚úÖ LLM analysis completed in 72.59s
2025-10-19 07:22:10,305 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:22:10,305 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:22:10,306 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:22:10,306 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:22:10,306 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:22:10,308 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:22:10,308 INFO üîì LLM analysis flag cleared after 72.60s
2025-10-19 07:22:12,718 INFO ‚úÖ LLM request allowed - OK (last request 75.0s ago)
2025-10-19 07:22:12,719 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:22:12,719 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:22:12,719 INFO üîç Analysis flag set at 07:22:12
2025-10-19 07:22:12,719 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:22:28,804 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:34,164 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:39,524 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:44,881 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:50,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:22:55,592 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:00,948 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:06,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:11,668 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:12,058 INFO ‚úÖ LLM analysis completed in 59.34s
2025-10-19 07:23:12,059 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:23:12,059 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:23:12,060 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:23:12,060 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:23:12,060 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:23:12,061 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:23:12,061 INFO üîì LLM analysis flag cleared after 59.34s
2025-10-19 07:23:17,030 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 07:23:17,030 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:23:17,031 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:23:17,031 INFO üîç Analysis flag set at 07:23:17
2025-10-19 07:23:17,031 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:23:33,109 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:38,464 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:43,823 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:49,176 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:54,536 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:23:59,898 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:05,253 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:10,609 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:15,976 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:21,337 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:26,694 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:32,058 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:35,702 INFO ‚úÖ LLM analysis completed in 78.67s
2025-10-19 07:24:35,703 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:24:35,703 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:24:35,703 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:24:35,703 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:24:35,703 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:24:35,703 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:24:35,703 INFO üîì LLM analysis flag cleared after 78.67s
2025-10-19 07:24:37,414 INFO ‚úÖ LLM request allowed - OK (last request 80.4s ago)
2025-10-19 07:24:37,415 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:24:37,415 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:24:37,415 INFO üîç Analysis flag set at 07:24:37
2025-10-19 07:24:37,415 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:24:53,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:24:58,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:04,203 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:09,565 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:14,917 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:20,280 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:25,636 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:30,999 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:36,357 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:41,714 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:47,078 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:52,451 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:25:57,815 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:26:01,221 INFO ‚úÖ LLM analysis completed in 83.81s
2025-10-19 07:26:01,223 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 07:26:01,224 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 07:26:01,224 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 07:26:01,225 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 07:26:01,225 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:26:01,227 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:26:01,227 INFO üîì LLM analysis flag cleared after 83.81s
2025-10-19 07:26:03,170 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 07:26:03,170 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:26:03,171 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:26:03,171 INFO üîç Analysis flag set at 07:26:03
2025-10-19 07:26:03,171 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 07:26:19,252 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:42:45,716 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:42:51,079 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:42:56,445 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:43:01,802 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:43:07,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:43:12,533 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:43:17,895 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:43:23,255 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:43:28,621 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:04,668 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:10,037 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:15,396 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:20,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:26,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:31,487 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:36,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:42,206 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:47,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:52,980 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:58:58,340 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:03,706 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:09,071 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:14,438 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:19,805 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:25,164 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:30,531 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:35,897 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:41,262 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:46,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:52,025 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 07:59:54,965 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 07:59:54,966 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 07:59:54,967 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 07:59:54,967 INFO üîì LLM analysis flag cleared after 2031.80s
2025-10-19 07:59:57,391 INFO ‚úÖ LLM request allowed - OK (last request 2034.2s ago)
2025-10-19 07:59:57,391 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 07:59:57,392 INFO ü§ñ Starting background LLM analysis...
2025-10-19 07:59:57,392 INFO üîç Analysis flag set at 07:59:57
2025-10-19 07:59:57,392 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:00:13,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:18,851 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:24,216 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:29,585 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:34,951 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:40,316 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:45,680 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:51,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:00:56,403 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:01,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:07,131 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:12,494 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:17,860 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:23,227 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:28,594 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:33,960 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:01:36,893 INFO ‚úÖ LLM analysis completed in 99.50s
2025-10-19 08:01:36,895 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:01:36,895 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:01:36,896 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:01:36,896 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:01:36,896 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:01:36,898 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:01:36,898 INFO üîì LLM analysis flag cleared after 99.51s
2025-10-19 08:01:39,323 INFO ‚úÖ LLM request allowed - OK (last request 101.9s ago)
2025-10-19 08:01:39,324 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:01:39,324 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:01:39,324 INFO üîç Analysis flag set at 08:01:39
2025-10-19 08:01:39,324 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:01:55,423 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:00,781 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:06,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:06,903 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760886126.903148, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 08:02:06,993 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760886126.993526, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 08:02:06,994 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 08:02:06,994 WARNING üö´ LLM request blocked: Too soon (wait 32.3s more, min interval: 60s)
2025-10-19 08:02:07,014 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 08:02:07,014 WARNING üö´ LLM request blocked: Too soon (wait 32.3s more, min interval: 60s)
2025-10-19 08:02:11,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:16,869 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:22,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:27,600 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:32,965 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:38,322 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:43,685 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:49,050 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:54,412 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:02:59,766 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:05,132 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:10,498 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:15,861 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:21,221 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:26,587 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:31,953 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:37,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:42,675 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:48,041 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:03:48,066 INFO ‚úÖ LLM analysis completed in 128.74s
2025-10-19 08:03:48,066 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:03:48,066 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:03:48,066 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:03:48,066 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:03:48,066 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:03:48,066 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:03:48,066 INFO üîì LLM analysis flag cleared after 128.74s
2025-10-19 08:03:53,407 INFO ‚úÖ LLM request allowed - OK (last request 134.1s ago)
2025-10-19 08:03:53,408 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:03:53,408 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:03:53,408 INFO üîç Analysis flag set at 08:03:53
2025-10-19 08:03:53,408 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:04:09,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:14,870 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:20,227 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:25,593 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:30,959 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:36,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:41,692 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:47,054 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:52,418 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:57,780 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:04:59,030 INFO ‚úÖ LLM analysis completed in 65.62s
2025-10-19 08:04:59,031 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:04:59,031 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:04:59,031 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:04:59,031 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:04:59,031 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:04:59,032 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:04:59,032 INFO üîì LLM analysis flag cleared after 65.62s
2025-10-19 08:05:03,128 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 08:05:03,129 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:05:03,130 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:05:03,130 INFO üîç Analysis flag set at 08:05:03
2025-10-19 08:05:03,130 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:05:19,212 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:24,575 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:29,932 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:35,294 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:40,659 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:46,022 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:51,376 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:05:56,740 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:02,106 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:07,464 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:09,380 INFO ‚úÖ LLM analysis completed in 66.25s
2025-10-19 08:06:09,382 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:06:09,382 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:06:09,383 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:06:09,383 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:06:09,383 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:06:09,384 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:06:09,384 INFO üîì LLM analysis flag cleared after 66.25s
2025-10-19 08:06:12,820 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 08:06:12,821 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:06:12,821 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:06:12,821 INFO üîç Analysis flag set at 08:06:12
2025-10-19 08:06:12,821 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:06:28,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:34,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:39,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:45,098 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:50,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:06:55,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:01,203 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:06,567 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:11,935 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:17,298 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:22,664 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:28,037 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:33,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:38,763 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:44,133 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:49,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:07:54,342 INFO ‚úÖ LLM analysis completed in 101.52s
2025-10-19 08:07:54,343 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:07:54,343 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:07:54,343 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:07:54,343 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:07:54,343 INFO üîì LLM analysis flag cleared after 101.52s
2025-10-19 08:07:54,864 INFO ‚úÖ LLM request allowed - OK (last request 102.0s ago)
2025-10-19 08:07:54,865 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:07:54,865 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:07:54,865 INFO üîç Analysis flag set at 08:07:54
2025-10-19 08:07:54,865 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:08:10,955 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:16,325 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:21,684 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:27,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:32,411 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:37,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:43,133 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:48,499 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:53,867 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:08:57,113 INFO ‚úÖ LLM analysis completed in 62.25s
2025-10-19 08:08:57,115 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:08:57,115 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:08:57,116 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:08:57,117 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:08:57,117 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:08:57,117 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:08:57,118 INFO üîì LLM analysis flag cleared after 62.25s
2025-10-19 08:08:59,233 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:08:59,233 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:08:59,234 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:08:59,234 INFO üîç Analysis flag set at 08:08:59
2025-10-19 08:08:59,234 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:09:15,318 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:20,692 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:26,058 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:31,419 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:36,785 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:42,152 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:47,516 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:52,873 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:09:58,240 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:03,603 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:07,462 INFO ‚úÖ LLM analysis completed in 68.23s
2025-10-19 08:10:07,462 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:10:07,462 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:10:07,462 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:10:07,462 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:10:07,462 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:10:07,463 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:10:07,463 INFO üîì LLM analysis flag cleared after 68.23s
2025-10-19 08:10:08,967 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 08:10:08,968 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:10:08,969 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:10:08,969 INFO üîç Analysis flag set at 08:10:08
2025-10-19 08:10:08,969 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:10:25,076 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:30,440 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:35,805 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:41,170 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:46,535 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:51,901 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:10:57,266 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:02,622 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:07,988 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:12,178 INFO ‚úÖ LLM analysis completed in 63.21s
2025-10-19 08:11:12,179 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:11:12,179 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:11:12,179 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:11:12,179 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:11:12,179 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:11:12,179 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:11:12,179 INFO üîì LLM analysis flag cleared after 63.21s
2025-10-19 08:11:13,355 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:11:13,356 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:11:13,357 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:11:13,357 INFO üîç Analysis flag set at 08:11:13
2025-10-19 08:11:13,357 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:11:29,440 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:34,805 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:40,161 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:45,526 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:50,892 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:11:56,258 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:01,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:06,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:12,382 INFO ‚úÖ LLM analysis completed in 59.03s
2025-10-19 08:12:12,382 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:12:12,382 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:12:12,382 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:12:12,382 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:12:12,382 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:12:12,383 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:12:12,383 INFO üîì LLM analysis flag cleared after 59.03s
2025-10-19 08:12:12,510 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-19 08:12:17,895 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 08:12:17,896 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:12:17,896 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:12:17,896 INFO üîç Analysis flag set at 08:12:17
2025-10-19 08:12:17,896 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:12:33,977 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:39,344 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:44,711 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:50,089 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:12:55,454 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:00,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:06,169 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:11,535 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:16,887 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:22,251 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:26,324 INFO ‚úÖ LLM analysis completed in 68.43s
2025-10-19 08:13:26,324 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:13:26,324 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:13:26,324 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:13:26,324 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:13:26,324 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:13:26,324 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:13:26,324 INFO üîì LLM analysis flag cleared after 68.43s
2025-10-19 08:13:27,617 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 08:13:27,618 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:13:27,618 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:13:27,618 INFO üîç Analysis flag set at 08:13:27
2025-10-19 08:13:27,618 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:13:43,713 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:49,075 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:54,436 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:13:59,802 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:05,164 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:10,520 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:15,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:21,254 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:26,617 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:31,984 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:37,350 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:42,714 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:48,077 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:53,441 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:14:58,816 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:02,581 INFO ‚úÖ LLM analysis completed in 94.96s
2025-10-19 08:15:02,581 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:15:02,581 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:15:02,581 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:15:02,581 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:15:02,581 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:15:02,581 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:15:02,581 INFO üîì LLM analysis flag cleared after 94.96s
2025-10-19 08:15:04,173 INFO ‚úÖ LLM request allowed - OK (last request 96.6s ago)
2025-10-19 08:15:04,174 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:15:04,174 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:15:04,174 INFO üîç Analysis flag set at 08:15:04
2025-10-19 08:15:04,174 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:15:20,267 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:25,631 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:30,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:36,391 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:41,758 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:47,135 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:52,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:15:57,875 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:03,241 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:08,647 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:14,014 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:19,178 INFO ‚úÖ LLM analysis completed in 75.00s
2025-10-19 08:16:19,178 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:16:19,178 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:16:19,178 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:16:19,178 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:16:19,178 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:16:19,179 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:16:19,179 INFO üîì LLM analysis flag cleared after 75.00s
2025-10-19 08:16:19,385 INFO ‚úÖ LLM request allowed - OK (last request 75.2s ago)
2025-10-19 08:16:19,385 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:16:19,386 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:16:19,386 INFO üîç Analysis flag set at 08:16:19
2025-10-19 08:16:19,386 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:16:35,482 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:40,888 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:46,251 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:51,618 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:16:56,984 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:02,352 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:07,720 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:13,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:18,447 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:23,813 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:29,179 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:29,321 INFO ‚úÖ LLM analysis completed in 69.94s
2025-10-19 08:17:29,322 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:17:29,322 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:17:29,322 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:17:29,322 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:17:29,322 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:17:29,323 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:17:29,323 INFO üîì LLM analysis flag cleared after 69.94s
2025-10-19 08:17:34,582 INFO ‚úÖ LLM request allowed - OK (last request 75.2s ago)
2025-10-19 08:17:34,582 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:17:34,583 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:17:34,583 INFO üîç Analysis flag set at 08:17:34
2025-10-19 08:17:34,583 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:17:50,681 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:17:56,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:01,421 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:06,784 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:12,146 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:17,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:22,870 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:28,236 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:33,601 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:38,966 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:44,333 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:49,708 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:55,074 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:18:56,365 INFO ‚úÖ LLM analysis completed in 81.78s
2025-10-19 08:18:56,366 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:18:56,367 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:18:56,367 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:18:56,367 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:18:56,368 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:18:56,368 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:18:56,369 INFO üîì LLM analysis flag cleared after 81.79s
2025-10-19 08:19:00,466 INFO ‚úÖ LLM request allowed - OK (last request 85.9s ago)
2025-10-19 08:19:00,466 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:19:00,467 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:19:00,467 INFO üîç Analysis flag set at 08:19:00
2025-10-19 08:19:00,467 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:19:16,547 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:21,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:27,271 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:32,633 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:37,997 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:43,364 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:48,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:54,093 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:19:59,492 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:00,791 INFO ‚úÖ LLM analysis completed in 60.32s
2025-10-19 08:20:00,791 ERROR ‚ùå Background LLM analysis failed: 'NoneType' object has no attribute 'split'
2025-10-19 08:20:00,795 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 709, in background_llm_analysis
    formatted = multi_llm_client.format_comparative_results(results=llm_results, feature_comparison=comparison)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/multi_llm_client.py", line 492, in format_comparative_results
    "word_count": len(result.get("analysis", "").split())
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'split'

2025-10-19 08:20:00,795 INFO üîì LLM analysis flag cleared after 60.33s
2025-10-19 08:20:04,871 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:20:04,872 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:20:04,872 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:20:04,872 INFO üîç Analysis flag set at 08:20:04
2025-10-19 08:20:04,872 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:20:20,973 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:26,339 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:31,699 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:37,059 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:42,422 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:47,787 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:53,154 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:20:58,522 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:03,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:09,272 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:14,193 INFO ‚úÖ LLM analysis completed in 69.32s
2025-10-19 08:21:14,194 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:21:14,194 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:21:14,194 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:21:14,194 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:21:14,194 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:21:14,194 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:21:14,194 INFO üîì LLM analysis flag cleared after 69.32s
2025-10-19 08:21:14,638 INFO ‚úÖ LLM request allowed - OK (last request 69.8s ago)
2025-10-19 08:21:14,639 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:21:14,640 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:21:14,640 INFO üîç Analysis flag set at 08:21:14
2025-10-19 08:21:14,640 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:21:30,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:36,103 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:41,471 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:46,839 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:52,199 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:21:57,562 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:02,920 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:08,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:13,641 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:19,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:24,372 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:29,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:35,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:40,463 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:45,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:51,193 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:22:54,139 INFO ‚úÖ LLM analysis completed in 99.50s
2025-10-19 08:22:54,141 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:22:54,141 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:22:54,142 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:22:54,142 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:22:54,142 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:22:54,143 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:22:54,143 INFO üîì LLM analysis flag cleared after 99.50s
2025-10-19 08:22:56,555 INFO ‚úÖ LLM request allowed - OK (last request 101.9s ago)
2025-10-19 08:22:56,556 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:22:56,556 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:22:56,556 INFO üîç Analysis flag set at 08:22:56
2025-10-19 08:22:56,556 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:23:12,642 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:18,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:23,370 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:28,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:34,101 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:39,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:44,832 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:50,197 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:23:55,564 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:00,936 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:06,298 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:10,527 INFO ‚úÖ LLM analysis completed in 73.97s
2025-10-19 08:24:10,528 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:24:10,528 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:24:10,528 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:24:10,528 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:24:10,528 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:24:10,528 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:24:10,528 INFO üîì LLM analysis flag cleared after 73.97s
2025-10-19 08:24:11,659 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 08:24:11,660 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:24:11,660 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:24:11,660 INFO üîç Analysis flag set at 08:24:11
2025-10-19 08:24:11,660 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:24:27,747 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:33,113 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:38,476 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:43,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:49,206 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:54,570 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:24:59,936 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:05,301 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:10,661 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:16,022 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:16,601 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760887516.601312, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 08:25:16,668 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 08:25:16,668 INFO ‚úÖ LLM request allowed: OK (last request 65.0s ago)
2025-10-19 08:25:16,668 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 08:25:16,671 INFO feature comparison prepared
2025-10-19 08:25:21,388 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:26,739 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:32,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:37,469 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:42,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:48,200 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:53,564 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:25:53,643 INFO ‚úÖ LLM analysis completed in 101.98s
2025-10-19 08:25:53,643 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:25:53,643 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:25:53,643 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:25:53,643 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:25:53,643 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:25:53,644 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:25:53,644 INFO üîì LLM analysis flag cleared after 101.98s
2025-10-19 08:25:58,959 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.7s more, min interval: 60s)
2025-10-19 08:26:04,322 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.3s more, min interval: 60s)
2025-10-19 08:26:09,685 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.0s more, min interval: 60s)
2025-10-19 08:26:15,049 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.6s more, min interval: 60s)
2025-10-19 08:26:20,416 INFO ‚úÖ LLM request allowed - OK (last request 63.7s ago)
2025-10-19 08:26:20,417 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:26:20,418 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:26:20,418 INFO üîç Analysis flag set at 08:26:20
2025-10-19 08:26:20,418 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:26:33,476 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 08:26:33,477 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 08:26:33,477 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 08:26:33,477 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 08:26:33,478 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 08:26:33,478 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 08:26:33,479 INFO ‚úÖ Saved analysis to history (id: 1760887593478)
2025-10-19 08:26:33,479 INFO multi-llm analysis completed id=Fault-1
2025-10-19 08:26:36,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:26:41,870 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:26:47,236 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:26:52,601 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:26:57,963 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:03,318 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:08,678 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:14,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:19,408 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:24,774 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:30,136 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:35,501 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:27:38,605 INFO ‚úÖ LLM analysis completed in 78.19s
2025-10-19 08:27:38,606 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:27:38,607 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:27:38,607 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:27:38,608 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:27:38,608 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:27:38,609 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:27:38,609 INFO üîì LLM analysis flag cleared after 78.19s
2025-10-19 08:27:40,861 INFO ‚úÖ LLM request allowed - OK (last request 80.4s ago)
2025-10-19 08:27:40,862 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:27:40,862 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:27:40,862 INFO üîç Analysis flag set at 08:27:40
2025-10-19 08:27:40,862 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:27:56,949 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:28:02,354 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:28:07,720 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:28:13,073 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:28:18,440 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:28:23,807 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:28:27,338 INFO ‚úÖ LLM analysis completed in 46.48s
2025-10-19 08:28:27,340 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:28:27,340 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:28:27,341 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:28:27,341 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:28:27,341 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:28:27,342 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:28:27,342 INFO üîì LLM analysis flag cleared after 46.48s
2025-10-19 08:28:29,172 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 08:28:34,536 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 08:28:39,904 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 08:28:45,271 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:28:45,272 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:28:45,272 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:28:45,272 INFO üîç Analysis flag set at 08:28:45
2025-10-19 08:28:45,272 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:29:01,381 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:06,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:12,107 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:17,475 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:22,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:28,202 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:33,568 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:38,932 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:44,289 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:49,655 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:29:51,520 INFO ‚úÖ LLM analysis completed in 66.25s
2025-10-19 08:29:51,522 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:29:51,522 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:29:51,523 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:29:51,523 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:29:51,524 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:29:51,525 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:29:51,525 INFO üîì LLM analysis flag cleared after 66.25s
2025-10-19 08:29:55,020 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 08:29:55,021 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:29:55,022 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:29:55,022 INFO üîç Analysis flag set at 08:29:55
2025-10-19 08:29:55,022 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:30:11,103 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:16,468 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:21,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:27,197 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:32,561 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:37,927 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:43,294 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:48,660 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:54,025 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:30:59,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:04,747 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:10,110 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:11,288 INFO ‚úÖ LLM analysis completed in 76.27s
2025-10-19 08:31:11,290 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:31:11,290 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:31:11,290 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:31:11,291 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:31:11,291 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:31:11,291 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:31:11,292 INFO üîì LLM analysis flag cleared after 76.27s
2025-10-19 08:31:15,470 INFO ‚úÖ LLM request allowed - OK (last request 80.4s ago)
2025-10-19 08:31:15,471 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:31:15,472 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:31:15,472 INFO üîç Analysis flag set at 08:31:15
2025-10-19 08:31:15,472 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:31:31,567 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:36,924 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:42,291 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:47,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:53,012 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:31:58,375 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:03,740 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:09,103 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:14,460 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:19,827 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:25,194 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:25,428 INFO ‚úÖ LLM analysis completed in 69.96s
2025-10-19 08:32:25,429 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:32:25,430 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:32:25,430 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:32:25,430 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:32:25,430 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:32:25,431 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:32:25,432 INFO üîì LLM analysis flag cleared after 69.96s
2025-10-19 08:32:30,560 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 08:32:30,560 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:32:30,561 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:32:30,561 INFO üîç Analysis flag set at 08:32:30
2025-10-19 08:32:30,561 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:32:46,661 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:52,085 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:32:57,447 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:02,805 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:08,168 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:13,529 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:18,888 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:24,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:28,914 INFO ‚úÖ LLM analysis completed in 58.35s
2025-10-19 08:33:28,915 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:33:28,915 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:33:28,915 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:33:28,915 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:33:28,915 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:33:28,915 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:33:28,915 INFO üîì LLM analysis flag cleared after 58.35s
2025-10-19 08:33:29,615 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 08:33:34,984 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:33:34,985 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:33:34,986 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:33:34,986 INFO üîç Analysis flag set at 08:33:34
2025-10-19 08:33:34,986 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:33:51,070 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:33:56,438 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:01,809 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:07,172 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:12,534 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:17,889 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:23,248 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:28,608 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:33,971 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:39,330 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:44,695 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:50,060 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:34:50,224 INFO ‚úÖ LLM analysis completed in 75.24s
2025-10-19 08:34:50,226 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:34:50,226 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:34:50,227 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:34:50,227 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:34:50,227 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:34:50,228 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:34:50,228 INFO üîì LLM analysis flag cleared after 75.24s
2025-10-19 08:34:55,425 INFO ‚úÖ LLM request allowed - OK (last request 80.4s ago)
2025-10-19 08:34:55,425 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:34:55,426 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:34:55,426 INFO üîç Analysis flag set at 08:34:55
2025-10-19 08:34:55,426 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:35:11,513 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:16,879 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:22,243 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:27,610 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:32,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:38,338 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:43,704 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:49,069 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:54,423 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:35:56,168 INFO ‚úÖ LLM analysis completed in 60.74s
2025-10-19 08:35:56,170 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:35:56,170 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:35:56,171 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:35:56,171 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:35:56,171 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:35:56,173 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:35:56,173 INFO üîì LLM analysis flag cleared after 60.75s
2025-10-19 08:35:59,814 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:35:59,815 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:35:59,816 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:35:59,816 INFO üîç Analysis flag set at 08:35:59
2025-10-19 08:35:59,816 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:36:15,899 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:21,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:26,628 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:31,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:37,355 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:42,722 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:48,087 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:53,446 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:36:58,820 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:04,182 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:09,544 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:14,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:20,282 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:23,692 INFO ‚úÖ LLM analysis completed in 83.88s
2025-10-19 08:37:23,693 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:37:23,694 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:37:23,694 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:37:23,694 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:37:23,695 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:37:23,696 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:37:23,696 INFO üîì LLM analysis flag cleared after 83.88s
2025-10-19 08:37:25,645 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 08:37:25,645 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:37:25,646 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:37:25,646 INFO üîç Analysis flag set at 08:37:25
2025-10-19 08:37:25,646 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:37:41,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:47,094 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:52,458 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:37:57,821 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:03,184 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:08,541 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:13,899 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:19,262 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:24,624 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:25,674 INFO ‚úÖ LLM analysis completed in 60.03s
2025-10-19 08:38:25,676 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:38:25,676 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:38:25,677 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:38:25,677 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:38:25,677 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:38:25,678 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:38:25,678 INFO üîì LLM analysis flag cleared after 60.03s
2025-10-19 08:38:29,993 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 08:38:29,994 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:38:29,994 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:38:29,994 INFO üîç Analysis flag set at 08:38:29
2025-10-19 08:38:29,994 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:38:46,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:51,454 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:38:56,821 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:02,189 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:07,550 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:12,922 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:18,287 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:23,655 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:29,018 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:34,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:39,742 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:45,106 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:50,472 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:39:55,839 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:01,210 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:06,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:06,947 INFO ‚úÖ LLM analysis completed in 96.95s
2025-10-19 08:40:06,948 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:40:06,949 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:40:06,949 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:40:06,949 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:40:06,949 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:40:06,950 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:40:06,950 INFO üîì LLM analysis flag cleared after 96.96s
2025-10-19 08:40:11,939 INFO ‚úÖ LLM request allowed - OK (last request 101.9s ago)
2025-10-19 08:40:11,940 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:40:11,940 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:40:11,940 INFO üîç Analysis flag set at 08:40:11
2025-10-19 08:40:11,940 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:40:28,036 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:33,400 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:38,765 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:44,122 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:49,485 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:40:54,850 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:00,213 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:05,570 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:10,937 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:16,304 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:21,664 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:27,016 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:32,378 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:37,742 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:43,106 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:48,464 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:53,829 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:41:59,197 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:00,920 INFO ‚úÖ LLM analysis completed in 108.98s
2025-10-19 08:42:00,922 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:42:00,922 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:42:00,923 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:42:00,923 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:42:00,923 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:42:00,924 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:42:00,925 INFO üîì LLM analysis flag cleared after 108.98s
2025-10-19 08:42:04,558 INFO ‚úÖ LLM request allowed - OK (last request 112.6s ago)
2025-10-19 08:42:04,559 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:42:04,560 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:42:04,560 INFO üîç Analysis flag set at 08:42:04
2025-10-19 08:42:04,560 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:42:20,650 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:26,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:31,370 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:36,736 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:42,102 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:47,460 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:52,887 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:42:58,253 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:03,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:08,975 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:14,337 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:19,154 INFO ‚úÖ LLM analysis completed in 74.59s
2025-10-19 08:43:19,154 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:43:19,154 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:43:19,155 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:43:19,155 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:43:19,155 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:43:19,155 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:43:19,155 INFO üîì LLM analysis flag cleared after 74.60s
2025-10-19 08:43:19,703 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 08:43:19,704 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:43:19,704 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:43:19,704 INFO üîç Analysis flag set at 08:43:19
2025-10-19 08:43:19,704 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:43:35,785 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:41,150 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:46,515 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:51,880 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:43:57,244 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:02,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:07,981 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:13,344 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:18,702 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:22,538 INFO ‚úÖ LLM analysis completed in 62.83s
2025-10-19 08:44:22,538 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:44:22,538 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:44:22,538 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:44:22,538 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:44:22,538 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:44:22,539 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:44:22,539 INFO üîì LLM analysis flag cleared after 62.83s
2025-10-19 08:44:24,068 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:44:24,069 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:44:24,069 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:44:24,069 INFO üîç Analysis flag set at 08:44:24
2025-10-19 08:44:24,069 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:44:40,162 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:45,529 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:50,897 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:44:56,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:01,625 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:06,983 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:12,350 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:17,716 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:23,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:28,447 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:30,942 INFO ‚úÖ LLM analysis completed in 66.87s
2025-10-19 08:45:30,944 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:45:30,944 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:45:30,945 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:45:30,945 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:45:30,945 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:45:30,946 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:45:30,947 INFO üîì LLM analysis flag cleared after 66.88s
2025-10-19 08:45:33,810 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 08:45:33,811 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:45:33,812 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:45:33,812 INFO üîç Analysis flag set at 08:45:33
2025-10-19 08:45:33,812 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:45:49,909 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:45:55,271 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:00,640 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:05,998 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:11,359 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:16,724 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:22,090 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:27,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:31,691 INFO ‚úÖ LLM analysis completed in 57.88s
2025-10-19 08:46:31,692 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:46:31,692 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:46:31,692 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:46:31,692 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:46:31,692 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:46:31,692 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:46:31,692 INFO üîì LLM analysis flag cleared after 57.88s
2025-10-19 08:46:32,820 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 08:46:38,181 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:46:38,181 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:46:38,182 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:46:38,182 INFO üîç Analysis flag set at 08:46:38
2025-10-19 08:46:38,182 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:46:54,288 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:46:59,661 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:05,020 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:10,384 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:15,749 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:21,118 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:26,481 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:31,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:37,213 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:42,577 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:47,940 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:47:50,518 INFO ‚úÖ LLM analysis completed in 72.34s
2025-10-19 08:47:50,519 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:47:50,520 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:47:50,520 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:47:50,520 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:47:50,520 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:47:50,521 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:47:50,521 INFO üîì LLM analysis flag cleared after 72.34s
2025-10-19 08:47:53,304 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 08:47:53,304 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:47:53,305 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:47:53,305 INFO üîç Analysis flag set at 08:47:53
2025-10-19 08:47:53,305 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:48:04,974 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760888884.974499, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 08:48:05,056 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 08:48:05,056 WARNING üö´ LLM request blocked: Too soon (wait 48.2s more, min interval: 60s)
2025-10-19 08:48:09,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:14,760 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:20,129 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:25,491 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:30,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:36,213 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:41,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:46,938 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:48:50,828 INFO ‚úÖ LLM analysis completed in 57.52s
2025-10-19 08:48:50,828 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:48:50,829 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:48:50,829 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:48:50,829 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:48:50,829 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:48:50,829 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:48:50,829 INFO üîì LLM analysis flag cleared after 57.52s
2025-10-19 08:48:52,298 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 08:48:57,663 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:48:57,664 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:48:57,664 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:48:57,664 INFO üîç Analysis flag set at 08:48:57
2025-10-19 08:48:57,664 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:49:13,755 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:19,119 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:24,483 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:29,844 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:35,208 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:40,572 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:45,933 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:51,296 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:49:56,662 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:02,036 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:07,402 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:12,764 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:18,129 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:23,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:28,859 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:32,309 INFO ‚úÖ LLM analysis completed in 94.64s
2025-10-19 08:50:32,310 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:50:32,310 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:50:32,310 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:50:32,310 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:50:32,310 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:50:32,311 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:50:32,311 INFO üîì LLM analysis flag cleared after 94.65s
2025-10-19 08:50:34,217 INFO ‚úÖ LLM request allowed - OK (last request 96.6s ago)
2025-10-19 08:50:34,217 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:50:34,218 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:50:34,218 INFO üîç Analysis flag set at 08:50:34
2025-10-19 08:50:34,218 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:50:50,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:50:55,674 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:01,032 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:06,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:11,747 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:17,110 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:22,466 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:27,826 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:33,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:51:34,142 INFO ‚úÖ LLM analysis completed in 59.92s
2025-10-19 08:51:34,144 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:51:34,144 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:51:34,145 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:51:34,145 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:51:34,145 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:51:34,147 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:51:34,147 INFO üîì LLM analysis flag cleared after 59.93s
2025-10-19 08:51:38,559 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 08:51:38,559 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:51:38,560 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:51:38,560 INFO üîç Analysis flag set at 08:51:38
2025-10-19 08:51:38,560 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:51:54,644 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:00,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:05,364 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:10,729 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:16,094 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:21,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:26,820 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:32,182 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:37,547 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:42,907 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:48,271 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:53,633 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:58,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:52:59,727 INFO ‚úÖ LLM analysis completed in 81.17s
2025-10-19 08:52:59,729 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:52:59,729 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:52:59,730 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:52:59,730 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:52:59,730 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:52:59,731 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:52:59,731 INFO üîì LLM analysis flag cleared after 81.17s
2025-10-19 08:53:04,350 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 08:53:04,350 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:53:04,351 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:53:04,351 INFO üîç Analysis flag set at 08:53:04
2025-10-19 08:53:04,351 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:53:20,443 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:25,807 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:31,169 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:36,532 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:41,898 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:47,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:52,628 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:53:57,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:03,351 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:08,717 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:14,082 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:19,448 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:24,815 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:29,574 INFO ‚úÖ LLM analysis completed in 85.22s
2025-10-19 08:54:29,574 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:54:29,574 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:54:29,574 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:54:29,574 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:54:29,574 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:54:29,575 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:54:29,575 INFO üîì LLM analysis flag cleared after 85.22s
2025-10-19 08:54:30,181 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 08:54:30,182 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:54:30,182 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:54:30,182 INFO üîç Analysis flag set at 08:54:30
2025-10-19 08:54:30,182 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:54:46,277 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:51,640 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:54:57,004 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:02,373 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:07,739 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:13,126 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:18,490 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:23,852 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:29,216 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:34,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:39,944 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:45,310 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:50,674 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:55:56,036 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:01,412 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:06,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:09,496 INFO ‚úÖ LLM analysis completed in 99.31s
2025-10-19 08:56:09,498 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:56:09,498 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:56:09,499 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:56:09,499 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:56:09,499 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:56:09,500 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:56:09,500 INFO üîì LLM analysis flag cleared after 99.32s
2025-10-19 08:56:12,137 INFO ‚úÖ LLM request allowed - OK (last request 102.0s ago)
2025-10-19 08:56:12,138 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:56:12,138 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:56:12,138 INFO üîç Analysis flag set at 08:56:12
2025-10-19 08:56:12,138 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:56:28,278 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:33,641 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:39,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:44,371 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:49,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:55,103 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:56:56,601 INFO ‚úÖ LLM analysis completed in 44.46s
2025-10-19 08:56:56,602 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:56:56,602 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:56:56,603 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:56:56,603 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:56:56,603 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:56:56,604 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:56:56,604 INFO üîì LLM analysis flag cleared after 44.47s
2025-10-19 08:57:00,470 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 08:57:05,833 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 08:57:11,197 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 08:57:16,562 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 08:57:16,563 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 08:57:16,564 INFO ü§ñ Starting background LLM analysis...
2025-10-19 08:57:16,564 INFO üîç Analysis flag set at 08:57:16
2025-10-19 08:57:16,564 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 08:57:32,656 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:57:38,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:57:43,382 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:57:48,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:57:54,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:57:59,470 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:04,830 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:10,180 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:15,546 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:21,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:26,368 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:31,731 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:37,094 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:42,461 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:47,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:53,262 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 08:58:55,903 INFO ‚úÖ LLM analysis completed in 99.34s
2025-10-19 08:58:55,905 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 08:58:55,905 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 08:58:55,906 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 08:58:55,906 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 08:58:55,906 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 08:58:55,907 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 08:58:55,907 INFO üîì LLM analysis flag cleared after 99.34s
2025-10-19 09:14:42,064 INFO ‚úÖ LLM request allowed - OK (last request 1045.5s ago)
2025-10-19 09:14:42,065 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:14:42,065 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:14:42,065 INFO üîç Analysis flag set at 09:14:42
2025-10-19 09:14:42,065 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:14:58,191 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:15:00,323 INFO ‚úÖ LLM analysis completed in 18.26s
2025-10-19 09:15:00,325 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:15:00,325 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:15:00,325 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:15:00,326 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:15:00,326 INFO üîì LLM analysis flag cleared after 18.26s
2025-10-19 09:15:03,559 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.5s more, min interval: 60s)
2025-10-19 09:15:08,923 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-19 09:15:14,289 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 27.8s more, min interval: 60s)
2025-10-19 09:15:19,653 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.4s more, min interval: 60s)
2025-10-19 09:15:25,018 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-19 09:15:30,384 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 09:15:35,749 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:15:41,116 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 09:15:46,483 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:15:46,484 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:15:46,484 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:15:46,484 INFO üîç Analysis flag set at 09:15:46
2025-10-19 09:15:46,484 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:16:02,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:07,977 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:13,341 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:18,705 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:24,070 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:29,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:34,799 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:40,160 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:16:45,363 INFO ‚úÖ LLM analysis completed in 58.88s
2025-10-19 09:16:45,363 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:16:45,363 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:16:45,363 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:16:45,363 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:16:45,363 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:16:45,364 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:16:45,364 INFO üîì LLM analysis flag cleared after 58.88s
2025-10-19 09:16:45,520 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:16:50,880 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:16:50,881 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:16:50,882 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:16:50,882 INFO üîç Analysis flag set at 09:16:50
2025-10-19 09:16:50,882 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:17:06,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:12,338 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:17,703 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:23,069 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:28,434 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:33,797 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:39,161 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:44,521 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:49,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:17:55,244 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:00,610 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:05,969 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:06,707 INFO ‚úÖ LLM analysis completed in 75.83s
2025-10-19 09:18:06,709 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:18:06,709 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:18:06,710 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:18:06,710 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:18:06,710 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:18:06,711 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:18:06,711 INFO üîì LLM analysis flag cleared after 75.83s
2025-10-19 09:18:11,329 INFO ‚úÖ LLM request allowed - OK (last request 80.4s ago)
2025-10-19 09:18:11,330 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:18:11,330 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:18:11,330 INFO üîç Analysis flag set at 09:18:11
2025-10-19 09:18:11,330 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:18:27,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:32,818 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:38,178 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:43,531 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:48,896 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:18:51,354 INFO ‚úÖ LLM analysis completed in 40.02s
2025-10-19 09:18:51,356 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:18:51,356 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:18:51,357 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:18:51,357 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:18:51,357 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:18:51,358 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:18:51,358 INFO üîì LLM analysis flag cleared after 40.03s
2025-10-19 09:18:54,260 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.1s more, min interval: 60s)
2025-10-19 09:18:59,622 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 09:19:04,988 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:19:10,357 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:19:15,720 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:19:15,721 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:19:15,721 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:19:15,721 INFO üîç Analysis flag set at 09:19:15
2025-10-19 09:19:15,721 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:19:31,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:19:37,205 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:19:42,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:19:47,930 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:19:53,293 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:19:58,660 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:04,027 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:09,391 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:14,753 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:20,116 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:25,483 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:30,873 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:36,239 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:20:38,877 INFO ‚úÖ LLM analysis completed in 83.16s
2025-10-19 09:20:38,879 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:20:38,879 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:20:38,879 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:20:38,880 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:20:38,880 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:20:38,880 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:20:38,880 INFO üîì LLM analysis flag cleared after 83.16s
2025-10-19 09:20:41,651 INFO ‚úÖ LLM request allowed - OK (last request 85.9s ago)
2025-10-19 09:20:41,651 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:20:41,652 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:20:41,652 INFO üîç Analysis flag set at 09:20:41
2025-10-19 09:20:41,652 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:20:57,713 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:03,077 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:08,438 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:13,798 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:19,160 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:24,523 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:29,880 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:35,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:40,628 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:45,988 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:51,351 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:21:56,743 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:02,106 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:03,755 INFO ‚úÖ LLM analysis completed in 82.10s
2025-10-19 09:22:03,756 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:22:03,756 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:22:03,756 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:22:03,756 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:22:03,756 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:22:03,757 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:22:03,757 INFO üîì LLM analysis flag cleared after 82.11s
2025-10-19 09:22:07,468 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 09:22:07,469 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:22:07,469 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:22:07,469 INFO üîç Analysis flag set at 09:22:07
2025-10-19 09:22:07,469 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:22:23,640 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:29,008 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:34,390 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:39,774 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:45,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:50,485 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:22:55,883 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:01,252 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:06,617 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:07,664 INFO ‚úÖ LLM analysis completed in 60.19s
2025-10-19 09:23:07,667 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:23:07,667 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:23:07,668 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:23:07,668 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:23:07,668 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:23:07,669 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:23:07,669 INFO üîì LLM analysis flag cleared after 60.20s
2025-10-19 09:23:11,983 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 09:23:11,984 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:23:11,985 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:23:11,985 INFO üîç Analysis flag set at 09:23:11
2025-10-19 09:23:11,985 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:23:28,120 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:33,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:38,849 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:44,195 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:49,560 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:23:54,920 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:00,324 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:05,691 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:11,059 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:16,428 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:16,783 INFO ‚úÖ LLM analysis completed in 64.80s
2025-10-19 09:24:16,785 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:24:16,785 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:24:16,786 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:24:16,786 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:24:16,787 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:24:16,788 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:24:16,788 INFO üîì LLM analysis flag cleared after 64.80s
2025-10-19 09:24:21,794 INFO ‚úÖ LLM request allowed - OK (last request 69.8s ago)
2025-10-19 09:24:21,794 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:24:21,795 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:24:21,795 INFO üîç Analysis flag set at 09:24:21
2025-10-19 09:24:21,795 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:24:37,932 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:43,293 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:48,655 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:54,016 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:24:59,383 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:25:04,784 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:25:10,139 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:25:14,536 INFO ‚úÖ LLM analysis completed in 52.74s
2025-10-19 09:25:14,537 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:25:14,537 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:25:14,537 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:25:14,537 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:25:14,537 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:25:14,537 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:25:14,537 INFO üîì LLM analysis flag cleared after 52.74s
2025-10-19 09:25:15,504 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:25:20,866 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 09:25:26,230 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:25:26,231 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:25:26,231 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:25:26,231 INFO üîç Analysis flag set at 09:25:26
2025-10-19 09:25:26,231 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:25:42,367 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:25:47,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:25:53,093 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:25:58,457 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:26:03,825 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:26:09,229 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:26:12,805 INFO ‚úÖ LLM analysis completed in 46.57s
2025-10-19 09:26:12,806 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:26:12,806 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:26:12,806 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:26:12,806 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:26:12,806 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:26:12,807 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:26:12,807 INFO üîì LLM analysis flag cleared after 46.58s
2025-10-19 09:26:14,598 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-19 09:26:19,963 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:26:25,327 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 09:26:30,692 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 09:26:30,693 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:26:30,693 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:26:30,693 INFO üîç Analysis flag set at 09:26:30
2025-10-19 09:26:30,693 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:26:46,804 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:26:52,168 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:26:57,533 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:26:57,858 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 2332.9s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 2332.88, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 09:27:02,896 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:27:08,260 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:27:13,627 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:27:18,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:27:24,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:27:27,954 INFO ‚úÖ LLM analysis completed in 57.26s
2025-10-19 09:27:27,955 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:27:27,956 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:27:27,957 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:27:27,957 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:27:27,957 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:27:27,958 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:27:27,958 INFO üîì LLM analysis flag cleared after 57.26s
2025-10-19 09:27:29,718 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:27:35,086 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:27:35,086 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:27:35,087 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:27:35,087 INFO üîç Analysis flag set at 09:27:35
2025-10-19 09:27:35,087 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:27:51,169 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:27:56,532 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:01,896 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:07,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:12,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:17,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:23,363 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:28,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:34,097 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:28:37,599 INFO ‚úÖ LLM analysis completed in 62.51s
2025-10-19 09:28:37,600 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:28:37,600 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:28:37,601 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:28:37,601 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:28:37,601 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:28:37,602 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:28:37,602 INFO üîì LLM analysis flag cleared after 62.52s
2025-10-19 09:28:39,462 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:28:39,463 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:28:39,463 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:28:39,463 INFO üîç Analysis flag set at 09:28:39
2025-10-19 09:28:39,463 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:28:55,557 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:00,919 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:06,285 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:11,653 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:17,018 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:22,384 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:27,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:33,101 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:29:38,424 INFO ‚úÖ LLM analysis completed in 58.96s
2025-10-19 09:29:38,424 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:29:38,424 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:29:38,424 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:29:38,424 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:29:38,424 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:29:38,424 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:29:38,424 INFO üîì LLM analysis flag cleared after 58.96s
2025-10-19 09:29:38,468 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:29:43,826 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:29:43,827 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:29:43,827 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:29:43,827 INFO üîç Analysis flag set at 09:29:43
2025-10-19 09:29:43,827 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:29:59,951 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:05,316 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:10,679 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:16,045 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:21,411 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:26,778 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:32,143 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:30:37,100 INFO ‚úÖ LLM analysis completed in 53.27s
2025-10-19 09:30:37,100 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:30:37,100 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:30:37,101 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:30:37,101 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:30:37,101 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:30:37,101 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:30:37,101 INFO üîì LLM analysis flag cleared after 53.27s
2025-10-19 09:30:37,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:30:42,853 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:30:48,220 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:30:48,221 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:30:48,221 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:30:48,221 INFO üîç Analysis flag set at 09:30:48
2025-10-19 09:30:48,221 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:31:04,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:09,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:15,110 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:20,477 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:25,844 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:31,203 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:36,561 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:41,953 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:31:43,254 INFO ‚úÖ LLM analysis completed in 55.03s
2025-10-19 09:31:43,256 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:31:43,256 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:31:43,257 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:31:43,257 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:31:43,257 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:31:43,258 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:31:43,258 INFO üîì LLM analysis flag cleared after 55.04s
2025-10-19 09:31:47,317 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 09:31:52,682 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 09:31:52,683 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:31:52,684 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:31:52,684 INFO üîç Analysis flag set at 09:31:52
2025-10-19 09:31:52,684 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:32:08,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:14,140 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:19,504 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:24,882 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:30,250 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:35,618 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:40,985 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:46,352 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:51,704 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:32:57,060 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:02,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:07,788 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:13,148 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:16,848 INFO ‚úÖ LLM analysis completed in 84.16s
2025-10-19 09:33:16,849 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:33:16,849 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:33:16,849 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:33:16,849 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:33:16,849 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:33:16,849 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:33:16,849 INFO üîì LLM analysis flag cleared after 84.17s
2025-10-19 09:33:18,513 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 09:33:18,514 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:33:18,515 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:33:18,515 INFO üîç Analysis flag set at 09:33:18
2025-10-19 09:33:18,515 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:33:34,618 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:39,984 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:45,343 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:50,710 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:33:56,077 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:01,443 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:06,810 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:12,175 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:17,540 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:22,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:28,262 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:33,636 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:34:35,185 INFO ‚úÖ LLM analysis completed in 76.67s
2025-10-19 09:34:35,187 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:34:35,187 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:34:35,188 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:34:35,188 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:34:35,188 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:34:35,189 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:34:35,189 INFO üîì LLM analysis flag cleared after 76.67s
2025-10-19 09:34:39,003 INFO ‚úÖ LLM request allowed - OK (last request 80.5s ago)
2025-10-19 09:34:39,004 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:34:39,005 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:34:39,005 INFO üîç Analysis flag set at 09:34:39
2025-10-19 09:34:39,005 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:34:55,089 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:00,469 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:05,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:11,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:16,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:21,927 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:27,292 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:32,655 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:35:37,344 INFO ‚úÖ LLM analysis completed in 58.34s
2025-10-19 09:35:37,345 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:35:37,345 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:35:37,345 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:35:37,345 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:35:37,345 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:35:37,345 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:35:37,345 INFO üîì LLM analysis flag cleared after 58.34s
2025-10-19 09:35:38,021 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:35:43,380 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:35:43,380 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:35:43,381 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:35:43,381 INFO üîç Analysis flag set at 09:35:43
2025-10-19 09:35:43,381 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:35:59,459 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:04,823 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:10,199 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:15,564 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:20,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:26,292 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:31,691 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:36:34,892 INFO ‚úÖ LLM analysis completed in 51.51s
2025-10-19 09:36:34,894 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:36:34,894 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:36:34,894 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:36:34,894 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:36:34,894 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:36:34,895 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:36:34,895 INFO üîì LLM analysis flag cleared after 51.51s
2025-10-19 09:36:37,057 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:36:42,419 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:36:47,779 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:36:47,780 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:36:47,781 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:36:47,781 INFO üîç Analysis flag set at 09:36:47
2025-10-19 09:36:47,781 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:37:03,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:37:09,243 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:37:14,609 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:37:19,975 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:37:25,343 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:37:30,709 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:37:34,592 INFO ‚úÖ LLM analysis completed in 46.81s
2025-10-19 09:37:34,592 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:37:34,592 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:37:34,592 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:37:34,592 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:37:34,592 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:37:34,593 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:37:34,593 INFO üîì LLM analysis flag cleared after 46.81s
2025-10-19 09:37:36,075 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 09:37:41,477 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:37:46,841 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 09:37:52,212 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:37:52,213 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:37:52,214 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:37:52,214 INFO üîç Analysis flag set at 09:37:52
2025-10-19 09:37:52,214 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:38:08,306 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:13,670 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:19,029 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:24,396 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:29,760 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:35,188 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:40,562 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:45,924 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:51,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:38:56,646 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:02,009 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:04,501 INFO ‚úÖ LLM analysis completed in 72.29s
2025-10-19 09:39:04,502 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:39:04,502 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:39:04,504 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:39:04,504 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:39:04,505 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:39:04,506 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:39:04,506 INFO üîì LLM analysis flag cleared after 72.29s
2025-10-19 09:39:07,374 INFO ‚úÖ LLM request allowed - OK (last request 75.2s ago)
2025-10-19 09:39:07,375 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:39:07,375 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:39:07,375 INFO üîç Analysis flag set at 09:39:07
2025-10-19 09:39:07,375 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:39:23,460 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:28,826 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:34,186 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:39,553 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:44,943 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:50,307 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:55,674 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:39:56,418 INFO ‚úÖ LLM analysis completed in 49.04s
2025-10-19 09:39:56,419 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:39:56,420 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:39:56,421 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:39:56,421 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:39:56,421 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:39:56,422 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:39:56,422 INFO üîì LLM analysis flag cleared after 49.05s
2025-10-19 09:40:01,038 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:40:06,403 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:40:11,763 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:40:11,764 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:40:11,764 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:40:11,764 INFO üîç Analysis flag set at 09:40:11
2025-10-19 09:40:11,764 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:40:27,858 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:40:33,224 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:40:38,591 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:40:43,950 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:40:49,340 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:40:54,705 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:00,068 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:03,311 INFO ‚úÖ LLM analysis completed in 51.55s
2025-10-19 09:41:03,312 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:41:03,313 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:41:03,314 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:41:03,314 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:41:03,314 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:41:03,315 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:41:03,315 INFO üîì LLM analysis flag cleared after 51.55s
2025-10-19 09:41:05,436 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 09:41:10,796 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:41:16,152 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:41:16,153 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:41:16,153 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:41:16,153 INFO üîç Analysis flag set at 09:41:16
2025-10-19 09:41:16,153 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:41:32,238 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:37,602 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:42,960 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:48,322 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:53,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:41:59,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:04,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:09,803 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:15,168 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:20,534 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:25,904 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:31,260 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:36,627 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:41,998 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:42:47,195 INFO ‚úÖ LLM analysis completed in 91.04s
2025-10-19 09:42:47,196 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:42:47,196 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:42:47,196 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:42:47,196 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:42:47,196 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:42:47,196 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:42:47,196 INFO üîì LLM analysis flag cleared after 91.04s
2025-10-19 09:42:47,361 INFO ‚úÖ LLM request allowed - OK (last request 91.2s ago)
2025-10-19 09:42:47,362 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:42:47,363 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:42:47,363 INFO üîç Analysis flag set at 09:42:47
2025-10-19 09:42:47,363 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:43:03,480 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:08,844 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:14,200 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:19,563 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:24,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:30,290 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:35,656 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:41,020 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:46,381 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:51,748 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:43:57,115 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:02,480 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:07,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:09,527 INFO ‚úÖ LLM analysis completed in 82.16s
2025-10-19 09:44:09,528 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:44:09,528 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:44:09,529 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:44:09,529 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:44:09,529 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:44:09,530 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:44:09,531 INFO üîì LLM analysis flag cleared after 82.17s
2025-10-19 09:44:13,212 INFO ‚úÖ LLM request allowed - OK (last request 85.8s ago)
2025-10-19 09:44:13,213 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:44:13,214 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:44:13,214 INFO üîç Analysis flag set at 09:44:13
2025-10-19 09:44:13,214 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:44:29,305 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:34,671 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:40,027 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:45,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:50,743 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:44:56,107 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:01,465 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:06,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:12,200 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:15,574 INFO ‚úÖ LLM analysis completed in 62.36s
2025-10-19 09:45:15,576 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:45:15,576 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:45:15,577 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:45:15,577 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:45:15,577 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:45:15,578 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:45:15,578 INFO üîì LLM analysis flag cleared after 62.36s
2025-10-19 09:45:17,567 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:45:17,568 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:45:17,568 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:45:17,568 INFO üîç Analysis flag set at 09:45:17
2025-10-19 09:45:17,568 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:45:33,668 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:39,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:44,401 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:49,766 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:45:55,126 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:00,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:05,843 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:11,206 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:16,569 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:19,370 INFO ‚úÖ LLM analysis completed in 61.80s
2025-10-19 09:46:19,372 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:46:19,372 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:46:19,373 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:46:19,373 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:46:19,373 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:46:19,374 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:46:19,375 INFO üîì LLM analysis flag cleared after 61.81s
2025-10-19 09:46:21,935 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:46:21,936 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:46:21,936 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:46:21,936 INFO üîç Analysis flag set at 09:46:21
2025-10-19 09:46:21,936 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:46:38,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:43,379 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:48,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:54,108 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:46:59,471 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:04,834 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:10,199 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:15,566 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:20,929 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:26,290 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:31,656 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:37,022 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:47:38,424 INFO ‚úÖ LLM analysis completed in 76.49s
2025-10-19 09:47:38,426 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:47:38,426 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:47:38,426 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:47:38,426 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:47:38,427 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:47:38,427 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:47:38,428 INFO üîì LLM analysis flag cleared after 76.49s
2025-10-19 09:47:42,393 INFO ‚úÖ LLM request allowed - OK (last request 80.5s ago)
2025-10-19 09:47:42,394 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:47:42,394 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:47:42,394 INFO üîç Analysis flag set at 09:47:42
2025-10-19 09:47:42,394 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:47:58,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:03,854 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:09,218 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:14,584 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:19,941 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:25,298 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:30,663 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:36,089 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:48:36,587 INFO ‚úÖ LLM analysis completed in 54.19s
2025-10-19 09:48:36,588 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:48:36,589 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:48:36,589 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:48:36,589 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:48:36,590 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:48:36,591 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:48:36,591 INFO üîì LLM analysis flag cleared after 54.20s
2025-10-19 09:48:41,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 09:48:46,812 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:48:46,812 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:48:46,813 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:48:46,813 INFO üîç Analysis flag set at 09:48:46
2025-10-19 09:48:46,813 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:49:02,904 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:49:08,264 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:49:13,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:49:18,985 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:49:24,345 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:49:29,707 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:49:34,441 INFO ‚úÖ LLM analysis completed in 47.63s
2025-10-19 09:49:34,442 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:49:34,442 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:49:34,442 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:49:34,442 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:49:34,442 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:49:34,442 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:49:34,442 INFO üîì LLM analysis flag cleared after 47.63s
2025-10-19 09:49:35,070 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 09:49:40,436 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-19 09:49:45,798 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:49:51,160 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 09:49:51,161 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:49:51,162 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:49:51,162 INFO üîç Analysis flag set at 09:49:51
2025-10-19 09:49:51,162 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:50:07,250 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:07,669 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3722.7s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 3722.69, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 09:50:07,719 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 3722.7s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 3722.75, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 09:50:12,612 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:17,967 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:23,332 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:28,698 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:34,064 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:39,429 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:44,793 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:50,158 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:50:51,949 INFO ‚úÖ LLM analysis completed in 60.79s
2025-10-19 09:50:51,950 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:50:51,950 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:50:51,951 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:50:51,951 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:50:51,951 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:50:51,952 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:50:51,953 INFO üîì LLM analysis flag cleared after 60.79s
2025-10-19 09:50:55,522 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:50:55,523 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:50:55,523 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:50:55,523 INFO üîç Analysis flag set at 09:50:55
2025-10-19 09:50:55,523 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:51:11,611 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:16,976 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:22,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:27,706 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:33,070 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:38,430 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:43,792 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:49,147 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:51:51,148 INFO ‚úÖ LLM analysis completed in 55.62s
2025-10-19 09:51:51,150 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:51:51,150 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:51:51,150 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:51:51,151 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:51:51,151 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:51:51,152 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:51:51,152 INFO üîì LLM analysis flag cleared after 55.63s
2025-10-19 09:51:54,502 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:51:59,867 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 09:51:59,867 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:51:59,868 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:51:59,868 INFO üîç Analysis flag set at 09:51:59
2025-10-19 09:51:59,868 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:52:15,973 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:21,339 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:26,695 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:32,059 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:37,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:42,785 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:48,147 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:53,509 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:52:58,868 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:04,231 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:09,592 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:14,957 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:17,676 INFO ‚úÖ LLM analysis completed in 77.81s
2025-10-19 09:53:17,678 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:53:17,678 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:53:17,679 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:53:17,679 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:53:17,679 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:53:17,680 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:53:17,680 INFO üîì LLM analysis flag cleared after 77.81s
2025-10-19 09:53:20,322 INFO ‚úÖ LLM request allowed - OK (last request 80.5s ago)
2025-10-19 09:53:20,323 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:53:20,324 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:53:20,324 INFO üîç Analysis flag set at 09:53:20
2025-10-19 09:53:20,324 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:53:36,414 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:41,815 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:47,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:52,644 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:53:57,998 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:03,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:08,726 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:14,087 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:19,453 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:21,677 INFO ‚úÖ LLM analysis completed in 61.35s
2025-10-19 09:54:21,678 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:54:21,678 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:54:21,679 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:54:21,679 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:54:21,679 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:54:21,680 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:54:21,680 INFO üîì LLM analysis flag cleared after 61.36s
2025-10-19 09:54:24,816 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 09:54:24,817 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:54:24,817 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:54:24,817 INFO üîç Analysis flag set at 09:54:24
2025-10-19 09:54:24,817 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:54:40,930 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:46,292 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:51,651 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:54:57,015 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:02,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:07,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:13,108 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:18,474 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:23,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:27,927 INFO ‚úÖ LLM analysis completed in 63.11s
2025-10-19 09:55:27,927 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:55:27,927 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:55:27,927 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:55:27,927 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:55:27,927 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:55:27,928 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:55:27,928 INFO üîì LLM analysis flag cleared after 63.11s
2025-10-19 09:55:29,201 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:55:29,202 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:55:29,203 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:55:29,203 INFO üîç Analysis flag set at 09:55:29
2025-10-19 09:55:29,203 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:55:45,299 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:50,664 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:55:56,031 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:56:01,394 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:56:06,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:56:12,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:56:12,391 INFO ‚úÖ LLM analysis completed in 43.19s
2025-10-19 09:56:12,393 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:56:12,393 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:56:12,394 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:56:12,394 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:56:12,394 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:56:12,395 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:56:12,395 INFO üîì LLM analysis flag cleared after 43.19s
2025-10-19 09:56:17,486 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 09:56:22,851 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.4s more, min interval: 60s)
2025-10-19 09:56:28,217 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 09:56:33,583 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 09:56:33,584 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:56:33,584 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:56:33,584 INFO üîç Analysis flag set at 09:56:33
2025-10-19 09:56:33,584 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:56:49,763 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:56:55,121 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:00,483 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:05,847 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:11,215 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:16,581 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:21,946 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:27,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:32,668 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:38,031 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:43,391 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:48,755 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:54,142 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:57:59,507 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:02,042 INFO ‚úÖ LLM analysis completed in 88.46s
2025-10-19 09:58:02,044 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:58:02,044 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:58:02,045 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:58:02,045 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:58:02,045 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:58:02,046 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:58:02,046 INFO üîì LLM analysis flag cleared after 88.46s
2025-10-19 09:58:04,875 INFO ‚úÖ LLM request allowed - OK (last request 91.3s ago)
2025-10-19 09:58:04,876 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:58:04,877 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:58:04,877 INFO üîç Analysis flag set at 09:58:04
2025-10-19 09:58:04,877 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:58:20,965 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:26,428 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:31,774 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:37,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:42,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:47,868 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:53,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:58:58,603 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:03,973 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:09,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:14,700 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:20,064 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:20,172 INFO ‚úÖ LLM analysis completed in 75.30s
2025-10-19 09:59:20,173 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 09:59:20,173 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 09:59:20,173 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 09:59:20,173 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 09:59:20,173 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 09:59:20,173 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 09:59:20,173 INFO üîì LLM analysis flag cleared after 75.30s
2025-10-19 09:59:25,429 INFO ‚úÖ LLM request allowed - OK (last request 80.6s ago)
2025-10-19 09:59:25,430 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 09:59:25,431 INFO ü§ñ Starting background LLM analysis...
2025-10-19 09:59:25,431 INFO üîç Analysis flag set at 09:59:25
2025-10-19 09:59:25,431 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 09:59:41,669 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:47,058 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:52,425 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 09:59:57,786 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:03,150 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:08,516 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:13,881 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:19,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:24,614 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:30,029 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:35,388 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:40,770 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:00:41,685 INFO ‚úÖ LLM analysis completed in 76.25s
2025-10-19 10:00:41,687 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:00:41,687 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:00:41,688 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:00:41,688 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:00:41,688 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:00:41,689 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:00:41,689 INFO üîì LLM analysis flag cleared after 76.26s
2025-10-19 10:00:46,128 INFO ‚úÖ LLM request allowed - OK (last request 80.7s ago)
2025-10-19 10:00:46,129 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:00:46,130 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:00:46,130 INFO üîç Analysis flag set at 10:00:46
2025-10-19 10:00:46,130 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:01:02,221 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:07,584 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:12,945 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:18,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:23,701 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:29,061 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:34,419 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:39,781 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:01:43,999 INFO ‚úÖ LLM analysis completed in 57.87s
2025-10-19 10:01:44,000 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:01:44,000 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:01:44,000 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:01:44,000 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:01:44,000 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:01:44,000 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:01:44,000 INFO üîì LLM analysis flag cleared after 57.87s
2025-10-19 10:01:45,140 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 10:01:50,499 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 10:01:50,500 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:01:50,500 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:01:50,500 INFO üîç Analysis flag set at 10:01:50
2025-10-19 10:01:50,500 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:02:06,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:12,071 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:17,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:22,801 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:28,167 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:33,634 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:38,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:44,368 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:49,725 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:02:53,796 INFO ‚úÖ LLM analysis completed in 63.30s
2025-10-19 10:02:53,796 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:02:53,796 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:02:53,797 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:02:53,797 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:02:53,797 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:02:53,797 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:02:53,797 INFO üîì LLM analysis flag cleared after 63.30s
2025-10-19 10:02:55,091 INFO ‚úÖ LLM request allowed - OK (last request 64.6s ago)
2025-10-19 10:02:55,092 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:02:55,092 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:02:55,092 INFO üîç Analysis flag set at 10:02:55
2025-10-19 10:02:55,092 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:03:11,172 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:16,525 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:21,880 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:27,242 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:32,606 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:37,973 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:43,331 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:48,728 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:54,076 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:03:59,434 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:04,796 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:10,162 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:15,530 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:20,892 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:23,351 INFO ‚úÖ LLM analysis completed in 88.26s
2025-10-19 10:04:23,353 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:04:23,353 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:04:23,354 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:04:23,354 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:04:23,354 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:04:23,355 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:04:23,355 INFO üîì LLM analysis flag cleared after 88.26s
2025-10-19 10:04:26,277 INFO ‚úÖ LLM request allowed - OK (last request 91.2s ago)
2025-10-19 10:04:26,278 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:04:26,278 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:04:26,278 INFO üîç Analysis flag set at 10:04:26
2025-10-19 10:04:26,278 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:04:42,365 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:47,728 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:53,084 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:04:58,470 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:03,825 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:09,215 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:14,580 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:19,937 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:23,081 INFO ‚úÖ LLM analysis completed in 56.80s
2025-10-19 10:05:23,082 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:05:23,083 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:05:23,083 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:05:23,083 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:05:23,083 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:05:23,084 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:05:23,084 INFO üîì LLM analysis flag cleared after 56.81s
2025-10-19 10:05:25,298 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 10:05:30,663 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 10:05:30,664 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:05:30,666 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:05:30,666 INFO üîç Analysis flag set at 10:05:30
2025-10-19 10:05:30,666 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:05:46,856 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:52,222 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:05:57,583 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:02,949 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:08,315 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:13,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:19,077 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:24,441 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:24,625 INFO ‚úÖ LLM analysis completed in 53.96s
2025-10-19 10:06:24,626 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:06:24,626 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:06:24,627 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:06:24,627 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:06:24,627 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:06:24,628 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:06:24,628 INFO üîì LLM analysis flag cleared after 53.96s
2025-10-19 10:06:29,797 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 10:06:35,160 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 10:06:35,161 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:06:35,162 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:06:35,162 INFO üîç Analysis flag set at 10:06:35
2025-10-19 10:06:35,162 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:06:51,286 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:06:56,647 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:02,007 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:07,373 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:12,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:18,096 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:23,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:28,880 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:34,229 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:39,589 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:45,000 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:50,357 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:07:53,627 INFO ‚úÖ LLM analysis completed in 78.47s
2025-10-19 10:07:53,628 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:07:53,628 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:07:53,628 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:07:53,628 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:07:53,628 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:07:53,629 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:07:53,629 INFO üîì LLM analysis flag cleared after 78.47s
2025-10-19 10:07:55,747 INFO ‚úÖ LLM request allowed - OK (last request 80.6s ago)
2025-10-19 10:07:55,747 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:07:55,748 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:07:55,748 INFO üîç Analysis flag set at 10:07:55
2025-10-19 10:07:55,748 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:08:11,830 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:17,188 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:22,611 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:28,061 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:33,457 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:38,819 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:44,183 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:49,549 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:08:50,554 INFO ‚úÖ LLM analysis completed in 54.81s
2025-10-19 10:08:50,556 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:08:50,556 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:08:50,557 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:08:50,557 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:08:50,557 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:08:50,558 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:08:50,558 INFO üîì LLM analysis flag cleared after 54.81s
2025-10-19 10:08:55,011 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-19 10:09:00,399 INFO ‚úÖ LLM request allowed - OK (last request 64.7s ago)
2025-10-19 10:09:00,400 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:09:00,400 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:09:00,400 INFO üîç Analysis flag set at 10:09:00
2025-10-19 10:09:00,400 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:09:16,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:21,853 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:27,234 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:32,630 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:38,019 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:43,379 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:48,743 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:54,115 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:09:59,472 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:04,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:05,941 INFO ‚úÖ LLM analysis completed in 65.54s
2025-10-19 10:10:05,943 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:10:05,943 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:10:05,944 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:10:05,944 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:10:05,944 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:10:05,945 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:10:05,945 INFO üîì LLM analysis flag cleared after 65.55s
2025-10-19 10:10:10,242 INFO ‚úÖ LLM request allowed - OK (last request 69.8s ago)
2025-10-19 10:10:10,243 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:10:10,243 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:10:10,243 INFO üîç Analysis flag set at 10:10:10
2025-10-19 10:10:10,243 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:10:26,339 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:31,749 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:37,104 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:42,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:47,868 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:53,223 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:10:58,589 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:04,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:09,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:14,739 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:18,895 INFO ‚úÖ LLM analysis completed in 68.65s
2025-10-19 10:11:18,896 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:11:18,896 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:11:18,896 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:11:18,896 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:11:18,896 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:11:18,896 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:11:18,896 INFO üîì LLM analysis flag cleared after 68.65s
2025-10-19 10:11:20,101 INFO ‚úÖ LLM request allowed - OK (last request 69.9s ago)
2025-10-19 10:11:20,101 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:11:20,102 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:11:20,102 INFO üîç Analysis flag set at 10:11:20
2025-10-19 10:11:20,102 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:11:36,195 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:41,570 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:47,003 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:52,357 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:11:57,717 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:12:03,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:12:08,448 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:12:12,683 INFO ‚úÖ LLM analysis completed in 52.58s
2025-10-19 10:12:12,683 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:12:12,683 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:12:12,683 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:12:12,683 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:12:12,683 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:12:12,683 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:12:12,684 INFO üîì LLM analysis flag cleared after 52.58s
2025-10-19 10:12:13,859 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.2s more, min interval: 60s)
2025-10-19 10:12:19,210 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 10:12:24,568 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 10:12:24,569 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:12:24,569 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:12:24,569 INFO üîç Analysis flag set at 10:12:24
2025-10-19 10:12:24,569 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:12:40,654 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:12:46,124 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:12:51,502 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:12:56,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:02,241 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:07,595 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:12,961 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:14,084 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 5109.1s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 5109.11, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 10:13:18,324 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:23,714 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:29,085 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:34,441 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:39,803 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:13:45,160 INFO ‚úÖ LLM analysis completed in 80.59s
2025-10-19 10:13:45,161 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:13:45,161 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:13:45,161 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:13:45,161 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:13:45,161 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:13:45,161 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:13:45,161 INFO üîì LLM analysis flag cleared after 80.59s
2025-10-19 10:13:45,167 INFO ‚úÖ LLM request allowed - OK (last request 80.6s ago)
2025-10-19 10:13:45,168 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:13:45,169 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:13:45,169 INFO üîç Analysis flag set at 10:13:45
2025-10-19 10:13:45,169 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:14:01,276 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:06,631 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:11,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:17,360 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:22,727 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:28,108 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:33,458 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:38,852 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:44,211 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:49,571 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:14:55,008 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:15:00,356 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:15:05,717 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:15:05,933 INFO ‚úÖ LLM analysis completed in 80.76s
2025-10-19 10:15:05,935 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:15:05,935 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:15:05,936 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:15:05,936 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:15:05,936 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:15:05,937 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:15:05,937 INFO üîì LLM analysis flag cleared after 80.77s
2025-10-19 10:30:21,759 INFO ‚úÖ LLM request allowed - OK (last request 996.6s ago)
2025-10-19 10:30:21,760 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:30:21,761 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:30:21,761 INFO üîç Analysis flag set at 10:30:21
2025-10-19 10:30:21,761 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:30:37,844 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:30:43,202 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:30:48,571 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:30:53,929 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:30:59,290 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:31:04,668 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:05,738 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:11,108 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:16,473 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:21,838 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:27,209 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:32,570 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:37,925 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:43,298 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:48,666 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:54,032 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:45:59,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:04,764 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:10,126 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:15,481 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:20,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:26,206 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:31,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:36,940 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:42,305 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:47,670 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:53,031 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:46:58,399 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:03,764 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:09,127 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:14,475 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:17,454 ERROR ‚ùå LLM analysis timed out after 180 seconds
2025-10-19 10:47:17,455 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:47:17,456 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:47:17,456 INFO üîì LLM analysis flag cleared after 1015.70s
2025-10-19 10:47:19,840 INFO ‚úÖ LLM request allowed - OK (last request 1018.1s ago)
2025-10-19 10:47:19,841 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:47:19,841 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:47:19,841 INFO üîç Analysis flag set at 10:47:19
2025-10-19 10:47:19,841 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:47:35,936 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:41,358 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:46,716 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:52,071 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:47:57,438 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:48:02,810 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:48:07,911 INFO ‚úÖ LLM analysis completed in 48.07s
2025-10-19 10:48:07,912 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:48:07,912 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:48:07,912 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:48:07,912 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:48:07,912 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:48:07,912 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:48:07,912 INFO üîì LLM analysis flag cleared after 48.07s
2025-10-19 10:48:08,173 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 10:48:13,538 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 10:48:18,906 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 10:48:24,272 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 10:48:24,273 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:48:24,273 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:48:24,273 INFO üîç Analysis flag set at 10:48:24
2025-10-19 10:48:24,273 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:48:40,363 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:48:45,726 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:48:51,092 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:48:56,446 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:01,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:07,174 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:12,534 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:17,904 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:23,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:28,637 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:31,471 INFO ‚úÖ LLM analysis completed in 67.20s
2025-10-19 10:49:31,473 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:49:31,473 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:49:31,473 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:49:31,473 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:49:31,473 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:49:31,474 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:49:31,474 INFO üîì LLM analysis flag cleared after 67.20s
2025-10-19 10:49:34,000 INFO ‚úÖ LLM request allowed - OK (last request 69.7s ago)
2025-10-19 10:49:34,001 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:49:34,001 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:49:34,001 INFO üîç Analysis flag set at 10:49:34
2025-10-19 10:49:34,001 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:49:50,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:49:55,488 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:00,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:06,207 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:11,568 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:16,924 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:22,285 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:27,645 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:33,008 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:38,372 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:43,737 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:50:44,248 INFO ‚úÖ LLM analysis completed in 70.25s
2025-10-19 10:50:44,250 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:50:44,250 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:50:44,251 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:50:44,251 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:50:44,251 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:50:44,252 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:50:44,252 INFO üîì LLM analysis flag cleared after 70.25s
2025-10-19 10:50:49,118 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 10:50:49,118 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:50:49,119 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:50:49,119 INFO üîç Analysis flag set at 10:50:49
2025-10-19 10:50:49,119 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:51:05,236 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:51:10,590 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:51:15,952 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:51:21,312 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:51:26,669 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:51:32,083 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:51:34,457 INFO ‚úÖ LLM analysis completed in 45.34s
2025-10-19 10:51:34,459 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:51:34,459 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:51:34,460 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:51:34,460 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:51:34,460 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:51:34,461 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:51:34,461 INFO üîì LLM analysis flag cleared after 45.34s
2025-10-19 10:51:37,447 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.7s more, min interval: 60s)
2025-10-19 10:51:42,819 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 10:51:48,202 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 10:51:53,563 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 10:51:53,564 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:51:53,564 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:51:53,564 INFO üîç Analysis flag set at 10:51:53
2025-10-19 10:51:53,564 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:52:09,652 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:15,027 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:20,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:25,801 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:31,165 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:36,554 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:41,920 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:47,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:52,689 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:52:58,046 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:03,418 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:06,217 INFO ‚úÖ LLM analysis completed in 72.65s
2025-10-19 10:53:06,219 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:53:06,219 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:53:06,220 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:53:06,220 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:53:06,220 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:53:06,221 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:53:06,221 INFO üîì LLM analysis flag cleared after 72.66s
2025-10-19 10:53:08,782 INFO ‚úÖ LLM request allowed - OK (last request 75.2s ago)
2025-10-19 10:53:08,783 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:53:08,783 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:53:08,783 INFO üîç Analysis flag set at 10:53:08
2025-10-19 10:53:08,783 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:53:24,877 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:30,244 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:35,612 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:41,012 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:46,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:51,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:53:57,095 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:02,472 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:07,827 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:13,189 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:18,551 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:20,856 INFO ‚úÖ LLM analysis completed in 72.07s
2025-10-19 10:54:20,858 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:54:20,858 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:54:20,859 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:54:20,859 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:54:20,859 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:54:20,860 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:54:20,860 INFO üîì LLM analysis flag cleared after 72.08s
2025-10-19 10:54:23,916 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 10:54:23,917 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:54:23,917 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:54:23,917 INFO üîç Analysis flag set at 10:54:23
2025-10-19 10:54:23,917 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:54:40,021 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:45,411 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:50,780 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:54:56,146 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:55:01,552 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:55:06,916 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:55:12,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:55:16,968 INFO ‚úÖ LLM analysis completed in 53.05s
2025-10-19 10:55:16,969 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:55:16,969 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:55:16,969 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:55:16,969 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:55:16,969 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:55:16,969 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:55:16,969 INFO üîì LLM analysis flag cleared after 53.05s
2025-10-19 10:55:17,649 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 10:55:23,016 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 10:55:28,378 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 10:55:28,379 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:55:28,380 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:55:28,380 INFO üîç Analysis flag set at 10:55:28
2025-10-19 10:55:28,380 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:55:44,519 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:55:49,884 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:55:55,268 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:00,641 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:06,013 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:11,365 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:16,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:22,109 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:27,251 INFO ‚úÖ LLM analysis completed in 58.87s
2025-10-19 10:56:27,252 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:56:27,252 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:56:27,252 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:56:27,252 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:56:27,252 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:56:27,252 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:56:27,252 INFO üîì LLM analysis flag cleared after 58.87s
2025-10-19 10:56:27,535 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-19 10:56:32,904 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 10:56:32,905 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:56:32,905 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:56:32,905 INFO üîç Analysis flag set at 10:56:32
2025-10-19 10:56:32,905 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:56:49,040 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:54,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:56:59,762 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:05,130 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:10,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:15,872 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:21,238 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:26,604 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:26,701 INFO ‚úÖ LLM analysis completed in 53.80s
2025-10-19 10:57:26,702 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:57:26,702 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:57:26,702 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:57:26,702 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:57:26,702 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:57:26,702 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:57:26,702 INFO üîì LLM analysis flag cleared after 53.80s
2025-10-19 10:57:31,969 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.9s more, min interval: 60s)
2025-10-19 10:57:37,336 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 10:57:37,337 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:57:37,338 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:57:37,338 INFO üîç Analysis flag set at 10:57:37
2025-10-19 10:57:37,338 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:57:53,477 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:57:58,838 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:04,309 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:09,673 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:15,072 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:20,434 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:25,798 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:31,161 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:36,525 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:58:41,709 INFO ‚úÖ LLM analysis completed in 64.37s
2025-10-19 10:58:41,710 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:58:41,710 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:58:41,710 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:58:41,710 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:58:41,710 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:58:41,710 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:58:41,710 INFO üîì LLM analysis flag cleared after 64.37s
2025-10-19 10:58:41,883 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 10:58:41,884 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:58:41,884 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:58:41,884 INFO üîç Analysis flag set at 10:58:41
2025-10-19 10:58:41,884 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 10:58:57,989 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:03,356 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:08,725 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:14,087 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:19,443 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:24,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:30,174 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:35,540 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 10:59:37,930 INFO ‚úÖ LLM analysis completed in 56.05s
2025-10-19 10:59:37,932 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 10:59:37,932 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 10:59:37,933 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 10:59:37,933 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 10:59:37,933 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 10:59:37,934 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 10:59:37,934 INFO üîì LLM analysis flag cleared after 56.05s
2025-10-19 10:59:40,906 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.0s more, min interval: 60s)
2025-10-19 10:59:46,272 INFO ‚úÖ LLM request allowed - OK (last request 64.4s ago)
2025-10-19 10:59:46,273 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 10:59:46,274 INFO ü§ñ Starting background LLM analysis...
2025-10-19 10:59:46,274 INFO üîç Analysis flag set at 10:59:46
2025-10-19 10:59:46,274 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:00:02,364 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:07,722 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:13,088 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:18,451 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:23,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:29,179 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:34,542 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:39,911 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:45,277 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:50,644 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:00:56,011 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:01,392 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:06,751 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:11,522 INFO ‚úÖ LLM analysis completed in 85.25s
2025-10-19 11:01:11,522 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 11:01:11,522 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 11:01:11,522 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 11:01:11,522 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 11:01:11,522 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 11:01:11,522 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 11:01:11,522 INFO üîì LLM analysis flag cleared after 85.25s
2025-10-19 11:01:12,131 INFO ‚úÖ LLM request allowed - OK (last request 85.9s ago)
2025-10-19 11:01:12,131 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 11:01:12,132 INFO ü§ñ Starting background LLM analysis...
2025-10-19 11:01:12,132 INFO üîç Analysis flag set at 11:01:12
2025-10-19 11:01:12,132 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:01:28,214 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:33,602 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:38,968 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:44,336 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:49,727 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:01:55,092 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:00,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:05,818 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:11,188 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:16,547 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:20,645 INFO ‚úÖ LLM analysis completed in 68.51s
2025-10-19 11:02:20,645 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 11:02:20,645 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 11:02:20,645 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 11:02:20,645 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 11:02:20,645 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 11:02:20,646 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 11:02:20,646 INFO üîì LLM analysis flag cleared after 68.51s
2025-10-19 11:02:21,904 INFO ‚úÖ LLM request allowed - OK (last request 69.8s ago)
2025-10-19 11:02:21,905 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 11:02:21,905 INFO ü§ñ Starting background LLM analysis...
2025-10-19 11:02:21,906 INFO üîç Analysis flag set at 11:02:21
2025-10-19 11:02:21,906 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:02:37,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:43,363 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:48,726 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:54,082 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:02:59,448 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:04,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:10,175 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:15,541 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:20,908 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:26,273 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:31,676 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:37,037 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:42,398 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:03:46,866 INFO ‚úÖ LLM analysis completed in 84.96s
2025-10-19 11:03:46,867 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 11:03:46,867 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 11:03:46,867 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 11:03:46,867 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 11:03:46,867 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 11:03:46,867 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 11:03:46,867 INFO üîì LLM analysis flag cleared after 84.96s
2025-10-19 11:03:47,761 INFO ‚úÖ LLM request allowed - OK (last request 85.9s ago)
2025-10-19 11:03:47,762 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 11:03:47,762 INFO ü§ñ Starting background LLM analysis...
2025-10-19 11:03:47,762 INFO üîç Analysis flag set at 11:03:47
2025-10-19 11:03:47,762 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:04:03,842 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:09,207 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:14,575 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:19,941 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:25,309 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:30,676 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:36,026 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:41,392 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:46,758 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:52,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:04:57,489 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:00,598 INFO ‚úÖ LLM analysis completed in 72.84s
2025-10-19 11:05:00,600 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 11:05:00,600 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 11:05:00,601 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 11:05:00,601 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 11:05:00,601 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 11:05:00,602 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 11:05:00,602 INFO üîì LLM analysis flag cleared after 72.84s
2025-10-19 11:05:02,900 INFO ‚úÖ LLM request allowed - OK (last request 75.1s ago)
2025-10-19 11:05:02,901 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 11:05:02,901 INFO ü§ñ Starting background LLM analysis...
2025-10-19 11:05:02,901 INFO üîç Analysis flag set at 11:05:02
2025-10-19 11:05:02,901 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:05:18,993 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:24,357 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:29,726 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:30,172 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 8245.2s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 8245.2, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 11:05:35,092 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:40,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:45,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:51,171 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:05:56,539 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:01,898 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:07,053 INFO ‚úÖ LLM analysis completed in 64.15s
2025-10-19 11:06:07,054 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 11:06:07,054 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 11:06:07,054 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 11:06:07,054 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 11:06:07,054 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 11:06:07,054 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 11:06:07,054 INFO üîì LLM analysis flag cleared after 64.15s
2025-10-19 11:06:07,251 INFO ‚úÖ LLM request allowed - OK (last request 64.3s ago)
2025-10-19 11:06:07,251 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 11:06:07,252 INFO ü§ñ Starting background LLM analysis...
2025-10-19 11:06:07,252 INFO üîç Analysis flag set at 11:06:07
2025-10-19 11:06:07,252 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:06:23,337 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:28,747 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:34,140 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:36,269 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 8311.3s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 8311.3, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 11:06:36,572 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 8311.6s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 8311.6, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 11:06:39,518 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:44,893 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:50,466 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:06:55,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:01,200 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:06,574 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:07,181 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 8342.2s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 8342.21, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 11:07:11,946 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:17,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:19,656 INFO ‚úÖ LLM analysis completed in 72.40s
2025-10-19 11:07:19,657 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 11:07:19,657 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 11:07:19,658 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 11:07:19,658 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 11:07:19,658 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 11:07:19,659 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 11:07:19,659 INFO üîì LLM analysis flag cleared after 72.41s
2025-10-19 11:07:22,684 INFO ‚úÖ LLM request allowed - OK (last request 75.4s ago)
2025-10-19 11:07:22,685 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 11:07:22,685 INFO ü§ñ Starting background LLM analysis...
2025-10-19 11:07:22,685 INFO üîç Analysis flag set at 11:07:22
2025-10-19 11:07:22,685 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 11:07:38,841 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:39,222 INFO üîç Anomaly change check: {'should_analyze': False, 'reason': 'No change in 8374.2s (skipping analysis)', 'last_check_time': 1760888884.974499, 'time_since_last': 8374.25, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 11:07:44,233 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:49,619 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 11:07:54,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:05:52,197 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 15:10:57,980 INFO üí¨ Chat request - Mode: pinned, Model: gemini, Query: I really do not think root cause 1 is impoosible, ...
2025-10-19 15:10:58,005 INFO ‚úÖ Found analysis snapshot: 1760865357581
2025-10-19 15:10:58,005 INFO üìã Loaded context for analysis 1760865357581 (12946 chars)
2025-10-19 15:10:58,005 WARNING ‚ö†Ô∏è RAG search failed: 'bool' object is not iterable
2025-10-19 15:11:24,259 INFO ‚úÖ Gemini response generated with FULL RAG context
2025-10-19 15:19:53,878 INFO ‚úÖ LLM request allowed - OK (last request 1760912393.9s ago)
2025-10-19 15:19:53,881 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:19:53,882 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:19:53,882 INFO üîç Analysis flag set at 15:19:53
2025-10-19 15:19:53,882 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:19:58,400 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760912398.4008782, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:19:58,405 INFO explain start id=Fault-7 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:19:58,405 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-19 15:20:41,976 INFO ‚úÖ LLM analysis completed in 48.09s
2025-10-19 15:20:41,978 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:20:41,978 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:20:41,978 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:20:41,980 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:20:41,980 INFO üîì LLM analysis flag cleared after 48.10s
2025-10-19 15:22:02,035 INFO ‚úÖ LLM request allowed - OK (last request 128.2s ago)
2025-10-19 15:22:02,036 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:22:02,037 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:22:02,037 INFO üîç Analysis flag set at 15:22:02
2025-10-19 15:22:02,037 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:22:06,553 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760912526.552887, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:22:06,557 INFO explain start id=Fault-12 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:22:06,557 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-19 15:22:59,963 INFO ‚úÖ LLM analysis completed in 57.93s
2025-10-19 15:22:59,964 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:22:59,964 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:22:59,964 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:22:59,966 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:22:59,966 INFO üîì LLM analysis flag cleared after 57.93s
2025-10-19 15:49:24,770 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 15:50:09,146 INFO ‚úÖ LLM request allowed - OK (last request 1760914209.1s ago)
2025-10-19 15:50:09,148 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:50:09,149 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:50:09,149 INFO üîç Analysis flag set at 15:50:09
2025-10-19 15:50:09,149 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:50:13,801 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760914213.800834, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:50:13,844 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:50:13,845 WARNING üö´ LLM request blocked: Too soon (wait 55.3s more, min interval: 60s)
2025-10-19 15:50:20,204 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:23,895 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:27,586 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:31,280 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:34,973 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:38,667 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:42,363 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:46,063 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:46,841 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914246.8410828, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:50:46,870 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:50:46,870 WARNING üö´ LLM request blocked: Too soon (wait 22.3s more, min interval: 60s)
2025-10-19 15:50:49,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:53,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:50:57,165 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:00,869 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:04,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:08,277 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:10,551 INFO ‚úÖ LLM analysis completed in 61.40s
2025-10-19 15:51:10,554 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:51:10,555 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:51:10,556 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 15:51:10,556 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 15:51:10,557 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:51:10,558 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:51:10,559 INFO üîì LLM analysis flag cleared after 61.41s
2025-10-19 15:51:11,985 INFO ‚úÖ LLM request allowed - OK (last request 62.8s ago)
2025-10-19 15:51:11,986 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:51:11,987 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:51:11,987 INFO üîç Analysis flag set at 15:51:11
2025-10-19 15:51:11,987 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:51:19,919 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914279.919381, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:51:19,923 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:51:19,923 WARNING üö´ LLM request blocked: Too soon (wait 52.1s more, min interval: 60s)
2025-10-19 15:51:23,117 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:26,833 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:30,550 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:34,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:37,988 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:41,704 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:45,429 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:49,148 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:49,959 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914309.9596522, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:51:49,964 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:51:49,964 WARNING üö´ LLM request blocked: Too soon (wait 22.0s more, min interval: 60s)
2025-10-19 15:51:52,871 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:51:56,597 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:00,322 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:04,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:07,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:11,504 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:15,233 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:17,110 INFO ‚úÖ LLM analysis completed in 65.12s
2025-10-19 15:52:17,112 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:52:17,112 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:52:17,112 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 15:52:17,112 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 15:52:17,112 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:52:17,113 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:52:17,113 INFO üîì LLM analysis flag cleared after 65.13s
2025-10-19 15:52:18,970 INFO ‚úÖ LLM request allowed - OK (last request 67.0s ago)
2025-10-19 15:52:18,971 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:52:18,971 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:52:18,971 INFO üîç Analysis flag set at 15:52:18
2025-10-19 15:52:18,971 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:52:20,006 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914340.006786, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:52:20,014 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:52:20,014 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-19 15:52:30,176 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:33,908 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:37,651 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:41,391 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:45,132 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:48,873 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:52,617 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:52:52,931 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914372.9314969, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:52:52,936 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:52:52,936 WARNING üö´ LLM request blocked: Too soon (wait 26.0s more, min interval: 60s)
2025-10-19 15:52:56,354 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:00,102 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:03,853 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:07,607 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:11,361 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:15,095 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:18,847 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:22,605 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:53:22,953 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914402.953589, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:53:22,959 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:53:22,960 INFO ‚úÖ LLM request allowed: OK (last request 64.0s ago)
2025-10-19 15:53:22,960 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 15:53:22,964 INFO feature comparison prepared
2025-10-19 15:53:24,343 INFO ‚úÖ LLM analysis completed in 65.37s
2025-10-19 15:53:24,346 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:53:24,347 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:53:24,347 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 15:53:24,347 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 15:53:24,348 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:53:24,349 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:53:24,349 INFO üîì LLM analysis flag cleared after 65.38s
2025-10-19 15:53:26,371 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.6s more, min interval: 60s)
2025-10-19 15:53:30,128 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.8s more, min interval: 60s)
2025-10-19 15:53:33,892 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.1s more, min interval: 60s)
2025-10-19 15:53:37,654 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.3s more, min interval: 60s)
2025-10-19 15:53:41,422 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.5s more, min interval: 60s)
2025-10-19 15:53:45,184 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.8s more, min interval: 60s)
2025-10-19 15:53:48,956 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.0s more, min interval: 60s)
2025-10-19 15:53:52,726 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.2s more, min interval: 60s)
2025-10-19 15:53:52,997 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914432.997859, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:53:53,001 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:53:53,001 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-19 15:53:56,497 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.5s more, min interval: 60s)
2025-10-19 15:54:00,264 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.7s more, min interval: 60s)
2025-10-19 15:54:04,041 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.9s more, min interval: 60s)
2025-10-19 15:54:07,814 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.1s more, min interval: 60s)
2025-10-19 15:54:11,591 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.4s more, min interval: 60s)
2025-10-19 15:54:15,368 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.6s more, min interval: 60s)
2025-10-19 15:54:19,145 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.8s more, min interval: 60s)
2025-10-19 15:54:22,372 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 15:54:22,372 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 15:54:22,372 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 15:54:22,372 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 15:54:22,373 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 15:54:22,374 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 15:54:22,374 INFO ‚úÖ Saved analysis to history (id: 1760914462374)
2025-10-19 15:54:22,374 INFO multi-llm analysis completed id=Fault-2
2025-10-19 15:54:22,920 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.0s more, min interval: 60s)
2025-10-19 15:54:23,027 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914463.027568, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:54:23,032 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:54:23,032 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-19 15:54:23,032 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 15:54:23,034 INFO feature comparison prepared
2025-10-19 15:54:26,703 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.3s more, min interval: 60s)
2025-10-19 15:54:30,484 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.5s more, min interval: 60s)
2025-10-19 15:54:34,252 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.8s more, min interval: 60s)
2025-10-19 15:54:38,037 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.0s more, min interval: 60s)
2025-10-19 15:54:41,824 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.2s more, min interval: 60s)
2025-10-19 15:54:45,611 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.4s more, min interval: 60s)
2025-10-19 15:54:49,402 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.6s more, min interval: 60s)
2025-10-19 15:54:53,191 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.8s more, min interval: 60s)
2025-10-19 15:54:54,074 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914494.074497, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:54:54,080 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:54:54,080 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 15:54:56,978 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.1s more, min interval: 60s)
2025-10-19 15:55:00,777 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-19 15:55:04,575 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.5s more, min interval: 60s)
2025-10-19 15:55:08,373 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.7s more, min interval: 60s)
2025-10-19 15:55:12,181 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.9s more, min interval: 60s)
2025-10-19 15:55:15,970 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.1s more, min interval: 60s)
2025-10-19 15:55:19,771 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.3s more, min interval: 60s)
2025-10-19 15:55:23,576 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-19 15:55:23,577 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:55:23,577 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:55:23,577 INFO üîç Analysis flag set at 15:55:23
2025-10-19 15:55:23,577 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:55:24,113 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914524.113028, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:55:24,117 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:55:24,117 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-19 15:55:26,202 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 15:55:26,202 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 15:55:26,202 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 15:55:26,202 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 15:55:26,203 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 15:55:26,204 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 15:55:26,205 INFO ‚úÖ Saved analysis to history (id: 1760914526204)
2025-10-19 15:55:26,205 INFO multi-llm analysis completed id=Fault-2
2025-10-19 15:55:34,992 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:55:38,794 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:55:42,606 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:55:46,417 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:55:50,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:55:54,045 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:55:54,146 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914554.146816, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:55:54,152 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:55:54,152 WARNING üö´ LLM request blocked: Too soon (wait 29.4s more, min interval: 60s)
2025-10-19 15:55:57,857 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:01,675 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:05,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:09,314 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:13,137 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:16,960 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:20,787 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:24,612 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:56:25,126 INFO ‚úÖ LLM analysis completed in 61.55s
2025-10-19 15:56:25,127 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:56:25,128 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:56:25,128 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 15:56:25,128 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 15:56:25,128 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:56:25,130 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:56:25,130 INFO üîì LLM analysis flag cleared after 61.55s
2025-10-19 15:56:25,184 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914585.184587, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:56:25,190 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:56:25,190 INFO ‚úÖ LLM request allowed: OK (last request 61.6s ago)
2025-10-19 15:56:25,190 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 15:56:25,194 INFO feature comparison prepared
2025-10-19 15:56:28,446 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.7s more, min interval: 60s)
2025-10-19 15:56:32,270 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.9s more, min interval: 60s)
2025-10-19 15:56:36,101 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.1s more, min interval: 60s)
2025-10-19 15:56:39,933 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.3s more, min interval: 60s)
2025-10-19 15:56:43,762 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.4s more, min interval: 60s)
2025-10-19 15:56:47,597 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.6s more, min interval: 60s)
2025-10-19 15:56:51,435 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.8s more, min interval: 60s)
2025-10-19 15:56:55,270 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.9s more, min interval: 60s)
2025-10-19 15:56:56,220 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914616.2201002, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:56:56,226 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:56:56,226 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 15:56:59,108 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.1s more, min interval: 60s)
2025-10-19 15:57:02,943 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.2s more, min interval: 60s)
2025-10-19 15:57:06,786 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.4s more, min interval: 60s)
2025-10-19 15:57:10,633 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.6s more, min interval: 60s)
2025-10-19 15:57:14,475 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.7s more, min interval: 60s)
2025-10-19 15:57:18,320 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.9s more, min interval: 60s)
2025-10-19 15:57:22,160 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.0s more, min interval: 60s)
2025-10-19 15:57:26,006 INFO ‚úÖ LLM request allowed - OK (last request 60.8s ago)
2025-10-19 15:57:26,007 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:57:26,008 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:57:26,008 INFO üîç Analysis flag set at 15:57:26
2025-10-19 15:57:26,008 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:57:26,282 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914646.2822988, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:57:26,293 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:57:26,293 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-19 15:57:27,277 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 15:57:27,277 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 15:57:27,277 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 15:57:27,278 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 15:57:27,279 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 15:57:27,280 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 15:57:27,281 INFO ‚úÖ Saved analysis to history (id: 1760914647281)
2025-10-19 15:57:27,282 INFO multi-llm analysis completed id=Fault-2
2025-10-19 15:57:37,561 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:57:41,414 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:57:45,264 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:57:49,117 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:57:52,982 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:57:56,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:57:57,318 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914677.3187861, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:57:57,334 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:57:57,334 WARNING üö´ LLM request blocked: Too soon (wait 28.7s more, min interval: 60s)
2025-10-19 15:58:00,709 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:04,572 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:08,435 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:12,298 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:16,168 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:20,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:23,907 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:27,773 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:58:28,360 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914708.360194, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:58:28,371 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:58:28,371 INFO ‚úÖ LLM request allowed: OK (last request 62.4s ago)
2025-10-19 15:58:28,371 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 15:58:28,375 INFO feature comparison prepared
2025-10-19 15:58:31,174 INFO ‚úÖ LLM analysis completed in 65.17s
2025-10-19 15:58:31,177 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 15:58:31,177 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 15:58:31,178 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 15:58:31,178 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 15:58:31,178 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 15:58:31,180 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 15:58:31,180 INFO üîì LLM analysis flag cleared after 65.17s
2025-10-19 15:58:31,646 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.7s more, min interval: 60s)
2025-10-19 15:58:35,522 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.8s more, min interval: 60s)
2025-10-19 15:58:39,395 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.0s more, min interval: 60s)
2025-10-19 15:58:43,272 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.1s more, min interval: 60s)
2025-10-19 15:58:47,153 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.2s more, min interval: 60s)
2025-10-19 15:58:51,036 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.3s more, min interval: 60s)
2025-10-19 15:58:54,916 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.5s more, min interval: 60s)
2025-10-19 15:58:58,795 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.6s more, min interval: 60s)
2025-10-19 15:58:59,386 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914739.3866298, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:58:59,392 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:58:59,392 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 15:59:02,669 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.7s more, min interval: 60s)
2025-10-19 15:59:06,544 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.8s more, min interval: 60s)
2025-10-19 15:59:10,428 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.9s more, min interval: 60s)
2025-10-19 15:59:14,313 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.1s more, min interval: 60s)
2025-10-19 15:59:18,193 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.2s more, min interval: 60s)
2025-10-19 15:59:22,091 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.3s more, min interval: 60s)
2025-10-19 15:59:25,986 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.4s more, min interval: 60s)
2025-10-19 15:59:29,879 INFO ‚úÖ LLM request allowed - OK (last request 61.5s ago)
2025-10-19 15:59:29,880 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 15:59:29,881 INFO ü§ñ Starting background LLM analysis...
2025-10-19 15:59:29,881 INFO üîç Analysis flag set at 15:59:29
2025-10-19 15:59:29,881 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 15:59:30,441 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914770.4415529, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 15:59:30,454 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 15:59:30,454 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-19 15:59:34,955 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 15:59:34,955 INFO üìä LLM analyses keys: dict_keys(['gemini', 'anthropic'])
2025-10-19 15:59:34,955 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 15:59:34,955 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 15:59:34,956 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 15:59:34,956 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 15:59:34,956 INFO ‚úÖ Saved analysis to history (id: 1760914774956)
2025-10-19 15:59:34,957 INFO multi-llm analysis completed id=Fault-2
2025-10-19 15:59:41,593 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:59:45,497 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:59:49,404 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:59:53,308 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 15:59:57,214 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:01,123 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:01,464 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914801.464533, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:00:01,468 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:00:01,468 WARNING üö´ LLM request blocked: Too soon (wait 28.4s more, min interval: 60s)
2025-10-19 16:00:05,033 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:08,946 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:12,861 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:16,780 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:20,698 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:24,628 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:28,544 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:32,462 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:32,638 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914832.638415, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:00:32,643 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:00:32,643 INFO ‚úÖ LLM request allowed: OK (last request 62.8s ago)
2025-10-19 16:00:32,643 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 16:00:32,645 INFO feature comparison prepared
2025-10-19 16:00:36,380 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:00:40,180 INFO ‚úÖ LLM analysis completed in 70.30s
2025-10-19 16:00:40,180 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 16:00:40,180 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 16:00:40,180 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 16:00:40,180 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 16:00:40,180 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 16:00:40,181 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 16:00:40,181 INFO üîì LLM analysis flag cleared after 70.30s
2025-10-19 16:00:40,300 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.3s more, min interval: 60s)
2025-10-19 16:00:44,222 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.4s more, min interval: 60s)
2025-10-19 16:00:48,162 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.5s more, min interval: 60s)
2025-10-19 16:00:52,082 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.6s more, min interval: 60s)
2025-10-19 16:00:56,010 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.6s more, min interval: 60s)
2025-10-19 16:00:59,951 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.7s more, min interval: 60s)
2025-10-19 16:01:03,883 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.8s more, min interval: 60s)
2025-10-19 16:01:04,663 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914864.6631172, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:01:04,668 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:01:04,668 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-19 16:01:07,817 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.8s more, min interval: 60s)
2025-10-19 16:01:11,750 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-19 16:01:14,084 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 16:01:14,085 INFO üìä LLM analyses keys: dict_keys(['gemini'])
2025-10-19 16:01:14,085 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 16:01:14,086 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 16:01:14,086 INFO ‚úÖ Saved analysis to history (id: 1760914874086)
2025-10-19 16:01:14,087 INFO multi-llm analysis completed id=Fault-2
2025-10-19 16:01:15,683 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.0s more, min interval: 60s)
2025-10-19 16:01:19,614 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.0s more, min interval: 60s)
2025-10-19 16:01:23,545 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.1s more, min interval: 60s)
2025-10-19 16:01:27,487 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.2s more, min interval: 60s)
2025-10-19 16:01:31,423 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.2s more, min interval: 60s)
2025-10-19 16:01:35,363 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 16:01:35,363 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 16:01:35,364 INFO ü§ñ Starting background LLM analysis...
2025-10-19 16:01:35,364 INFO üîç Analysis flag set at 16:01:35
2025-10-19 16:01:35,364 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 16:01:35,706 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914895.706065, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:01:35,711 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:01:35,711 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-19 16:01:47,189 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:01:51,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:01:55,080 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:01:59,040 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:02,990 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:06,940 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:07,753 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914927.753089, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:02:07,758 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:02:07,758 WARNING üö´ LLM request blocked: Too soon (wait 27.6s more, min interval: 60s)
2025-10-19 16:02:10,890 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:14,842 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:18,791 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:22,745 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:26,701 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:30,662 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:34,622 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:38,595 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:02:38,772 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914958.7728698, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:02:38,778 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:02:38,778 INFO ‚úÖ LLM request allowed: OK (last request 63.4s ago)
2025-10-19 16:02:38,778 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 16:02:38,781 INFO feature comparison prepared
2025-10-19 16:02:42,458 INFO ‚úÖ LLM analysis completed in 67.09s
2025-10-19 16:02:42,458 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 16:02:42,458 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 16:02:42,458 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 16:02:42,459 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 16:02:42,459 INFO üîì LLM analysis flag cleared after 67.09s
2025-10-19 16:02:42,559 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.2s more, min interval: 60s)
2025-10-19 16:02:46,526 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.3s more, min interval: 60s)
2025-10-19 16:02:50,490 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.3s more, min interval: 60s)
2025-10-19 16:02:54,455 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.3s more, min interval: 60s)
2025-10-19 16:02:58,431 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.3s more, min interval: 60s)
2025-10-19 16:03:02,406 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.4s more, min interval: 60s)
2025-10-19 16:03:06,379 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.4s more, min interval: 60s)
2025-10-19 16:03:10,351 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.4s more, min interval: 60s)
2025-10-19 16:03:10,829 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760914990.828798, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:03:10,834 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:03:10,834 WARNING üö´ LLM request blocked: Too soon (wait 27.9s more, min interval: 60s)
2025-10-19 16:03:14,327 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.5s more, min interval: 60s)
2025-10-19 16:03:18,324 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.5s more, min interval: 60s)
2025-10-19 16:03:22,302 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.5s more, min interval: 60s)
2025-10-19 16:03:26,124 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 16:03:26,125 INFO üìä LLM analyses keys: dict_keys(['gemini'])
2025-10-19 16:03:26,125 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 16:03:26,125 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 16:03:26,125 INFO ‚úÖ Saved analysis to history (id: 1760915006125)
2025-10-19 16:03:26,125 INFO multi-llm analysis completed id=Fault-2
2025-10-19 16:03:26,290 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.5s more, min interval: 60s)
2025-10-19 16:03:30,287 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.5s more, min interval: 60s)
2025-10-19 16:03:34,288 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.5s more, min interval: 60s)
2025-10-19 16:04:58,056 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 16:06:08,569 INFO ‚úÖ LLM request allowed - OK (last request 1760915168.6s ago)
2025-10-19 16:06:08,570 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 16:06:08,571 INFO ü§ñ Starting background LLM analysis...
2025-10-19 16:06:08,571 INFO üîç Analysis flag set at 16:06:08
2025-10-19 16:06:08,571 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 16:06:13,404 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760915173.40381, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:06:13,409 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:06:13,409 WARNING üö´ LLM request blocked: Too soon (wait 55.2s more, min interval: 60s)
2025-10-19 16:06:41,878 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:06:45,583 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:06:46,325 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760915206.325228, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:06:46,330 INFO explain start id=Fault-3 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:06:46,330 WARNING üö´ LLM request blocked: Too soon (wait 22.2s more, min interval: 60s)
2025-10-19 16:06:49,292 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:06:53,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:06:56,719 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:00,433 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:04,147 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:07,861 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:11,564 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:14,423 INFO ‚úÖ LLM analysis completed in 65.85s
2025-10-19 16:07:14,424 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 16:07:14,424 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 16:07:14,424 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 16:07:14,426 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 16:07:14,426 INFO üîì LLM analysis flag cleared after 65.85s
2025-10-19 16:07:15,286 INFO ‚úÖ LLM request allowed - OK (last request 66.7s ago)
2025-10-19 16:07:15,286 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 16:07:15,287 INFO ü§ñ Starting background LLM analysis...
2025-10-19 16:07:15,287 INFO üîç Analysis flag set at 16:07:15
2025-10-19 16:07:15,287 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 16:07:19,383 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760915239.383231, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:07:19,395 INFO explain start id=Fault-3 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:07:19,395 WARNING üö´ LLM request blocked: Too soon (wait 55.9s more, min interval: 60s)
2025-10-19 16:07:26,453 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:30,179 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:33,893 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:37,621 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:41,344 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:45,078 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:48,814 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:49,424 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760915269.424133, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 16:07:49,435 INFO explain start id=Fault-3 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 16:07:49,435 WARNING üö´ LLM request blocked: Too soon (wait 25.9s more, min interval: 60s)
2025-10-19 16:07:52,547 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:07:56,284 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:08:00,029 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:08:03,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:08:07,514 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:08:11,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 16:08:11,775 INFO ‚úÖ LLM analysis completed in 56.49s
2025-10-19 16:08:11,777 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 16:08:11,778 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 16:08:11,778 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 16:08:11,780 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 16:08:11,780 INFO üîì LLM analysis flag cleared after 56.49s
2025-10-19 16:08:15,002 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.3s more, min interval: 60s)
2025-10-19 19:47:16,122 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 19:49:20,719 INFO ‚úÖ LLM request allowed - OK (last request 1760928560.7s ago)
2025-10-19 19:49:20,721 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 19:49:20,723 INFO ü§ñ Starting background LLM analysis...
2025-10-19 19:49:20,723 INFO üîç Analysis flag set at 19:49:20
2025-10-19 19:49:20,723 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 19:49:26,518 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760928566.517963, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:49:26,542 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:49:26,542 WARNING üö´ LLM request blocked: Too soon (wait 54.2s more, min interval: 60s)
2025-10-19 19:49:31,846 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:35,559 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:39,273 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:42,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:46,716 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:50,446 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:54,174 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:57,906 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:49:58,289 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928598.289414, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:49:58,295 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:49:58,295 WARNING üö´ LLM request blocked: Too soon (wait 22.4s more, min interval: 60s)
2025-10-19 19:50:01,634 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:05,345 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:09,075 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:12,802 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:15,497 INFO ‚úÖ LLM analysis completed in 54.77s
2025-10-19 19:50:15,503 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 19:50:15,503 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 19:50:15,507 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 19:50:15,507 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 19:50:15,507 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 19:50:15,508 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 19:50:15,508 INFO üîì LLM analysis flag cleared after 54.79s
2025-10-19 19:50:16,534 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-19 19:50:20,273 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.5s more, min interval: 60s)
2025-10-19 19:50:24,010 INFO ‚úÖ LLM request allowed - OK (last request 63.3s ago)
2025-10-19 19:50:24,011 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 19:50:24,011 INFO ü§ñ Starting background LLM analysis...
2025-10-19 19:50:24,011 INFO üîç Analysis flag set at 19:50:24
2025-10-19 19:50:24,011 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 19:50:28,290 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928628.290545, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:50:28,294 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:50:28,294 WARNING üö´ LLM request blocked: Too soon (wait 55.7s more, min interval: 60s)
2025-10-19 19:50:35,236 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:38,983 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:42,728 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:46,478 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:50,226 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:53,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:57,703 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:50:58,333 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928658.333704, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:50:58,342 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:50:58,342 WARNING üö´ LLM request blocked: Too soon (wait 25.7s more, min interval: 60s)
2025-10-19 19:51:01,457 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:05,210 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:08,962 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:12,726 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:16,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:20,232 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:20,247 INFO ‚úÖ Saved snapshot: trigger anomaly
2025-10-19 19:51:23,995 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:27,751 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:51:28,366 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928688.366557, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:51:28,377 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:51:28,377 INFO ‚úÖ LLM request allowed: OK (last request 64.4s ago)
2025-10-19 19:51:28,378 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 19:51:28,383 INFO feature comparison prepared
2025-10-19 19:51:29,096 INFO ‚úÖ LLM analysis completed in 65.08s
2025-10-19 19:51:29,098 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 19:51:29,098 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 19:51:29,099 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 19:51:29,099 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 19:51:29,099 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 19:51:29,101 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 19:51:29,101 INFO üîì LLM analysis flag cleared after 65.09s
2025-10-19 19:51:31,519 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.9s more, min interval: 60s)
2025-10-19 19:51:35,278 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 53.1s more, min interval: 60s)
2025-10-19 19:51:39,034 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.3s more, min interval: 60s)
2025-10-19 19:51:42,814 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.6s more, min interval: 60s)
2025-10-19 19:51:46,589 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.8s more, min interval: 60s)
2025-10-19 19:51:50,369 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.0s more, min interval: 60s)
2025-10-19 19:51:54,145 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.2s more, min interval: 60s)
2025-10-19 19:51:57,907 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.5s more, min interval: 60s)
2025-10-19 19:51:58,398 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928718.398688, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:51:58,404 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:51:58,404 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-19 19:52:01,683 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.7s more, min interval: 60s)
2025-10-19 19:52:05,461 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.9s more, min interval: 60s)
2025-10-19 19:52:09,242 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.1s more, min interval: 60s)
2025-10-19 19:52:13,031 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.3s more, min interval: 60s)
2025-10-19 19:52:16,820 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.6s more, min interval: 60s)
2025-10-19 19:52:20,611 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.8s more, min interval: 60s)
2025-10-19 19:52:24,384 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.0s more, min interval: 60s)
2025-10-19 19:52:28,179 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-19 19:52:28,456 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928748.4567869, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:52:28,469 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:52:28,469 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-19 19:52:28,469 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 19:52:28,473 INFO feature comparison prepared
2025-10-19 19:52:31,969 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.5s more, min interval: 60s)
2025-10-19 19:52:35,762 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.7s more, min interval: 60s)
2025-10-19 19:52:39,549 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.9s more, min interval: 60s)
2025-10-19 19:52:43,346 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.1s more, min interval: 60s)
2025-10-19 19:52:47,143 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.3s more, min interval: 60s)
2025-10-19 19:52:50,943 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.5s more, min interval: 60s)
2025-10-19 19:52:54,744 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.7s more, min interval: 60s)
2025-10-19 19:52:55,283 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 19:52:55,284 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 19:52:55,284 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 19:52:55,284 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 19:52:55,285 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 19:52:55,285 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 19:52:55,286 INFO ‚úÖ Saved analysis to history (id: 1760928775285)
2025-10-19 19:52:55,286 INFO multi-llm analysis completed id=Fault-2
2025-10-19 19:52:58,541 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.9s more, min interval: 60s)
2025-10-19 19:53:02,342 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.1s more, min interval: 60s)
2025-10-19 19:53:06,149 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.3s more, min interval: 60s)
2025-10-19 19:53:09,956 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.5s more, min interval: 60s)
2025-10-19 19:53:13,760 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.7s more, min interval: 60s)
2025-10-19 19:53:17,571 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.9s more, min interval: 60s)
2025-10-19 19:53:21,386 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.1s more, min interval: 60s)
2025-10-19 19:53:25,189 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.3s more, min interval: 60s)
2025-10-19 19:53:28,996 INFO ‚úÖ LLM request allowed - OK (last request 60.5s ago)
2025-10-19 19:53:28,997 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 19:53:28,997 INFO ü§ñ Starting background LLM analysis...
2025-10-19 19:53:28,997 INFO üîç Analysis flag set at 19:53:28
2025-10-19 19:53:28,997 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 19:53:31,917 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928811.917355, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:53:31,933 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:53:31,934 WARNING üö´ LLM request blocked: Too soon (wait 57.1s more, min interval: 60s)
2025-10-19 19:53:40,436 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:53:44,263 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:53:48,089 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:53:51,898 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:53:52,157 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 19:53:52,157 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 19:53:52,157 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 19:53:52,157 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 19:53:52,158 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 19:53:52,159 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 19:53:52,159 INFO ‚úÖ Saved analysis to history (id: 1760928832159)
2025-10-19 19:53:52,159 INFO multi-llm analysis completed id=Fault-2
2025-10-19 19:53:55,695 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:53:59,540 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:03,368 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:03,696 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760928843.696738, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:54:03,777 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:54:03,778 WARNING üö´ LLM request blocked: Too soon (wait 25.2s more, min interval: 60s)
2025-10-19 19:54:07,200 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:11,028 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:11,402 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760928851.402731, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:54:11,408 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:54:11,409 WARNING üö´ LLM request blocked: Too soon (wait 17.6s more, min interval: 60s)
2025-10-19 19:54:14,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:18,670 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:22,495 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:26,320 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:30,157 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:34,008 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:54:34,047 INFO ‚úÖ LLM analysis completed in 65.05s
2025-10-19 19:54:34,048 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 19:54:34,048 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 19:54:34,048 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 19:54:34,048 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 19:54:34,048 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 19:54:34,048 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 19:54:34,049 INFO üîì LLM analysis flag cleared after 65.05s
2025-10-19 19:54:34,593 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760928874.59335, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:54:34,607 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:54:34,607 INFO ‚úÖ LLM request allowed: OK (last request 65.6s ago)
2025-10-19 19:54:34,607 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 19:54:34,610 INFO feature comparison prepared
2025-10-19 19:54:37,849 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.8s more, min interval: 60s)
2025-10-19 19:54:41,691 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.9s more, min interval: 60s)
2025-10-19 19:54:42,423 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760928882.422904, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:54:42,426 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:54:42,426 WARNING üö´ LLM request blocked: Too soon (wait 52.2s more, min interval: 60s)
2025-10-19 19:54:45,540 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.1s more, min interval: 60s)
2025-10-19 19:54:49,375 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.2s more, min interval: 60s)
2025-10-19 19:54:53,226 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.4s more, min interval: 60s)
2025-10-19 19:54:57,090 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.5s more, min interval: 60s)
2025-10-19 19:55:00,949 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.7s more, min interval: 60s)
2025-10-19 19:55:04,806 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.8s more, min interval: 60s)
2025-10-19 19:55:05,654 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760928905.654678, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:55:05,679 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:55:05,680 WARNING üö´ LLM request blocked: Too soon (wait 28.9s more, min interval: 60s)
2025-10-19 19:55:08,654 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.0s more, min interval: 60s)
2025-10-19 19:55:12,505 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.1s more, min interval: 60s)
2025-10-19 19:55:13,470 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760928913.4701061, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:55:13,477 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:55:13,477 WARNING üö´ LLM request blocked: Too soon (wait 21.1s more, min interval: 60s)
2025-10-19 19:55:16,362 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.2s more, min interval: 60s)
2025-10-19 19:55:20,218 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.4s more, min interval: 60s)
2025-10-19 19:55:24,071 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 10.5s more, min interval: 60s)
2025-10-19 19:55:26,157 INFO üí¨ Chat request - Mode: pinned, Model: gemini, Query: summarize the two gemini and claude root cause for...
2025-10-19 19:55:26,204 INFO ‚úÖ Found analysis snapshot: 1760914774956
2025-10-19 19:55:26,204 INFO üìã Loaded context for analysis 1760914774956 (16081 chars)
2025-10-19 19:55:26,204 WARNING ‚ö†Ô∏è RAG search failed: 'bool' object is not iterable
2025-10-19 19:55:27,929 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.7s more, min interval: 60s)
2025-10-19 19:55:31,799 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.8s more, min interval: 60s)
2025-10-19 19:55:35,659 INFO ‚úÖ LLM request allowed - OK (last request 61.1s ago)
2025-10-19 19:55:35,660 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 19:55:35,660 INFO ü§ñ Starting background LLM analysis...
2025-10-19 19:55:35,660 INFO üîç Analysis flag set at 19:55:35
2025-10-19 19:55:35,660 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 19:55:36,744 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760928936.7445278, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:55:36,790 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:55:36,790 WARNING üö´ LLM request blocked: Too soon (wait 58.9s more, min interval: 60s)
2025-10-19 19:55:43,506 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760928943.5060968, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:55:43,511 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:55:43,511 WARNING üö´ LLM request blocked: Too soon (wait 52.1s more, min interval: 60s)
2025-10-19 19:55:47,241 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:55:47,430 INFO ‚úÖ Gemini response generated with FULL RAG context
2025-10-19 19:55:51,105 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:55:54,987 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:55:58,857 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:02,732 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:06,609 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:06,809 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760928966.808718, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:56:06,882 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:56:06,882 WARNING üö´ LLM request blocked: Too soon (wait 28.8s more, min interval: 60s)
2025-10-19 19:56:10,486 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:14,355 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:14,540 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760928974.54014, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:56:14,546 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:56:14,546 WARNING üö´ LLM request blocked: Too soon (wait 21.1s more, min interval: 60s)
2025-10-19 19:56:18,230 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:22,100 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:24,971 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 19:56:24,973 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 19:56:24,973 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 19:56:24,974 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 19:56:24,976 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 19:56:24,976 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 19:56:24,977 INFO ‚úÖ Saved analysis to history (id: 1760928984976)
2025-10-19 19:56:24,978 INFO multi-llm analysis completed id=Fault-2
2025-10-19 19:56:25,980 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:28,091 INFO üí¨ Chat request - Mode: pinned, Model: gemini, Query: but I checked root cause 2 of gemini, I think it i...
2025-10-19 19:56:28,135 INFO ‚úÖ Found analysis snapshot: 1760914774956
2025-10-19 19:56:28,135 INFO üìã Loaded context for analysis 1760914774956 (16081 chars)
2025-10-19 19:56:28,135 WARNING ‚ö†Ô∏è RAG search failed: 'bool' object is not iterable
2025-10-19 19:56:29,858 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:33,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:37,624 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:37,897 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760928997.89699, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:56:38,014 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:56:38,014 INFO ‚úÖ LLM request allowed: OK (last request 62.4s ago)
2025-10-19 19:56:38,014 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 19:56:38,018 INFO feature comparison prepared
2025-10-19 19:56:41,515 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:56:43,776 INFO ‚úÖ LLM analysis completed in 68.12s
2025-10-19 19:56:43,778 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 19:56:43,778 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 19:56:43,779 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 19:56:43,779 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 19:56:43,779 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 19:56:43,780 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 19:56:43,781 INFO üîì LLM analysis flag cleared after 68.12s
2025-10-19 19:56:45,427 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.6s more, min interval: 60s)
2025-10-19 19:56:45,574 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929005.5748649, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:56:45,579 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:56:45,579 WARNING üö´ LLM request blocked: Too soon (wait 52.4s more, min interval: 60s)
2025-10-19 19:56:47,964 INFO ‚úÖ Gemini response generated with FULL RAG context
2025-10-19 19:56:49,321 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.7s more, min interval: 60s)
2025-10-19 19:56:53,215 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.8s more, min interval: 60s)
2025-10-19 19:56:57,116 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.9s more, min interval: 60s)
2025-10-19 19:57:01,016 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.0s more, min interval: 60s)
2025-10-19 19:57:04,918 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-19 19:57:08,812 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.2s more, min interval: 60s)
2025-10-19 19:57:09,828 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929029.827838, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:57:09,863 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:57:09,863 WARNING üö´ LLM request blocked: Too soon (wait 28.2s more, min interval: 60s)
2025-10-19 19:57:12,699 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.3s more, min interval: 60s)
2025-10-19 19:57:16,602 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.4s more, min interval: 60s)
2025-10-19 19:57:17,609 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929037.609185, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:57:17,615 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:57:17,615 WARNING üö´ LLM request blocked: Too soon (wait 20.4s more, min interval: 60s)
2025-10-19 19:57:20,523 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.5s more, min interval: 60s)
2025-10-19 19:57:24,426 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.6s more, min interval: 60s)
2025-10-19 19:57:28,336 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.7s more, min interval: 60s)
2025-10-19 19:57:32,240 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.8s more, min interval: 60s)
2025-10-19 19:57:36,148 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.9s more, min interval: 60s)
2025-10-19 19:57:40,054 INFO ‚úÖ LLM request allowed - OK (last request 62.0s ago)
2025-10-19 19:57:40,054 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 19:57:40,055 INFO ü§ñ Starting background LLM analysis...
2025-10-19 19:57:40,055 INFO üîç Analysis flag set at 19:57:40
2025-10-19 19:57:40,055 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 19:57:40,996 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929060.996384, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:57:41,094 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:57:41,094 WARNING üö´ LLM request blocked: Too soon (wait 59.0s more, min interval: 60s)
2025-10-19 19:57:48,648 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929068.6482718, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:57:48,653 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:57:48,653 WARNING üö´ LLM request blocked: Too soon (wait 51.4s more, min interval: 60s)
2025-10-19 19:57:51,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:57:55,730 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:57:59,657 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:03,584 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:07,526 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:11,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:11,979 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929091.979588, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:58:12,040 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:58:12,040 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-19 19:58:15,361 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:19,295 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:19,685 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929099.684994, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:58:19,691 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:58:19,691 WARNING üö´ LLM request blocked: Too soon (wait 20.4s more, min interval: 60s)
2025-10-19 19:58:23,229 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:27,158 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:28,998 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 19:58:28,998 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 19:58:28,998 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 19:58:28,999 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 19:58:28,999 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 19:58:28,999 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 19:58:29,000 INFO ‚úÖ Saved analysis to history (id: 1760929108999)
2025-10-19 19:58:29,000 INFO multi-llm analysis completed id=Fault-2
2025-10-19 19:58:31,076 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:35,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:38,937 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:42,874 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:44,029 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929124.028778, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:58:44,110 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:58:44,110 INFO ‚úÖ LLM request allowed: OK (last request 64.1s ago)
2025-10-19 19:58:44,110 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 19:58:44,115 INFO feature comparison prepared
2025-10-19 19:58:46,812 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:50,758 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 19:58:51,864 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929131.864631, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:58:51,870 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:58:51,870 WARNING üö´ LLM request blocked: Too soon (wait 52.2s more, min interval: 60s)
2025-10-19 19:58:53,832 INFO ‚úÖ LLM analysis completed in 73.78s
2025-10-19 19:58:53,833 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 19:58:53,833 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 19:58:53,834 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 19:58:53,834 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 19:58:53,834 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 19:58:53,835 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 19:58:53,835 INFO üîì LLM analysis flag cleared after 73.78s
2025-10-19 19:58:54,690 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.4s more, min interval: 60s)
2025-10-19 19:58:58,641 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.5s more, min interval: 60s)
2025-10-19 19:59:02,581 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.5s more, min interval: 60s)
2025-10-19 19:59:06,524 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.6s more, min interval: 60s)
2025-10-19 19:59:10,468 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.6s more, min interval: 60s)
2025-10-19 19:59:14,420 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.7s more, min interval: 60s)
2025-10-19 19:59:14,997 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929154.9977448, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:59:15,021 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:59:15,021 WARNING üö´ LLM request blocked: Too soon (wait 29.1s more, min interval: 60s)
2025-10-19 19:59:18,368 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.7s more, min interval: 60s)
2025-10-19 19:59:22,304 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.8s more, min interval: 60s)
2025-10-19 19:59:22,879 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929162.879528, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:59:22,884 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:59:22,884 WARNING üö´ LLM request blocked: Too soon (wait 21.2s more, min interval: 60s)
2025-10-19 19:59:26,258 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.9s more, min interval: 60s)
2025-10-19 19:59:30,207 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.9s more, min interval: 60s)
2025-10-19 19:59:34,167 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.9s more, min interval: 60s)
2025-10-19 19:59:38,135 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-19 19:59:42,095 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.0s more, min interval: 60s)
2025-10-19 19:59:46,049 INFO ‚úÖ LLM request allowed - OK (last request 61.9s ago)
2025-10-19 19:59:46,050 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 19:59:46,050 INFO ü§ñ Starting background LLM analysis...
2025-10-19 19:59:46,050 INFO üîç Analysis flag set at 19:59:46
2025-10-19 19:59:46,050 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 19:59:47,116 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929187.1161642, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:59:47,206 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:59:47,207 WARNING üö´ LLM request blocked: Too soon (wait 58.8s more, min interval: 60s)
2025-10-19 19:59:54,933 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929194.9328299, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 19:59:54,937 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 19:59:54,937 WARNING üö´ LLM request blocked: Too soon (wait 51.1s more, min interval: 60s)
2025-10-19 19:59:57,945 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:01,912 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:04,728 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 20:00:04,728 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 20:00:04,728 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 20:00:04,728 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 20:00:04,730 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 20:00:04,732 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 20:00:04,733 INFO ‚úÖ Saved analysis to history (id: 1760929204732)
2025-10-19 20:00:04,733 INFO multi-llm analysis completed id=Fault-2
2025-10-19 20:00:05,879 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:09,858 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:13,841 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:17,811 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:18,152 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929218.152256, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 20:00:18,267 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 20:00:18,267 WARNING üö´ LLM request blocked: Too soon (wait 27.8s more, min interval: 60s)
2025-10-19 20:00:21,795 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:25,736 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:25,988 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929225.9889019, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 20:00:25,994 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 20:00:25,994 WARNING üö´ LLM request blocked: Too soon (wait 20.1s more, min interval: 60s)
2025-10-19 20:00:29,710 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:33,680 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:37,661 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:41,637 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:45,610 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:49,594 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:50,182 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929250.1823418, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 20:00:50,251 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 20:00:50,252 INFO ‚úÖ LLM request allowed: OK (last request 64.2s ago)
2025-10-19 20:00:50,252 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 20:00:50,256 INFO feature comparison prepared
2025-10-19 20:00:53,576 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:57,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:00:58,017 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929258.0175931, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 20:00:58,022 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 20:00:58,022 WARNING üö´ LLM request blocked: Too soon (wait 52.2s more, min interval: 60s)
2025-10-19 20:01:01,553 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:01:05,537 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:01:09,510 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 20:01:11,960 INFO ‚úÖ LLM analysis completed in 85.91s
2025-10-19 20:01:11,963 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 20:01:11,963 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 20:01:11,964 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 20:01:11,965 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 20:01:11,965 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 20:01:11,966 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 20:01:11,966 INFO üîì LLM analysis flag cleared after 85.92s
2025-10-19 20:01:13,495 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.8s more, min interval: 60s)
2025-10-19 20:01:17,473 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.8s more, min interval: 60s)
2025-10-19 20:01:21,491 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.8s more, min interval: 60s)
2025-10-19 20:01:22,068 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component D in Purge, Component H in Product, Recycle Flow; Resolved: Component B to Reactor, Component C to Reactor, Component D in Product', 'last_check_time': 1760929282.068516, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 20:01:22,072 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 20:01:22,073 WARNING üö´ LLM request blocked: Too soon (wait 28.2s more, min interval: 60s)
2025-10-19 20:01:25,496 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.8s more, min interval: 60s)
2025-10-19 20:01:29,487 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.8s more, min interval: 60s)
2025-10-19 20:01:30,052 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: Component B to Reactor, Component C to Reactor, Component D in Product; Resolved: Component D in Purge, Component H in Product, Recycle Flow', 'last_check_time': 1760929290.0525749, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 20:01:30,057 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 20:01:30,057 WARNING üö´ LLM request blocked: Too soon (wait 20.2s more, min interval: 60s)
2025-10-19 20:01:33,488 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.8s more, min interval: 60s)
2025-10-19 21:02:38,422 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 21:03:31,186 INFO ‚úÖ LLM request allowed - OK (last request 1760933011.2s ago)
2025-10-19 21:03:31,187 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:03:31,188 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:03:31,188 INFO üîç Analysis flag set at 21:03:31
2025-10-19 21:03:31,188 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:03:35,315 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760933015.31537, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:03:35,322 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:03:35,322 WARNING üö´ LLM request blocked: Too soon (wait 55.9s more, min interval: 60s)
2025-10-19 21:03:42,283 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:03:45,984 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:03:49,689 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:03:53,394 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:03:57,103 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:00,808 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:04,519 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:05,338 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933045.3386629, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:04:05,343 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:04:05,344 WARNING üö´ LLM request blocked: Too soon (wait 25.8s more, min interval: 60s)
2025-10-19 21:04:08,228 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:11,942 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:14,084 INFO ‚úÖ LLM analysis completed in 42.90s
2025-10-19 21:04:14,087 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:04:14,088 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:04:14,090 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:04:14,090 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:04:14,090 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:04:14,092 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:04:14,092 INFO üîì LLM analysis flag cleared after 42.90s
2025-10-19 21:04:15,654 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.5s more, min interval: 60s)
2025-10-19 21:04:19,373 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.8s more, min interval: 60s)
2025-10-19 21:04:23,088 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.1s more, min interval: 60s)
2025-10-19 21:04:26,806 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.4s more, min interval: 60s)
2025-10-19 21:04:30,507 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.7s more, min interval: 60s)
2025-10-19 21:04:34,227 INFO ‚úÖ LLM request allowed - OK (last request 63.0s ago)
2025-10-19 21:04:34,228 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:04:34,229 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:04:34,229 INFO üîç Analysis flag set at 21:04:34
2025-10-19 21:04:34,229 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:04:38,382 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933078.3821068, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:04:38,385 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:04:38,385 WARNING üö´ LLM request blocked: Too soon (wait 55.8s more, min interval: 60s)
2025-10-19 21:04:45,393 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:49,121 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:52,848 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:04:56,577 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:00,307 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:04,036 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:07,767 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:08,546 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933108.545789, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:05:08,551 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:05:08,551 WARNING üö´ LLM request blocked: Too soon (wait 25.7s more, min interval: 60s)
2025-10-19 21:05:11,504 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:15,239 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:18,978 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:22,715 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:23,391 INFO ‚úÖ LLM analysis completed in 49.16s
2025-10-19 21:05:23,392 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:05:23,392 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:05:23,393 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:05:23,393 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:05:23,393 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:05:23,395 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:05:23,395 INFO üîì LLM analysis flag cleared after 49.17s
2025-10-19 21:05:26,452 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.8s more, min interval: 60s)
2025-10-19 21:05:30,190 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.0s more, min interval: 60s)
2025-10-19 21:05:33,931 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.3s more, min interval: 60s)
2025-10-19 21:05:37,675 INFO ‚úÖ LLM request allowed - OK (last request 63.4s ago)
2025-10-19 21:05:37,676 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:05:37,677 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:05:37,677 INFO üîç Analysis flag set at 21:05:37
2025-10-19 21:05:37,677 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:05:38,573 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933138.573206, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:05:38,578 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:05:38,578 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-19 21:05:48,914 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:52,665 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:05:56,410 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:00,158 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:03,903 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:07,659 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:08,616 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933168.6160378, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:06:08,620 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:06:08,620 WARNING üö´ LLM request blocked: Too soon (wait 29.1s more, min interval: 60s)
2025-10-19 21:06:11,403 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:15,163 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:17,491 INFO ‚úÖ LLM analysis completed in 39.81s
2025-10-19 21:06:17,492 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:06:17,492 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:06:17,493 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:06:17,493 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:06:17,493 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:06:17,495 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:06:17,495 INFO üîì LLM analysis flag cleared after 39.82s
2025-10-19 21:06:18,923 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.8s more, min interval: 60s)
2025-10-19 21:06:22,683 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.0s more, min interval: 60s)
2025-10-19 21:06:26,441 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.2s more, min interval: 60s)
2025-10-19 21:06:30,212 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.5s more, min interval: 60s)
2025-10-19 21:06:33,984 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.7s more, min interval: 60s)
2025-10-19 21:06:37,748 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-19 21:06:37,749 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:06:37,750 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:06:37,750 INFO üîç Analysis flag set at 21:06:37
2025-10-19 21:06:37,750 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:06:38,655 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933198.655343, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:06:38,660 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:06:38,660 WARNING üö´ LLM request blocked: Too soon (wait 59.1s more, min interval: 60s)
2025-10-19 21:06:49,055 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:52,827 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:06:56,592 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:00,365 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:04,141 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:07,919 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:08,701 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933228.7015822, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:07:08,706 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:07:08,706 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 21:07:11,697 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:15,474 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:19,259 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:23,039 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:26,823 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:30,608 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:34,399 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:35,011 INFO ‚úÖ LLM analysis completed in 57.26s
2025-10-19 21:07:35,013 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:07:35,014 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:07:35,015 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:07:35,015 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:07:35,015 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:07:35,018 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:07:35,018 INFO üîì LLM analysis flag cleared after 57.27s
2025-10-19 21:07:38,189 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 21:07:38,190 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:07:38,191 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:07:38,191 INFO üîç Analysis flag set at 21:07:38
2025-10-19 21:07:38,191 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:07:38,743 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933258.743669, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:07:38,748 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:07:38,748 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-19 21:07:49,567 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:53,364 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:07:57,153 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:00,948 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:04,733 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:08,532 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:08,784 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933288.784758, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:08:08,789 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:08:08,789 WARNING üö´ LLM request blocked: Too soon (wait 29.4s more, min interval: 60s)
2025-10-19 21:08:12,342 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:16,151 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:19,957 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:23,766 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:27,573 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:31,387 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:35,204 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:39,020 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:39,822 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933319.8225348, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:08:39,827 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:08:39,827 INFO ‚úÖ LLM request allowed: OK (last request 61.6s ago)
2025-10-19 21:08:39,827 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 21:08:39,831 INFO feature comparison prepared
2025-10-19 21:08:42,838 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:08:43,004 INFO ‚úÖ LLM analysis completed in 64.81s
2025-10-19 21:08:43,006 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:08:43,006 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:08:43,007 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:08:43,007 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:08:43,007 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:08:43,008 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:08:43,008 INFO üîì LLM analysis flag cleared after 64.82s
2025-10-19 21:08:46,653 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 53.2s more, min interval: 60s)
2025-10-19 21:08:50,473 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.4s more, min interval: 60s)
2025-10-19 21:08:54,289 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.5s more, min interval: 60s)
2025-10-19 21:08:58,116 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.7s more, min interval: 60s)
2025-10-19 21:09:01,938 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.9s more, min interval: 60s)
2025-10-19 21:09:05,764 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.1s more, min interval: 60s)
2025-10-19 21:09:09,590 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.2s more, min interval: 60s)
2025-10-19 21:09:09,868 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933349.8678122, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:09:09,873 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:09:09,873 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-19 21:09:13,420 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.4s more, min interval: 60s)
2025-10-19 21:09:17,244 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 22.6s more, min interval: 60s)
2025-10-19 21:09:21,071 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 18.8s more, min interval: 60s)
2025-10-19 21:09:24,904 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 14.9s more, min interval: 60s)
2025-10-19 21:09:28,377 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 21:09:28,378 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 21:09:28,378 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 21:09:28,378 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 21:09:28,379 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 21:09:28,380 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 21:09:28,382 INFO ‚úÖ Saved analysis to history (id: 1760933368380)
2025-10-19 21:09:28,383 INFO multi-llm analysis completed id=Fault-2
2025-10-19 21:09:28,737 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.1s more, min interval: 60s)
2025-10-19 21:09:32,567 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.3s more, min interval: 60s)
2025-10-19 21:09:36,408 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.4s more, min interval: 60s)
2025-10-19 21:09:40,246 INFO ‚úÖ LLM request allowed - OK (last request 60.4s ago)
2025-10-19 21:09:40,247 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:09:40,247 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:09:40,247 INFO üîç Analysis flag set at 21:09:40
2025-10-19 21:09:40,247 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:09:40,907 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933380.907629, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:09:40,912 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:09:40,912 WARNING üö´ LLM request blocked: Too soon (wait 59.3s more, min interval: 60s)
2025-10-19 21:09:51,759 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:09:55,607 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:09:59,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:03,300 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:07,146 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:10,996 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:11,931 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933411.93133, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:10:11,937 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:10:11,937 WARNING üö´ LLM request blocked: Too soon (wait 28.3s more, min interval: 60s)
2025-10-19 21:10:14,840 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:18,698 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:22,551 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:26,404 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:30,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:34,113 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:37,978 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:41,828 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:41,979 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933441.979455, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:10:41,984 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:10:41,984 INFO ‚úÖ LLM request allowed: OK (last request 61.7s ago)
2025-10-19 21:10:41,984 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 21:10:41,985 INFO feature comparison prepared
2025-10-19 21:10:45,689 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:49,556 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:10:51,933 INFO ‚úÖ LLM analysis completed in 71.69s
2025-10-19 21:10:51,934 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:10:51,934 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:10:51,934 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:10:51,935 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:10:51,935 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:10:51,937 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:10:51,937 INFO üîì LLM analysis flag cleared after 71.69s
2025-10-19 21:10:53,418 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.6s more, min interval: 60s)
2025-10-19 21:10:57,281 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.7s more, min interval: 60s)
2025-10-19 21:11:01,144 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.8s more, min interval: 60s)
2025-10-19 21:11:05,016 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 37.0s more, min interval: 60s)
2025-10-19 21:11:08,883 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 33.1s more, min interval: 60s)
2025-10-19 21:11:12,777 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 29.2s more, min interval: 60s)
2025-10-19 21:11:13,024 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933473.02384, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:11:13,028 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:11:13,029 WARNING üö´ LLM request blocked: Too soon (wait 29.0s more, min interval: 60s)
2025-10-19 21:11:16,647 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 25.3s more, min interval: 60s)
2025-10-19 21:11:20,517 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 21.5s more, min interval: 60s)
2025-10-19 21:11:24,391 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 17.6s more, min interval: 60s)
2025-10-19 21:11:28,265 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.7s more, min interval: 60s)
2025-10-19 21:11:32,143 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.8s more, min interval: 60s)
2025-10-19 21:11:36,018 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.0s more, min interval: 60s)
2025-10-19 21:11:39,900 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.1s more, min interval: 60s)
2025-10-19 21:11:43,777 INFO ‚úÖ LLM request allowed - OK (last request 61.8s ago)
2025-10-19 21:11:43,778 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:11:43,778 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:11:43,778 INFO üîç Analysis flag set at 21:11:43
2025-10-19 21:11:43,778 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:11:44,059 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933504.059075, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:11:44,076 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:11:44,076 WARNING üö´ LLM request blocked: Too soon (wait 59.7s more, min interval: 60s)
2025-10-19 21:11:55,432 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:11:56,601 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 21:11:56,601 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 21:11:56,601 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 21:11:56,601 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 21:11:56,602 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 21:11:56,603 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 21:11:56,603 INFO ‚úÖ Saved analysis to history (id: 1760933516603)
2025-10-19 21:11:56,603 INFO multi-llm analysis completed id=Fault-2
2025-10-19 21:11:59,321 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:03,209 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:07,098 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:10,994 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:14,886 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:15,095 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933535.0952141, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:12:15,100 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:12:15,100 WARNING üö´ LLM request blocked: Too soon (wait 28.7s more, min interval: 60s)
2025-10-19 21:12:18,781 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:22,675 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:26,571 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:30,467 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:34,367 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:38,269 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:12:41,806 INFO ‚úÖ LLM analysis completed in 58.03s
2025-10-19 21:12:41,807 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:12:41,808 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:12:41,809 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:12:41,809 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:12:41,809 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:12:41,810 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:12:41,811 INFO üîì LLM analysis flag cleared after 58.03s
2025-10-19 21:12:42,170 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.6s more, min interval: 60s)
2025-10-19 21:12:46,072 INFO ‚úÖ LLM request allowed - OK (last request 62.3s ago)
2025-10-19 21:12:46,072 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:12:46,073 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:12:46,073 INFO üîç Analysis flag set at 21:12:46
2025-10-19 21:12:46,073 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:12:47,136 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933567.136498, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:12:47,140 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:12:47,141 WARNING üö´ LLM request blocked: Too soon (wait 58.9s more, min interval: 60s)
2025-10-19 21:12:57,814 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:01,720 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:05,629 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:09,540 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:13,456 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:17,376 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:18,176 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933598.176193, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:13:18,180 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:13:18,181 WARNING üö´ LLM request blocked: Too soon (wait 27.9s more, min interval: 60s)
2025-10-19 21:13:21,297 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:25,223 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:29,152 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:33,071 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:36,985 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:40,905 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:13:44,268 INFO ‚úÖ LLM analysis completed in 58.19s
2025-10-19 21:13:44,268 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:13:44,268 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:13:44,269 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:13:44,269 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:13:44,269 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:13:44,271 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:13:44,271 INFO üîì LLM analysis flag cleared after 58.20s
2025-10-19 21:13:44,838 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.2s more, min interval: 60s)
2025-10-19 21:13:47,863 INFO üí¨ Chat request - Mode: pinned, Model: anthropic, Query: I do not agree on Rott cause 1, it is impossible...
2025-10-19 21:13:47,914 INFO ‚úÖ Found analysis snapshot: 1760933516603
2025-10-19 21:13:47,914 INFO üìã Loaded context for analysis 1760933516603 (13577 chars)
2025-10-19 21:13:47,915 WARNING ‚ö†Ô∏è RAG search failed: 'bool' object is not iterable
2025-10-19 21:13:48,764 INFO ‚úÖ LLM request allowed - OK (last request 62.7s ago)
2025-10-19 21:13:48,765 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:13:48,765 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:13:48,765 INFO üîç Analysis flag set at 21:13:48
2025-10-19 21:13:48,765 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:13:49,224 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933629.224051, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:13:49,242 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:13:49,242 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-19 21:13:49,350 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933629.350516, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:13:49,355 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:13:49,355 WARNING üö´ LLM request blocked: Too soon (wait 59.4s more, min interval: 60s)
2025-10-19 21:13:55,426 INFO ‚úÖ Claude response generated with RAG context
2025-10-19 21:14:00,571 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:04,514 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:08,449 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:12,384 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:16,323 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:20,257 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:21,263 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933661.263466, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:14:21,267 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:14:21,267 WARNING üö´ LLM request blocked: Too soon (wait 27.5s more, min interval: 60s)
2025-10-19 21:14:24,197 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:28,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:32,072 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:36,015 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:39,959 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:43,908 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:47,856 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:51,801 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:14:52,297 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933692.297166, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:14:52,301 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:14:52,301 INFO ‚úÖ LLM request allowed: OK (last request 63.5s ago)
2025-10-19 21:14:52,301 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 21:14:52,304 INFO feature comparison prepared
2025-10-19 21:14:54,109 INFO ‚úÖ LLM analysis completed in 65.34s
2025-10-19 21:14:54,111 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:14:54,112 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:14:54,112 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:14:54,113 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:14:54,113 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:14:54,115 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:14:54,115 INFO üîì LLM analysis flag cleared after 65.35s
2025-10-19 21:14:55,748 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 56.6s more, min interval: 60s)
2025-10-19 21:14:59,700 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 52.6s more, min interval: 60s)
2025-10-19 21:15:03,654 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 48.6s more, min interval: 60s)
2025-10-19 21:15:07,606 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 44.7s more, min interval: 60s)
2025-10-19 21:15:11,560 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 40.7s more, min interval: 60s)
2025-10-19 21:15:15,533 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 36.8s more, min interval: 60s)
2025-10-19 21:15:17,709 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933717.709006, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:15:17,713 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:15:17,713 WARNING üö´ LLM request blocked: Too soon (wait 34.6s more, min interval: 60s)
2025-10-19 21:15:19,488 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 32.8s more, min interval: 60s)
2025-10-19 21:15:23,460 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 28.8s more, min interval: 60s)
2025-10-19 21:15:24,332 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933724.3317802, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:15:24,337 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:15:24,337 WARNING üö´ LLM request blocked: Too soon (wait 28.0s more, min interval: 60s)
2025-10-19 21:15:27,429 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 24.9s more, min interval: 60s)
2025-10-19 21:15:31,398 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 20.9s more, min interval: 60s)
2025-10-19 21:15:35,362 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 16.9s more, min interval: 60s)
2025-10-19 21:15:39,325 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 13.0s more, min interval: 60s)
2025-10-19 21:15:43,297 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 9.0s more, min interval: 60s)
2025-10-19 21:15:47,263 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 5.0s more, min interval: 60s)
2025-10-19 21:15:51,235 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 1.1s more, min interval: 60s)
2025-10-19 21:15:54,192 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary'])
2025-10-19 21:15:54,193 INFO üìä LLM analyses keys: dict_keys(['anthropic', 'gemini'])
2025-10-19 21:15:54,193 INFO üìä anthropic - status: success, has_analysis: True
2025-10-19 21:15:54,193 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 21:15:54,194 INFO ‚úÖ Saved anthropic analysis to MD file (/explain)
2025-10-19 21:15:54,195 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 21:15:54,197 INFO ‚úÖ Saved analysis to history (id: 1760933754196)
2025-10-19 21:15:54,197 INFO multi-llm analysis completed id=Fault-2
2025-10-19 21:15:55,220 INFO ‚úÖ LLM request allowed - OK (last request 62.9s ago)
2025-10-19 21:15:55,221 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:15:55,222 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:15:55,222 INFO üîç Analysis flag set at 21:15:55
2025-10-19 21:15:55,222 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:15:55,376 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933755.376277, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:15:55,395 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:15:55,395 WARNING üö´ LLM request blocked: Too soon (wait 59.8s more, min interval: 60s)
2025-10-19 21:16:07,153 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:11,145 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:15,122 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:19,103 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:23,091 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:27,075 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:27,417 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933787.4170492, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:16:27,421 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:16:27,422 WARNING üö´ LLM request blocked: Too soon (wait 27.8s more, min interval: 60s)
2025-10-19 21:16:31,059 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:35,043 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:39,029 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:43,017 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:16:43,503 INFO ‚úÖ LLM analysis completed in 48.28s
2025-10-19 21:16:43,505 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:16:43,505 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:16:43,506 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:16:43,506 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:16:43,506 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:16:43,508 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:16:43,508 INFO üîì LLM analysis flag cleared after 48.29s
2025-10-19 21:16:46,998 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-19 21:16:50,988 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.2s more, min interval: 60s)
2025-10-19 21:16:54,980 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.2s more, min interval: 60s)
2025-10-19 21:16:58,969 INFO ‚úÖ LLM request allowed - OK (last request 63.7s ago)
2025-10-19 21:16:58,970 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:16:58,970 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:16:58,970 INFO üîç Analysis flag set at 21:16:58
2025-10-19 21:16:58,970 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:16:59,455 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760933819.4548302, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:16:59,460 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:16:59,460 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-19 21:17:05,328 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933825.328181, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:17:05,333 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:17:05,334 WARNING üö´ LLM request blocked: Too soon (wait 53.6s more, min interval: 60s)
2025-10-19 21:17:10,975 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:14,974 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:18,976 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:23,011 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:27,012 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:31,032 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:31,503 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933851.5037508, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:17:31,508 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:17:31,509 WARNING üö´ LLM request blocked: Too soon (wait 27.5s more, min interval: 60s)
2025-10-19 21:17:35,036 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:35,649 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933855.6491551, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:17:35,661 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:17:35,661 WARNING üö´ LLM request blocked: Too soon (wait 23.3s more, min interval: 60s)
2025-10-19 21:17:39,044 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:43,048 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:17:46,657 INFO ‚úÖ LLM analysis completed in 47.69s
2025-10-19 21:17:46,659 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:17:46,659 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:17:46,660 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:17:46,660 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:17:46,660 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:17:46,661 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:17:46,661 INFO üîì LLM analysis flag cleared after 47.69s
2025-10-19 21:17:47,058 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 11.9s more, min interval: 60s)
2025-10-19 21:17:51,070 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 7.9s more, min interval: 60s)
2025-10-19 21:17:55,072 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 3.9s more, min interval: 60s)
2025-10-19 21:17:59,072 INFO ‚úÖ LLM request allowed - OK (last request 60.1s ago)
2025-10-19 21:17:59,073 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:17:59,074 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:17:59,074 INFO üîç Analysis flag set at 21:17:59
2025-10-19 21:17:59,074 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:18:03,544 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933883.544459, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:18:03,549 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:18:03,550 WARNING üö´ LLM request blocked: Too soon (wait 55.5s more, min interval: 60s)
2025-10-19 21:18:07,696 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933887.696775, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:18:07,707 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:18:07,708 WARNING üö´ LLM request blocked: Too soon (wait 51.4s more, min interval: 60s)
2025-10-19 21:18:11,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:15,166 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:19,205 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:23,223 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:27,249 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:31,275 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:35,303 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:35,576 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933915.576712, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:18:35,581 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:18:35,581 WARNING üö´ LLM request blocked: Too soon (wait 23.5s more, min interval: 60s)
2025-10-19 21:18:39,318 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:39,721 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933919.721587, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:18:39,731 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:18:39,731 WARNING üö´ LLM request blocked: Too soon (wait 19.3s more, min interval: 60s)
2025-10-19 21:18:43,354 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:47,390 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:51,424 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:55,464 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:59,506 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:18:59,785 INFO ‚úÖ LLM analysis completed in 60.71s
2025-10-19 21:18:59,787 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:18:59,787 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:18:59,788 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:18:59,789 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:18:59,789 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:18:59,790 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:18:59,790 INFO üîì LLM analysis flag cleared after 60.72s
2025-10-19 21:19:03,533 INFO ‚úÖ LLM request allowed - OK (last request 64.5s ago)
2025-10-19 21:19:03,534 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:19:03,535 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:19:03,535 INFO üîç Analysis flag set at 21:19:03
2025-10-19 21:19:03,535 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:19:08,608 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933948.608424, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:19:08,614 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:19:08,615 WARNING üö´ LLM request blocked: Too soon (wait 54.9s more, min interval: 60s)
2025-10-19 21:19:11,784 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933951.784592, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:19:11,797 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:19:11,798 WARNING üö´ LLM request blocked: Too soon (wait 51.7s more, min interval: 60s)
2025-10-19 21:19:15,654 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:19,704 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:23,746 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:27,788 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:31,831 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:35,866 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:39,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:40,671 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760933980.6713521, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:19:40,690 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:19:40,690 WARNING üö´ LLM request blocked: Too soon (wait 22.8s more, min interval: 60s)
2025-10-19 21:19:43,977 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:44,810 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760933984.8106308, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:19:44,821 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:19:44,821 WARNING üö´ LLM request blocked: Too soon (wait 18.7s more, min interval: 60s)
2025-10-19 21:19:48,035 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:52,095 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:19:56,155 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:00,216 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:03,775 INFO ‚úÖ LLM analysis completed in 60.24s
2025-10-19 21:20:03,778 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:20:03,778 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:20:03,779 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:20:03,779 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:20:03,779 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:20:03,781 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:20:03,781 INFO üîì LLM analysis flag cleared after 60.25s
2025-10-19 21:20:04,296 INFO ‚úÖ LLM request allowed - OK (last request 60.8s ago)
2025-10-19 21:20:04,297 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:20:04,297 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:20:04,297 INFO üîç Analysis flag set at 21:20:04
2025-10-19 21:20:04,297 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:20:12,699 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934012.6990988, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:20:12,704 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:20:12,704 WARNING üö´ LLM request blocked: Too soon (wait 51.6s more, min interval: 60s)
2025-10-19 21:20:16,509 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:16,848 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934016.848226, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:20:16,859 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:20:16,860 WARNING üö´ LLM request blocked: Too soon (wait 47.4s more, min interval: 60s)
2025-10-19 21:20:20,575 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:24,641 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:28,714 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:32,786 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:36,857 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:40,924 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:45,000 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:45,741 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934045.741686, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:20:45,746 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:20:45,747 WARNING üö´ LLM request blocked: Too soon (wait 18.6s more, min interval: 60s)
2025-10-19 21:20:49,080 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:49,883 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934049.883293, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:20:49,894 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:20:49,894 WARNING üö´ LLM request blocked: Too soon (wait 14.4s more, min interval: 60s)
2025-10-19 21:20:53,161 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:20:57,247 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:01,327 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:02,144 INFO ‚úÖ LLM analysis completed in 57.85s
2025-10-19 21:21:02,146 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:21:02,146 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:21:02,147 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:21:02,147 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:21:02,147 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:21:02,149 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:21:02,149 INFO üîì LLM analysis flag cleared after 57.85s
2025-10-19 21:21:05,403 INFO ‚úÖ LLM request allowed - OK (last request 61.1s ago)
2025-10-19 21:21:05,403 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:21:05,404 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:21:05,404 INFO üîç Analysis flag set at 21:21:05
2025-10-19 21:21:05,404 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:21:17,655 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:18,777 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934078.776779, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:21:18,781 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:21:18,781 WARNING üö´ LLM request blocked: Too soon (wait 46.6s more, min interval: 60s)
2025-10-19 21:21:21,741 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:21,939 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934081.938992, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:21:21,952 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:21:21,952 WARNING üö´ LLM request blocked: Too soon (wait 43.5s more, min interval: 60s)
2025-10-19 21:21:25,829 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:29,945 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:34,038 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:38,134 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:42,226 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:46,328 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:50,429 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:50,818 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934110.8179069, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:21:50,822 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:21:50,823 WARNING üö´ LLM request blocked: Too soon (wait 14.6s more, min interval: 60s)
2025-10-19 21:21:54,527 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:21:54,967 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934114.967255, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:21:54,979 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:21:54,979 WARNING üö´ LLM request blocked: Too soon (wait 10.4s more, min interval: 60s)
2025-10-19 21:21:55,140 INFO ‚úÖ LLM analysis completed in 49.74s
2025-10-19 21:21:55,141 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:21:55,141 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:21:55,142 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:21:55,142 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:21:55,142 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:21:55,144 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:21:55,144 INFO üîì LLM analysis flag cleared after 49.74s
2025-10-19 21:21:58,628 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 6.8s more, min interval: 60s)
2025-10-19 21:22:02,728 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 2.7s more, min interval: 60s)
2025-10-19 21:22:06,833 INFO ‚úÖ LLM request allowed - OK (last request 61.4s ago)
2025-10-19 21:22:06,834 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:22:06,834 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:22:06,834 INFO üîç Analysis flag set at 21:22:06
2025-10-19 21:22:06,834 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:22:19,156 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:23,261 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:23,867 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934143.8673742, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:22:23,872 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:22:23,872 WARNING üö´ LLM request blocked: Too soon (wait 43.0s more, min interval: 60s)
2025-10-19 21:22:27,391 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:27,998 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934147.9982169, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:22:28,008 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:22:28,008 WARNING üö´ LLM request blocked: Too soon (wait 38.8s more, min interval: 60s)
2025-10-19 21:22:31,505 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:35,615 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:39,735 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:43,833 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:47,947 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:52,063 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:56,182 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:22:56,897 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934176.8974578, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:22:56,901 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:22:56,901 WARNING üö´ LLM request blocked: Too soon (wait 9.9s more, min interval: 60s)
2025-10-19 21:23:00,301 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:01,070 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934181.070091, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:23:01,081 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:23:01,081 WARNING üö´ LLM request blocked: Too soon (wait 5.8s more, min interval: 60s)
2025-10-19 21:23:04,420 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:08,542 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:09,614 INFO ‚úÖ LLM analysis completed in 62.78s
2025-10-19 21:23:09,617 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:23:09,617 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:23:09,618 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:23:09,618 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:23:09,618 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:23:09,620 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:23:09,620 INFO üîì LLM analysis flag cleared after 62.79s
2025-10-19 21:23:12,671 INFO ‚úÖ LLM request allowed - OK (last request 65.8s ago)
2025-10-19 21:23:12,672 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:23:12,673 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:23:12,673 INFO üîç Analysis flag set at 21:23:12
2025-10-19 21:23:12,673 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:23:25,054 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:29,187 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:29,936 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934209.9363, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:23:29,941 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:23:29,941 WARNING üö´ LLM request blocked: Too soon (wait 42.7s more, min interval: 60s)
2025-10-19 21:23:33,320 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:34,101 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934214.101464, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:23:34,111 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:23:34,111 WARNING üö´ LLM request blocked: Too soon (wait 38.6s more, min interval: 60s)
2025-10-19 21:23:37,460 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:41,595 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:45,745 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:49,873 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:54,017 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:23:58,189 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:02,334 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:02,984 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component B to Reactor, Component D to Reactor, Component E to Reactor, E feed load, Reactor Level', 'last_check_time': 1760934242.983983, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:24:02,992 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:24:02,992 WARNING üö´ LLM request blocked: Too soon (wait 9.7s more, min interval: 60s)
2025-10-19 21:24:06,480 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:07,176 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A and C feed load, Component C to Reactor, Component G in Purge, D feed load, E Feed, Product Sep Underflow; Resolved: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load', 'last_check_time': 1760934247.176075, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:24:07,179 INFO explain start id=Fault-1 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:24:07,179 WARNING üö´ LLM request blocked: Too soon (wait 5.5s more, min interval: 60s)
2025-10-19 21:24:10,627 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:14,772 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:18,926 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:23,094 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:27,244 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:31,410 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:34,249 INFO ‚úÖ LLM analysis completed in 81.58s
2025-10-19 21:24:34,251 INFO ‚úÖ Saved anthropic analysis to MD file
2025-10-19 21:24:34,251 INFO ‚úÖ Updated anthropic independent manager with result
2025-10-19 21:24:34,252 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 21:24:34,252 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 21:24:34,252 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 21:24:34,254 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 21:24:34,254 INFO üîì LLM analysis flag cleared after 81.58s
2025-10-19 21:24:35,561 INFO ‚úÖ LLM request allowed - OK (last request 82.9s ago)
2025-10-19 21:24:35,561 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 21:24:35,562 INFO ü§ñ Starting background LLM analysis...
2025-10-19 21:24:35,562 INFO üîç Analysis flag set at 21:24:35
2025-10-19 21:24:35,562 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 21:24:36,016 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'New anomalies: A Feed, A feed load, Component F in Product, Component F in Purge, Reactor Temperature, Reactor coolant load; Resolved: A and C feed load, Component C to Reactor, Component G in Purge, D feed load, E Feed, Product Sep Underflow', 'last_check_time': 1760934276.016141, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:24:36,020 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:24:36,020 WARNING üö´ LLM request blocked: Too soon (wait 59.5s more, min interval: 60s)
2025-10-19 21:24:48,025 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:52,192 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:24:56,337 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:25:00,496 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:25:04,673 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:25:08,835 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:25:09,054 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760934309.0543308, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 21:25:09,082 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 21:25:09,083 WARNING üö´ LLM request blocked: Too soon (wait 26.5s more, min interval: 60s)
2025-10-19 21:25:13,006 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:25:17,201 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:25:21,402 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 21:26:38,138 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 22:39:02,832 INFO ‚úÖ Knowledge Manager initialized successfully
2025-10-19 22:39:47,518 INFO ‚úÖ LLM request allowed - OK (last request 1760938787.5s ago)
2025-10-19 22:39:47,521 ERROR ingest error: name 'now' is not defined
Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 812, in ingest_live_point
    _last_llm_trigger_time = now
                             ^^^
NameError: name 'now' is not defined. Did you mean: 'row'?
2025-10-19 22:39:47,523 INFO ü§ñ Starting background LLM analysis...
2025-10-19 22:39:47,523 INFO üîç Analysis flag set at 22:39:47
2025-10-19 22:39:47,523 INFO ‚è±Ô∏è Next LLM request allowed after 60s
2025-10-19 22:39:52,084 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'First anomaly detection', 'last_check_time': 1760938792.084814, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 22:39:52,091 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 22:39:52,091 WARNING üö´ LLM request blocked: Too soon (wait 55.4s more, min interval: 60s)
2025-10-19 22:39:58,585 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:02,278 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:05,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:09,663 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:13,354 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:17,048 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:20,747 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:24,444 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:25,118 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760938825.118509, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 22:40:25,122 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 22:40:25,122 WARNING üö´ LLM request blocked: Too soon (wait 22.4s more, min interval: 60s)
2025-10-19 22:40:28,143 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:31,850 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:35,556 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:39,262 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:42,972 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:46,681 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:50,389 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:54,099 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:57,809 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:40:58,159 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760938858.159728, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 22:40:58,164 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 22:40:58,164 INFO ‚úÖ LLM request allowed: OK (last request 70.6s ago)
2025-10-19 22:40:58,164 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 22:40:58,168 INFO feature comparison prepared
2025-10-19 22:41:01,524 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:41:05,239 INFO ‚è≠Ô∏è Skipping LLM trigger - analysis already in progress
2025-10-19 22:41:08,804 INFO ‚úÖ LLM analysis completed in 81.28s
2025-10-19 22:41:08,807 INFO ‚úÖ Saved gemini analysis to MD file
2025-10-19 22:41:08,807 INFO ‚úÖ Updated gemini independent manager with result
2025-10-19 22:41:08,807 ERROR ‚ùå Background LLM analysis failed: name 'now' is not defined
2025-10-19 22:41:08,809 ERROR üìã Traceback: Traceback (most recent call last):
  File "/Users/chennanli/Desktop/LLM_Project/TEP_demo/backend/app.py", line 750, in background_llm_analysis
    snap = {"id": int(time.time()*1000), "time": now, **formatted}
                                                 ^^^
NameError: name 'now' is not defined. Did you mean: 'pow'?

2025-10-19 22:41:08,809 INFO üîì LLM analysis flag cleared after 81.29s
2025-10-19 22:41:08,956 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.2s more, min interval: 60s)
2025-10-19 22:41:12,673 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.5s more, min interval: 60s)
2025-10-19 22:41:16,397 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 41.8s more, min interval: 60s)
2025-10-19 22:41:20,119 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.0s more, min interval: 60s)
2025-10-19 22:41:23,843 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.3s more, min interval: 60s)
2025-10-19 22:41:27,568 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.6s more, min interval: 60s)
2025-10-19 22:41:28,193 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760938888.192847, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 22:41:28,196 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 22:41:28,197 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
2025-10-19 22:41:31,291 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 26.9s more, min interval: 60s)
2025-10-19 22:41:35,020 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 23.1s more, min interval: 60s)
2025-10-19 22:41:38,750 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 19.4s more, min interval: 60s)
2025-10-19 22:41:42,475 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 15.7s more, min interval: 60s)
2025-10-19 22:41:46,204 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 12.0s more, min interval: 60s)
2025-10-19 22:41:48,614 INFO üìä Formatted results keys: dict_keys(['timestamp', 'feature_analysis', 'llm_analyses', 'performance_summary', 'sensor_data'])
2025-10-19 22:41:48,614 INFO üìä LLM analyses keys: dict_keys(['gemini'])
2025-10-19 22:41:48,614 INFO üìä gemini - status: success, has_analysis: True
2025-10-19 22:41:48,615 INFO ‚úÖ Saved gemini analysis to MD file (/explain)
2025-10-19 22:41:48,617 INFO ‚úÖ Saved analysis to history (id: 1760938908615)
2025-10-19 22:41:48,617 INFO multi-llm analysis completed id=Fault-2
2025-10-19 22:41:49,937 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 8.2s more, min interval: 60s)
2025-10-19 22:41:53,671 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 4.5s more, min interval: 60s)
2025-10-19 22:41:57,408 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 0.8s more, min interval: 60s)
2025-10-19 22:41:58,248 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760938918.24836, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 22:41:58,257 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 22:41:58,257 INFO ‚úÖ LLM request allowed: OK (last request 60.1s ago)
2025-10-19 22:41:58,257 WARNING ‚ö†Ô∏è Failed to trigger independent LLM analysis: 'IndependentLLMSystem' object has no attribute 'trigger_analysis'
2025-10-19 22:41:58,261 INFO feature comparison prepared
2025-10-19 22:42:01,148 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 57.1s more, min interval: 60s)
2025-10-19 22:42:04,885 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 53.4s more, min interval: 60s)
2025-10-19 22:42:08,625 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 49.6s more, min interval: 60s)
2025-10-19 22:42:12,366 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 45.9s more, min interval: 60s)
2025-10-19 22:42:16,109 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 42.1s more, min interval: 60s)
2025-10-19 22:42:19,849 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 38.4s more, min interval: 60s)
2025-10-19 22:42:23,599 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 34.7s more, min interval: 60s)
2025-10-19 22:42:27,343 INFO ‚è±Ô∏è Skipping LLM trigger - Too soon (wait 30.9s more, min interval: 60s)
2025-10-19 22:42:28,267 INFO üîç Anomaly change check: {'should_analyze': True, 'reason': 'Anomaly values changed significantly', 'last_check_time': 1760938948.267437, 'time_since_last': 0.0, 'current_anomaly_count': 6, 'previous_anomaly_count': 6}
2025-10-19 22:42:28,271 INFO explain start id=Fault-2 file=./fault0.csv - Using LOCAL LLM (Claude Desktop/Codex)
2025-10-19 22:42:28,271 WARNING üö´ LLM request blocked: Too soon (wait 30.0s more, min interval: 60s)
